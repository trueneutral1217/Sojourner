cscope 15 /c/Sojourner/Sojourner               0000127692
	@C:\Sojourner\Sojourner\Main.cpp

2 
	~"audio.h
"

3 
	~"bu‰Ú.h
"

4 
	~"Textu».h
"

5 
	~"tim”.h
"

6 
	~"·¹işe.h
"

7 
	~"§veGame.h
"

8 
	~"´egameui.h
"

9 
	~"ªim©iÚs.h
"

10 
	~"¡age.h
"

11 
	~"‹xt.h
"

14 cÚ¡ 
	gTOTAL_STATES
 = 6;

24 
boŞ
 
š™
();

26 
boŞ
 
lßdMedŸ
();

28 
şo£
();

30 
SDL_R’d””
* 
	g»nd””
 = 
NULL
;

32 
SDL_Wšdow
* 
	gwšdow
 = 
NULL
;

34 
§veGame
 
	g´eã»nûs
;

36 
§veGame
 
	g§vegame
;

38 
audio
 
	gmusic
;

40 
	g¡d
::
veùÜ
<
audio
> 
sounds
;

42 
audio
 
	gsound
;

44 
¡age
 
	g¡age
;

46 
´egameui
 
	g´egameui
;

48 
ªim©iÚs
 
	gªim©iÚs
;

50 
‹xt
 
	g‹xt
;

52 
tim”
 
	g¶ayedTime
;

56 
boŞ
 
lßdSounds
();

59 
	ggameS‹
;

61 
	gcho£nSave
;

63 
Textu»
 
	gbÏckGround
;

65 
boŞ
 
çdeOut
(
couÁedF¿mes
, boŞ 
çde
);

67 
boŞ
 
çdeIn
(
couÁedF¿mes
,boŞ 
çde
);

69 
boŞ
 
	$çdeIn
(
couÁedF¿mes
, 
boŞ
 
çde
)

71 
¡d
::
cout
<<"\n„unning fadeIn(int countedFrames, bool fade)";

72 
Ušt32
 
®pha
 = 255-(
couÁedF¿mes
%256);

73 
bÏckGround
.
	`£tAÍha
(
®pha
);

74 if(
couÁedF¿mes
%256>254)

76 
çde
=
çl£
;

78  
çde
;

79 
	}
}

81 
boŞ
 
	$çdeOut
(
couÁedF¿mes
, 
boŞ
 
çde
)

83 
¡d
::
cout
<<"\n„unning fadeOut(int countedFrames, bool fade)";

84 if(
couÁedF¿mes
%256 < 255)

86 
bÏckGround
.
	`£tAÍha
(
couÁedF¿mes
);

88 if(
couÁedF¿mes
%256>=255)

90 
çde
=
çl£
;

92  
çde
;

93 
	}
}

95 
boŞ
 
	$š™
()

97 
¡d
::
cout
<<"\n„unning init()";

99 
boŞ
 
sucûss
 = 
Œue
;

100 
gameS‹
 = 0;

102 ifĞ
	`SDL_In™
Ğ
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 ) < 0 )

104 
	`´štf
Ğ"\ÀSDL could‚Ù in™Ÿlize! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

105 
sucûss
 = 
çl£
;

110 ifĞ!
	`SDL_S‘Hšt
Ğ
SDL_HINT_RENDER_SCALE_QUALITY
, "1" ) )

112 
	`´štf
( "\n Warning: Linearexture filtering‚otƒnabled!" );

114 
wšdow
 = 
	`SDL_C»©eWšdow
Ğ"Sojouº”", 
SDL_WINDOWPOS_UNDEFINED
, SDL_WINDOWPOS_UNDEFINED, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
, 
SDL_WINDOW_SHOWN
 | 
SDL_WINDOW_RESIZABLE
 );

115 ifĞ
wšdow
 =ğ
NULL
 )

117 
	`´štf
Ğ"\ÀWšdow could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

118 
sucûss
 = 
çl£
;

120 
»nd””
 = 
	`SDL_C»©eR’d””
Ğ
wšdow
, -1, 
SDL_RENDERER_ACCELERATED
 );

121 ifĞ
»nd””
 =ğ
NULL
 )

123 
	`´štf
Ğ"\ÀR’d”” could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

124 
sucûss
 = 
çl£
;

129 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

131 
´egameui
.
	`ü—‹P¬tişes
(
»nd””
);

133 
imgFÏgs
 = 
IMG_INIT_PNG
;

134 ifĞ!Ğ
	`IMG_In™
Ğ
imgFÏgs
 ) & imgFlags ) )

136 
	`´štf
Ğ"\ÀSDL_imagcould‚Ù in™Ÿlize! SDL_imagE¼Ü: %s\n", 
	`IMG_G‘E¼Ü
() );

137 
sucûss
 = 
çl£
;

140 ifĞ
	`Mix_O³nAudio
Ğ44100, 
MIX_DEFAULT_FORMAT
, 2, 2048 ) < 0 )

142 
	`´štf
Ğ"\ÀSDL_mix” could‚Ù in™Ÿlize! SDL_mix” E¼Ü: %s\n", 
	`Mix_G‘E¼Ü
() );

143 
sucûss
 = 
çl£
;

145 ifĞ
	`TTF_In™
() == -1 )

147 
	`´štf
Ğ"\ÀSDL_‰àcould‚Ù in™Ÿlize! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

148 
sucûss
 = 
çl£
;

151  
sucûss
;

152 
	}
}

154 
boŞ
 
	$lßdSounds
()

156 
¡d
::
cout
<<"\n„unning†oadSounds()";

157 
boŞ
 
sucûss
 = 
Œue
;

159 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

161 
sounds
.
	`push_back
(
sound
);

164 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

166 
sounds
[
i
].
	`lßdSound
(i);

168  
sucûss
;

169 
	}
}

171 
boŞ
 
	$lßdMedŸ
()

173 
¡d
::
cout
<<"\n„unning†oadMedia()";

174 
boŞ
 
sucûss
 = 
Œue
;

176 
´eã»nûs
.
	`»adP»fsFe
();

178 
i
 = 0; i<
TOTAL_SAVES
;i++)

180 
§vegame
.
	`»adSaveFe
(
i
);

181 
´egameui
.
exi¡šgSave
[
i
] = 
§vegame
.
d©a
[0];

186 
time_t
 
§ved
 = 
§vegame
.
d©a
[1];

187 * 
sdt
 = 
	`ùime
(&
§ved
);

188 
¡d
::
cout
<<"\Àtimoà§ve: "<<
sdt
;

189 
¡d
::
cout
<<"\ÀamouÁ oàtim¶ayed: "<<
§vegame
.
d©a
[2];

192 
sucûss
 = 
ªim©iÚs
.
	`£tAnim©iÚTextu»s
(
»nd””
);

194 
sucûss
 = 
´egameui
.
	`lßdP»gameUI
(
»nd””
,success);

200 
sucûss
 = 
	`lßdSounds
();

203 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
 = 
´eã»nûs
.
´efsD©a
[0];

204 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
 = 
´eã»nûs
.
´efsD©a
[1];

205 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
 = 
´eã»nûs
.
´efsD©a
[2];

207 
music
.
musicToggË
=
´egameui
.
İtiÚsBu‰Ús
[2].musicToggle;

208 if(
music
.
musicToggË
)

210 
music
.
	`¶ayMusic
();

212 if(
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
)

214 
´egameui
.
İtiÚsBu‰Ús
[1].
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

217 
bÏckGround
.
	`lßdFromFe
("images/BÏckground.²g",
»nd””
);

219 
‹xt
.
	`lßdText
(
»nd””
);

221 
§vegame
.
	`lßdSavedM‘aD©a
(
»nd””
,
‹xt
.
fÚt
);

223 if(
sucûss
 =ğ
çl£
)

225 
	`´štf
("something didn't†oad„ight in†oadmedia.");

227  
sucûss
;

228 
	}
}

230 
	$şo£
()

232 
¡d
::
cout
<<"\n„unning close()";

235 
¡d
::
cout
<<"\À¶ayedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

236 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed: "<<
¶ayedTime
.
timePÏyed
;

237 if(
¶ayedTime
.
	`g‘Ticks
() > 0)

242 
´eã»nûs
.
	`wr™eP»fsFe
(
´egameui
);

244 
´egameui
.
	`ä“
();

248 
ªim©iÚs
.
	`ä“Anim©iÚTextu»s
();

250 
bÏckGround
.
	`ä“
();

252 
‹xt
.
	`ä“
();

254 
music
.
	`ä“Audio
();

261 !
sounds
.
	`em±y
()){

262 
sounds
.
	`pİ_back
();

265 
	`SDL_De¡royR’d””
Ğ
»nd””
 );

266 
	`SDL_De¡royWšdow
Ğ
wšdow
 );

267 
wšdow
 = 
NULL
;

268 
»nd””
 = 
NULL
;

272 
	`TTF_Qu™
();

273 
	`Mix_Qu™
();

274 
	`IMG_Qu™
();

275 
	`SDL_Qu™
();

276 
	}
}

278 
	$maš
Ğ
¬gc
, * 
¬gs
[] )

280 
¡d
::
cout
<<"\n„unning main( int‡rgc, char*‡rgs[] )";

282 ifĞ!
	`š™
() )

284 
	`´štf
( "Failedo initialize!\n" );

289 ifĞ!
	`lßdMedŸ
() )

291 
	`´štf
( "Failedo†oad media!\n" );

296 
boŞ
 
qu™
 = 
çl£
;

297 
boŞ
 
çde
=
çl£
;

299 
music
.
	`lßdMusic
();

300 
music
.
	`¶ayMusic
();

302 
tim”
 
ÿpTim”
;

304 
couÁedF¿mes
 = 0;

306 
SDL_Ev’t
 
e
;

308 
ÿpTim”
.
	`¡¬t
();

310  !
qu™
 )

315  
	`SDL_PŞlEv’t
Ğ&
e
 ) != 0 )

318 ifĞ
e
.
ty³
 =ğ
SDL_QUIT
 )

320 
qu™
 = 
Œue
;

322 if(
e
.
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ.ty³ =ğ
SDL_MOUSEMOTION
)

324 if(
gameS‹
 == 5){

325 
gameS‹
 = 
¡age
.
	`hªdËBu‰Ús
(&
e
);

326 if(
gameS‹
!= 5)

330 
¡d
::
cout
<<"\n before…layedTime.updatePlayedTime()„uns...";

331 
¡d
::
cout
<<"\À¶ayedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

332 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed: "<<
¶ayedTime
.
timePÏyed
;

333 
¶ayedTime
.
	`upd©ePÏyedTime
();

334 
¡d
::
cout
<<"\n‡fter…layedTime.updatePlayedTime()„uns...";

335 
¡d
::
cout
<<"\À¶ayedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

336 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed: "<<
¶ayedTime
.
timePÏyed
;

338 
¶ayedTime
.
	`·u£
();

342 
§vegame
.
	`upd©eSaveD©a
(
cho£nSave
,
¡age
,
¶ayedTime
.
timePÏyed
);

343 
§vegame
.
	`upd©eSavedM‘aD©a
(
cho£nSave
,
»nd””
,
‹xt
.
fÚt
);

349 
¡age
.
	`ä“
();

350 
´egameui
.
	`lßdMašBu‰Ús
(
»nd””
);

355 if(
gameS‹
 == 0)

359 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

361 if(
gameS‹
==1)

363 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

365 if(
gameS‹
==5)

367 
cho£nSave
 = 
´egameui
.chosenSave;

370 
¡age
.
	`£tNewgameV¬s
();

371 
¶ayedTime
.
	`¡¬t
();

372 
¡age
.
	`lßdSge
(
»nd””
,
Œue
);

376 if(
gameS‹
==2)

379 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

381 if(
gameS‹
==5)

383 
cho£nSave
 = 
´egameui
.chosenSave;

384 
¡d
::
cout
<<"\Àcho£nSave: "<<
cho£nSave
;

385 
§vegame
.
	`»adSaveFe
(
cho£nSave
);

387 
¡age
.
	`lßdSavedGameD©a
(
§vegame
.
d©a
[3],savegame.data[4],savegame.data[5],savegame.data[6]);

390 
¡age
.
	`lßdSge
(
»nd””
,
Œue
);

391 
¡d
::
cout
<<"\À§vegame.d©a[2]: "<<
§vegame
.
d©a
[2];

392 
Ušt32
 
´eviou¦yPÏyed
 = 
§vegame
.
d©a
[2];

393 
¡d
::
cout
<<"\À´eviou¦yPÏyed: "<<
´eviou¦yPÏyed
;

394 if(
´eviou¦yPÏyed
 > 0)

397 
¶ayedTime
.
	`£tPau£d
();

399 
¶ayedTime
.
	`£tTicks
(
´eviou¦yPÏyed
);

401 
¶ayedTime
.
	`uÅau£
();

406 
¶ayedTime
.
	`¡¬t
();

411 if(
gameS‹
==3)

413 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

415 if(
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
)

417 
music
.
musicToggË
 = 
Œue
;

418 if(!
music
.
	`isPÏyšg
())

420 
music
.
	`¶ayMusic
();

425 
music
.
musicToggË
 = 
çl£
;

426 if(
music
.
	`isPÏyšg
())

428 
music
.
	`¡İMusic
();

431 if(
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
)

441 if(
gameS‹
==4)

443 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

444 if(!
ªim©iÚs
.
ªim©iÚTim”2
.
	`isS¹ed
())

446 
ªim©iÚs
.
ªim©iÚTim”2
.
	`¡¬t
();

452 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 )

454  
e
.
key
.
keysym
.
sym
 )

456 
SDLK_SPACE
:

460 
SDLK_ESCAPE
:

461 if(
gameS‹
==0)

463 
qu™
=
Œue
;

467 
SDLK_1
:

468 
sounds
[0].
	`¶aySound
();

470 
SDLK_2
:

471 
sounds
[1].
	`¶aySound
();

473 
SDLK_3
:

474 
sounds
[2].
	`¶aySound
();

476 
SDLK_4
:

477 
sounds
[3].
	`¶aySound
();

479 
SDLK_9
:

481 
music
.
	`¶ayMusic
();

487 if(
¡age
.
š‹º®V›w
)

489 
¡age
.
¶ay”1
.
	`hªdËEv’t
(
e
);

494 if(
¡age
.
š‹º®V›w
)

496 
¡age
.
	`move
(
couÁedF¿mes
);

500 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

501 
	`SDL_R’d”CË¬
Ğ
»nd””
 );

503 if(
gameS‹
 == 0)

506 
´egameui
.
	`hªdËT™ËSü“nR’d”šg
(
»nd””
);

508 if(
gameS‹
 == 1)

510 
´egameui
.
	`hªdËNewGameSü“nR’d”šg
(
»nd””
);

511 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

513 if(
gameS‹
 == 2)

516 
´egameui
.
	`hªdËLßdGameSü“nR’d”šg
(
»nd””
);

517 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

519 if(
gameS‹
 == 3)

522 
´egameui
.
	`hªdËO±iÚsSü“nR’d”šg
(
»nd””
);

524 if(
gameS‹
 == 4)

527 
´egameui
.
	`hªdËC»d™sSü“nR’d”šg
(
»nd””
);

529 
ªim©iÚs
.
	`»nd”Tß¡”
(
»nd””
);

530 
ªim©iÚs
.
	`tß¡”Anim©iÚProg»ss
();

531 
ªim©iÚs
.
	`cyşeAnim©iÚs
();

534 if(
gameS‹
 == 5)

537 
¡age
.
	`»nd”Sge1
(
»nd””
);

539 if(
çde
)

541 
çde
 = 
	`çdeIn
(
couÁedF¿mes
,fade);

542 
bÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

545 
	`SDL_R’d”P»£Á
Ğ
»nd””
 );

546 ++
couÁedF¿mes
;

547 if(
couÁedF¿mes
>0 && couÁedF¿me < 255 && 
gameS‹
==0)

549 
´egameui
.
t™Ë
.
	`£tAÍha
(
couÁedF¿mes
);

552 
äameTicks
 = 
ÿpTim”
.
	`g‘Ticks
();

553 ifĞ
äameTicks
 < 
SCREEN_TICK_PER_FRAME
 )

556 
	`SDL_D–ay
Ğ
SCREEN_TICK_PER_FRAME
 - 
äameTicks
 );

562 
	`SDL_StİTextIÅut
();

566 
	`şo£
();

568 
	}
}

	@C:\Sojourner\Sojourner\animations.cpp

1 
	~"ªim©iÚs.h
"

3 
	gªim©iÚs
::
	$ªim©iÚs
()

5 
ªiF¿me
=0;

6 
ªiF¿me2
=0;

7 
ªiF¿me3
=0;

8 
ªiF¿me4
=0;

9 
ªiF¿me5
=0;

10 
ªiF¿me6
=0;

11 
ªiF¿me7
=0;

12 
ªiF¿me8
=0;

13 
ªiF¿me9
=0;

14 
ªiF¿me10
=0;

15 
ªiCouÁUp
=
Œue
;

28 
bsX1
=
	`¿nd
() % 200;

29 
bsY1
=
	`¿nd
()% 350;

31 
bsX2
=
	`¿nd
() % 200;

32 
bsX2
+=200;

33 
bsY2
=
	`¿nd
()% 350;

35 
bsX3
=
	`¿nd
() % 200;

36 
bsX3
+=400;

37 
bsY3
=
	`¿nd
()% 350;

39 
bsX4
=
	`¿nd
() % 200;

40 
bsX4
+=550;

41 
bsY4
=
	`¿nd
()% 350;

43 
pÜlY
=30;

44 
tß¡”2X
=-50;

46 
	}
}

48 
	gªim©iÚs
::~
	$ªim©iÚs
()

51 
	}
}

53 
boŞ
 
ªim©iÚs
::
	$£tAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
)

55 
¡d
::
cout
<<"\n„unning‡nimations::setAnimationTextures(SDL_Renderer*„enderer)";

56 
boŞ
 
sucûss
 = 
Œue
;

58 
i
 = 0; i<
TAO_ANIMATION_FRAMES
;i++)

60 
a
 = 
i
+1;

61 
¡d
::
¡ršg¡»am
 
ss
;

62 
ss
 << "images/ªim©iÚs/o/o" << 
a
 << ".png";

63 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

64 
sucûss
 = 
o
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

66 
i
 = 0; i<
TOASTER_ANIMATION_FRAMES
;i++)

68 
a
 = 
i
;

69 
¡d
::
¡ršg¡»am
 
ss
;

70 
ss
 << "images/ªim©iÚs/tß¡”/tß¡”" << 
a
 << ".png";

71 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

72 
sucûss
 = 
tß¡”
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

74 
i
 = 0; i<
TOASTER2_ANIMATION_FRAMES
;i++)

76 
a
 = 
i
;

77 
¡d
::
¡ršg¡»am
 
ss
;

78 
ss
 << "images/ªim©iÚs/tß¡”2/tß¡”¥r™e" << 
a
 << ".png";

79 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

80 
sucûss
 = 
tß¡”2
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

82 
i
 = 0; i<
BLACKSTAR_ANIMATION_FRAMES
;i++)

84 
a
 = 
i
+1;

85 
¡d
::
¡ršg¡»am
 
ss
;

86 
ss
 << "images/ªim©iÚs/bÏck¡¬/bÏck¡¬" << 
a
 << ".png";

87 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

88 
sucûss
 = 
bÏck¡¬
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

90 
i
 = 0; i<
PORTAL_ANIMATION_FRAMES
;i++)

92 
a
 = 
i
+1;

93 
¡d
::
¡ršg¡»am
 
ss
;

94 
ss
 << "images/ªim©iÚs/pÜl/pÜl" << 
a
 << ".png";

95 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

96 
sucûss
 = 
pÜl
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

98 
i
 = 0; i<
RAT_ANIMATION_FRAMES
;i++)

100 
a
 = 
i
+1;

101 
¡d
::
¡ršg¡»am
 
ss
;

102 
ss
 << "images/ªim©iÚs/¿t/¿t" << 
a
 << ".png";

103 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

104 
sucûss
 = 
¿t
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

106 
i
 = 0; i<
TRAILER_ANIMATION_FRAMES
;i++)

108 
a
 = 
i
+1;

109 
¡d
::
¡ršg¡»am
 
ss
;

110 
ss
 << "images/ªim©iÚs/Œa”/Œa”" << 
a
 << ".png";

111 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

112 
sucûss
 = 
Œa”
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

114  
sucûss
;

115 
	}
}

117 
	gªim©iÚs
::
	$ä“Anim©iÚTextu»s
()

119 
¡d
::
cout
<<"\n„unning‡nimations::freeAnimationTextures()";

121 
i
=0;i<
TAO_ANIMATION_FRAMES
;i++)

123 
o
[
i
].
	`ä“
();

125 
i
=0;i<
TOASTER_ANIMATION_FRAMES
;i++)

127 
tß¡”
[
i
].
	`ä“
();

129 
i
=0;i<
TOASTER2_ANIMATION_FRAMES
;i++)

131 
tß¡”2
[
i
].
	`ä“
();

133 
i
=0;i<
BLACKSTAR_ANIMATION_FRAMES
;i++)

135 
bÏck¡¬
[
i
].
	`ä“
();

137 
i
=0;i<
PORTAL_ANIMATION_FRAMES
;i++)

139 
pÜl
[
i
].
	`ä“
();

141 
i
 = 0; i < 
RAT_ANIMATION_FRAMES
;i++)

143 
¿t
[
i
].
	`ä“
();

145 
i
 = 0; i < 
TRAILER_ANIMATION_FRAMES
;i++)

147 
Œa”
[
i
].
	`ä“
();

149 
	}
}

151 
	gªim©iÚs
::
	$»nd”Tao
(
SDL_R’d””
* 
»nd””
)

153 
ªiF¿me
){

154 0:
o
[0].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

156 1:
o
[1].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

158 2:
o
[2].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

160 3:
o
[3].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

162 4:
o
[4].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

164 5:
o
[5].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

166 6:
o
[6].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

168 7:
o
[7].
	`»nd”
(750,300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

171 
	}
}

173 
	gªim©iÚs
::
	$»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
)

175 
ªiF¿me2
)

177 0:
tß¡”
[0].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

179 1:
tß¡”
[1].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

181 2:
tß¡”
[2].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

183 3:
tß¡”
[3].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

185 4:
tß¡”
[4].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

187 5:
tß¡”
[5].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

189 6:
tß¡”
[6].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

191 7:
tß¡”
[7].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

194 
	}
}

196 
	gªim©iÚs
::
	$»nd”Tß¡”2
(
SDL_R’d””
* 
»nd””
)

198 if(!
ªim©iÚTim”3
.
	`isS¹ed
())

200 
ªim©iÚTim”3
.
	`¡¬t
();

202 
ªiF¿me3
)

204 0:
tß¡”2
[0].
	`»nd”
(
tß¡”2X
,250,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

206 1:
tß¡”2
[1].
	`»nd”
(
tß¡”2X
,250,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

208 2:
tß¡”2
[2].
	`»nd”
(
tß¡”2X
,250,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

212 
	}
}

214 
	gªim©iÚs
::
	$»nd”BÏck¡¬
(
SDL_R’d””
* 
»nd””
)

216 
ªiF¿me4
){

217 0:
bÏck¡¬
[0].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

219 1:
bÏck¡¬
[1].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

221 2:
bÏck¡¬
[2].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

223 3:
bÏck¡¬
[3].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

225 4:
bÏck¡¬
[4].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

227 5:
bÏck¡¬
[5].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

229 6:
bÏck¡¬
[6].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

231 7:
bÏck¡¬
[7].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

233 8:
bÏck¡¬
[8].
	`»nd”
(
bsX1
,
bsY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

236 
ªiF¿me5
){

237 0:
bÏck¡¬
[0].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

239 1:
bÏck¡¬
[1].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

241 2:
bÏck¡¬
[2].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

243 3:
bÏck¡¬
[3].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

245 4:
bÏck¡¬
[4].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

247 5:
bÏck¡¬
[5].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

249 6:
bÏck¡¬
[6].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

251 7:
bÏck¡¬
[7].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

253 8:
bÏck¡¬
[8].
	`»nd”
(
bsX2
,
bsY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

256 
ªiF¿me6
){

257 0:
bÏck¡¬
[0].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

259 1:
bÏck¡¬
[1].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

261 2:
bÏck¡¬
[2].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

263 3:
bÏck¡¬
[3].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

265 4:
bÏck¡¬
[4].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

267 5:
bÏck¡¬
[5].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

269 6:
bÏck¡¬
[6].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

271 7:
bÏck¡¬
[7].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

273 8:
bÏck¡¬
[8].
	`»nd”
(
bsX3
,
bsY3
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

276 
ªiF¿me7
){

277 0:
bÏck¡¬
[0].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

279 1:
bÏck¡¬
[1].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

281 2:
bÏck¡¬
[2].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

283 3:
bÏck¡¬
[3].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

285 4:
bÏck¡¬
[4].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

287 5:
bÏck¡¬
[5].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

289 6:
bÏck¡¬
[6].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

291 7:
bÏck¡¬
[7].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

293 8:
bÏck¡¬
[8].
	`»nd”
(
bsX4
,
bsY4
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

296 
	}
}

298 
	gªim©iÚs
::
	$»nd”PÜl
(
SDL_R’d””
* 
»nd””
)

300 if(!
ªim©iÚTim”8
.
	`isS¹ed
())

302 
ªim©iÚTim”8
.
	`¡¬t
();

304 
ªiF¿me8
){

305 0:
pÜl
[0].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

307 1:
pÜl
[1].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

309 2:
pÜl
[2].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

311 3:
pÜl
[3].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

313 4:
pÜl
[4].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

315 5:
pÜl
[5].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

317 6:
pÜl
[6].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

319 7:
pÜl
[7].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

321 8:
pÜl
[8].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

323 9:
pÜl
[9].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

325 10:
pÜl
[10].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

327 11:
pÜl
[11].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

329 12:
pÜl
[12].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

331 13:
pÜl
[13].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

333 14:
pÜl
[14].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

335 15:
pÜl
[15].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

337 16:
pÜl
[16].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

339 17:
pÜl
[17].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

341 18:
pÜl
[18].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

343 19:
pÜl
[19].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

345 20:
pÜl
[19].
	`»nd”
(350,
pÜlY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

348 
	}
}

350 
	gªim©iÚs
::
	$»nd”R©
(
SDL_R’d””
* 
»nd””
)

352 
ªiF¿me9
){

353 0:
¿t
[0].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

355 1:
¿t
[1].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

357 2:
¿t
[2].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

359 3:
¿t
[3].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

361 4:
¿t
[4].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

363 5:
¿t
[5].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

365 6:
¿t
[6].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

367 7:
¿t
[7].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

369 8:
¿t
[8].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

371 9:
¿t
[9].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

373 10:
¿t
[10].
	`»nd”
(750,555,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

376 
	}
}

378 
	gªim©iÚs
::
	$»nd”T¿”
(
SDL_R’d””
* 
»nd””
)

380 
ªiF¿me10
){

381 0:
Œa”
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

383 1:
Œa”
[1].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

385 2:
Œa”
[2].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

387 3:
Œa”
[3].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

389 4:
Œa”
[4].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

391 5:
Œa”
[5].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

393 6:
Œa”
[6].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

395 7:
Œa”
[7].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

397 8:
Œa”
[8].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

399 9:
Œa”
[9].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

401 10:
Œa”
[10].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

403 11:
Œa”
[11].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

405 12:
Œa”
[12].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

407 13:
Œa”
[13].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

409 14:
Œa”
[14].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

411 15:
Œa”
[15].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

414 
	}
}

416 
	gªim©iÚs
::
	$cyşeAnim©iÚs
()

418 ifĞ
ªiF¿me
 >ğ
TAO_ANIMATION_FRAMES
 )

420 
ªiF¿me
 = 0;

422 if(
ªiF¿me3
 >ğ
TOASTER2_ANIMATION_FRAMES
)

424 
ªiF¿me3
 = 0;

426 ifĞ
ªiF¿me2
 >ğ
TOASTER_ANIMATION_FRAMES
-1 )

428 
ªiCouÁUp
 = 
çl£
;

430 ifĞ
ªiF¿me4
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

432 
ªiF¿me4
 = 0;

433 
bsX1
=
	`¿nd
() % 200;

434 
bsY1
=
	`¿nd
()% 350;

436 ifĞ
ªiF¿me5
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

438 
ªiF¿me5
 = 0;

439 
bsX2
=
	`¿nd
() % 200;

440 
bsX2
+=200;

441 
bsY2
=
	`¿nd
()% 350;

443 ifĞ
ªiF¿me6
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

445 
ªiF¿me6
 = 0;

446 
bsX3
=
	`¿nd
() % 200;

447 
bsX3
+=400;

448 
bsY3
=
	`¿nd
()% 350;

450 ifĞ
ªiF¿me7
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

452 
ªiF¿me7
 = 0;

453 
bsX4
=
	`¿nd
() % 200;

454 
bsX4
+=550;

455 
bsY4
=
	`¿nd
()% 350;

457 if(
ªiF¿me8
 >ğ
PORTAL_ANIMATION_FRAMES
)

459 
ªiF¿me8
 = 20;

461 if(
ªiF¿me2
 <= 0)

463 
ªiCouÁUp
 = 
Œue
;

465 ifĞ
ªiF¿me9
 >ğ
RAT_ANIMATION_FRAMES
 )

467 
ªiF¿me9
 = 0;

469 ifĞ
ªiF¿me10
 >ğ
TRAILER_ANIMATION_FRAMES
 )

471 
ªiF¿me10
 = 0;

473 
	}
}

475 
	gªim©iÚs
::
	$oscÏ‹CouÁ
()

477 if(
ªiCouÁUp
)

479 
ªiF¿me2
++;

483 
ªiF¿me2
--;

485 
	}
}

487 
	gªim©iÚs
::
	$oAnim©iÚProg»ss
()

489 if(
ªim©iÚTim”
.
	`g‘Ticks
() / 500 > 1)

491 ++
ªiF¿me
;

492 
ªim©iÚTim”
.
	`»¡¬t
();

494 
	}
}

496 
	gªim©iÚs
::
	$tß¡”Anim©iÚProg»ss
()

498 if(
ªim©iÚTim”2
.
	`g‘Ticks
() / 60 > 1)

500 
	`oscÏ‹CouÁ
();

503 
	}
}

505 
	gªim©iÚs
::
	$tß¡”2Anim©iÚProg»ss
()

507 if(
ªim©iÚTim”3
.
	`g‘Ticks
() / 60 > 1)

509 if(
ªiF¿me3
<
TOASTER2_ANIMATION_FRAMES
)

511 
ªiF¿me3
++;

513 if(
tß¡”2X
 < 800)

515 
tß¡”2X
++;

519 
tß¡”2X
=-50;

521 
ªim©iÚTim”3
.
	`»¡¬t
();

523 
	}
}

525 
	gªim©iÚs
::
	$bÏck¡¬Anim©iÚProg»ss
()

528 if(
ªim©iÚTim”4
.
	`g‘Ticks
() / 25 > 1)

530 
ªiF¿me4
++;

531 
ªim©iÚTim”4
.
	`»¡¬t
();

533 if(
ªim©iÚTim”5
.
	`g‘Ticks
() / 20 > 1)

535 
ªiF¿me5
++;

536 
ªim©iÚTim”5
.
	`»¡¬t
();

538 if(
ªim©iÚTim”6
.
	`g‘Ticks
() / 30 > 1)

540 
ªiF¿me6
++;

541 
ªim©iÚTim”6
.
	`»¡¬t
();

543 if(
ªim©iÚTim”7
.
	`g‘Ticks
() / 15 > 1)

545 
ªiF¿me7
++;

546 
ªim©iÚTim”7
.
	`»¡¬t
();

548 
	}
}

550 
	gªim©iÚs
::
	$pÜlAnim©iÚProg»ss
()

553 if(
ªim©iÚTim”8
.
	`g‘Ticks
() / 60 > 1)

555 if(
ªiF¿me8
<
PORTAL_ANIMATION_FRAMES
)

556 
ªiF¿me8
++;

557 if(
ªiF¿me8
==20 && 
pÜlY
 > -400)

558 
pÜlY
-=10;

559 
ªim©iÚTim”8
.
	`»¡¬t
();

561 
	}
}

563 
	gªim©iÚs
::
	$¿tAnim©iÚProg»ss
()

565 if(
ªim©iÚTim”9
.
	`g‘Ticks
() / 100 > 1)

567 ++
ªiF¿me9
;

568 
ªim©iÚTim”9
.
	`»¡¬t
();

570 
	}
}

572 
	gªim©iÚs
::
	$Œa”Anim©iÚProg»ss
()

574 if(
ªim©iÚTim”10
.
	`g‘Ticks
() / 16 > 1)

576 ++
ªiF¿me10
;

577 
ªim©iÚTim”10
.
	`»¡¬t
();

579 
	}
}

581 
	gªim©iÚs
::
	$»£tPÜl
()

583 
ªim©iÚTim”8
.
	`¡İ
();

584 
ªiF¿me8
 = 0;

585 
pÜlY
 = 30;

586 
	}
}

588 
	gªim©iÚs
::
	$»£tTß¡”2
()

590 
ªim©iÚTim”3
.
	`¡İ
();

591 
ªiF¿me3
 = 0;

592 
tß¡”2X
 = -50;

593 
	}
}

595 
	gªim©iÚs
::
	$´og»ss
()

598 
	`oAnim©iÚProg»ss
();

600 
	`tß¡”Anim©iÚProg»ss
();

602 
	`tß¡”2Anim©iÚProg»ss
();

604 
	`bÏck¡¬Anim©iÚProg»ss
();

606 
	`pÜlAnim©iÚProg»ss
();

608 
	`¿tAnim©iÚProg»ss
();

610 
	`Œa”Anim©iÚProg»ss
();

612 
	`cyşeAnim©iÚs
();

613 
	}
}

	@C:\Sojourner\Sojourner\animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

8 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

9 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

11 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

13 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

15 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

17 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

19 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

22 şas 
	cªim©iÚs


24 
	mpublic
:

26 
ªim©iÚs
();

28 ~
ªim©iÚs
();

31 
tim”
 
	mªim©iÚTim”
;

34 
tim”
 
	mªim©iÚTim”2
;

36 
tim”
 
	mªim©iÚTim”3
;

39 
tim”
 
	mªim©iÚTim”4
;

40 
tim”
 
	mªim©iÚTim”5
;

41 
tim”
 
	mªim©iÚTim”6
;

42 
tim”
 
	mªim©iÚTim”7
;

45 
tim”
 
	mªim©iÚTim”8
;

47 
tim”
 
	mªim©iÚTim”9
;

49 
tim”
 
	mªim©iÚTim”10
;

51 
boŞ
 
	mªiCouÁUp
;

54 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

57 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

59 
	mªiF¿me8
;

61 
	mªiF¿me9
;

63 
	mªiF¿me10
;

65 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

68 
	mpÜlY
;

69 
	mtß¡”2X
;

72 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

74 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

75 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

76 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

77 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

78 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

80 
boŞ
 
£tAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

81 
ä“Anim©iÚTextu»s
();

83 
»nd”Tao
(
SDL_R’d””
* 
»nd””
);

84 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

85 
»nd”Tß¡”2
(
SDL_R’d””
* 
»nd””
);

86 
»nd”BÏck¡¬
(
SDL_R’d””
* 
»nd””
);

87 
»nd”PÜl
(
SDL_R’d””
* 
»nd””
);

88 
»nd”R©
(
SDL_R’d””
* 
»nd””
);

89 
»nd”T¿”
(
SDL_R’d””
* 
»nd””
);

91 
cyşeAnim©iÚs
();

92 
oscÏ‹CouÁ
();

95 
oAnim©iÚProg»ss
();

96 
tß¡”Anim©iÚProg»ss
();

97 
tß¡”2Anim©iÚProg»ss
();

98 
bÏck¡¬Anim©iÚProg»ss
();

99 
pÜlAnim©iÚProg»ss
();

100 
¿tAnim©iÚProg»ss
();

101 
Œa”Anim©iÚProg»ss
();

104 
´og»ss
();

107 
»£tPÜl
();

108 
»£tTß¡”2
();

110 
	m´iv©e
:

	@C:\Sojourner\Sojourner\audio.cpp

1 
	~"audio.h
"

3 
	gaudio
::
	$audio
()

5 
music
 = 
NULL
;

6 
sound
 = 
NULL
;

7 
voiû
 = 
NULL
;

8 
musicToggË
 = 
Œue
;

9 
voiûToggË
 = 
Œue
;

10 
	}
}

11 
	gaudio
::~
	$audio
()

14 
	`Mix_F»eMusic
Ğ
music
 );

15 
	`Mix_F»eChunk
Ğ
sound
 );

16 
	`Mix_F»eChunk
Ğ
voiû
 );

17 
sound
=
NULL
;

18 
music
=
NULL
;

19 
voiû
=
NULL
;

20 
	}
}

22 
	gaudio
::
	$lßdMusic
()

24 
¡d
::
cout
<<"\n„unning‡udio::loadMusic()";

27  
	`¿nd
() % 7 )

30 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Blitz-Nevrosis.mp3" );

31 
¡d
::
cout
<<"\n\n…laying blitz-nevrosis.mp3";

34 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Empsykoun.mp3" );

35 
¡d
::
cout
<<"\n\n…layingƒmpsykoun.mp3";

38 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Polylove.mp3" );

39 
¡d
::
cout
<<"\n\n…laying…olylove.mp3";

42 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Rouge-haine-les-9-ames.mp3" );

43 
¡d
::
cout
<<"\n\n…laying„ouge-haine-les-9-ames.mp3";

46 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - The†ost cyborg.mp3" );

47 
¡d
::
cout
<<"\n\n…layinghe†ost cyborg.mp3";

50 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - There-is-someone.mp3" );

51 
¡d
::
cout
<<"\n\n…layinghere-is-someone.mp3";

54 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Vortex-temporalis.mp3" );

55 
¡d
::
cout
<<"\n\n…laying vortex-temporalis.mp3";

59 
	}
}

61 
	gaudio
::
	$lßdCh­‹r1Music
()

64 
¡d
::
cout
<<"\n„unning‡udio::loadChapter1Music()";

65 
music
 = 
	`Mix_LßdMUS
("music/Meadow March.mp3");

66 
	}
}

68 
	gaudio
::
	$lßdCh­‹r2Music
()

71 
¡d
::
cout
<<"\n„unning‡udio::loadChapter2Music()";

72 
music
 = 
	`Mix_LßdMUS
("music/Tiki Jungle.mp3");

73 
	}
}

75 
	gaudio
::
	$lßdCh­‹r3Music
()

78 
¡d
::
cout
<<"\n„unning‡udio::loadChapter3Music()";

79 
music
 = 
	`Mix_LßdMUS
("music/Radioactive Rain.mp3");

80 
	}
}

82 
	gaudio
::
	$lßdSound
(
soundNum
)

84 
¡d
::
cout
<<"\n„unning‡udio::loadSound(int soundNum)";

85 
soundNum
)

88 
sound
 = 
	`Mix_LßdWAV
( "sounds/voice0.mp3" );

91 
sound
 = 
	`Mix_LßdWAV
( "sounds/gem.mp3" );

94 
sound
 = 
	`Mix_LßdWAV
( "sounds/shovel.mp3" );

97 
sound
 = 
	`Mix_LßdWAV
( "sounds/titleitemselect4.wav" );

100 
sound
 = 
	`Mix_LßdWAV
( "sounds/beam.mp3");

103 
sound
 = 
	`Mix_LßdWAV
( "sounds/3beeps.mp3");

106 
	}
}

108 
	gaudio
::
	$lßdVoiû
(
ch­‹r
,
·ge
,
lše
)

111 
¡d
::
cout
<<"\n„unning‡udio::loadVoice(int chapter,int…age,int†ine)";

112 
¡d
::
¡ršg
 
voiûSŒšg
 = "sounds/voiû‡ùšg/ch­‹r"+¡d::
	`to_¡ršg
(
ch­‹r
 + 1)+"/c"+¡d::to_¡ršg(ch­‹r+1)+"p"+¡d::to_¡ršg(
·ge
+1)+"l"+¡d::to_¡ršg(
lše
+1)+".mp3";

113 
voiû
 = 
	`Mix_LßdWAV
Ğ
voiûSŒšg
.
	`c_¡r
() );

114 
	}
}

116 
	gaudio
::
	$¡İVoiû
()

118 
¡d
::
cout
<<"\n„unning‡udio::stopVoice()";

120 
	`Mix_H®tChªÃl
(-1);

121 
	}
}

123 
	gaudio
::
	$ä“Audio
()

125 
¡d
::
cout
<<"\n„unning‡udio::freeAudio()";

126 
	`Mix_F»eChunk
Ğ
sound
 );

127 
sound
 = 
NULL
;

128 
	`Mix_F»eChunk
Ğ
voiû
 );

129 
voiû
 = 
NULL
;

130 
	`Mix_F»eMusic
Ğ
music
 );

131 
music
 = 
NULL
;

132 
	}
}

134 
	gaudio
::
	$¶aySound
()

136 
¡d
::
cout
<<"\n„unning‡udio::playSound()";

137 
	`Mix_PÏyChªÃl
Ğ-1, 
sound
, 0 );

138 
	}
}

140 
	gaudio
::
	$¶ayVoiû
()

142 
¡d
::
cout
<<"\n„unning‡udio::playVoice()";

143 if(
voiûToggË
)

145 
	`Mix_PÏyChªÃl
(-1,
voiû
,0);

147 
	}
}

149 
	gaudio
::
	$¶ayMusic
()

151 
¡d
::
cout
<<"\n„unning‡udio::playMusic()";

152 if(
musicToggË
)

154 ifĞ
	`Mix_PÏyšgMusic
() == 0 )

157 
	`Mix_PÏyMusic
Ğ
music
, -1 );

163 ifĞ
	`Mix_Pau£dMusic
() == 1 )

166 
	`Mix_ResumeMusic
();

172 
	`Mix_Pau£Music
();

177 
	}
}

179 
	gaudio
::
	$·u£Music
()

181 
¡d
::
cout
<<"\n„unning‡udio::pauseMusic()";

182 
	`Mix_Pau£Music
();

183 
	}
}

185 
	gaudio
::
	$»sumeMusic
()

187 
¡d
::
cout
<<"\n„unning‡udio::resumeMusic()";

188 if(
musicToggË
)

190 
	`Mix_ResumeMusic
();

192 
	}
}

194 
	gaudio
::
	$¡İMusic
()

196 
¡d
::
cout
<<"\n„unning‡udio::stopMusic()";

197 
	`Mix_H®tMusic
();

198 
	`lßdMusic
();

199 
	}
}

201 
	gaudio
::
	$»£tMusic
()

203 
¡d
::
cout
<<"\n„unning‡udio::resetMusic()";

204 
	`¡İMusic
();

205 
	`lßdMusic
();

206 
	`¶ayMusic
();

207 
	}
}

209 
boŞ
 
	gaudio
::
	$isPÏyšg
()

211 
¡d
::
cout
<<"\n„unning‡udio::isPlaying()";

212  
	`Mix_PÏyšgMusic
();

213 
	}
}

	@C:\Sojourner\Sojourner\audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@C:\Sojourner\Sojourner\button.cpp

1 
	~"bu‰Ú.h
"

3 
	gbu‰Ú
::
	$bu‰Ú
()

5 
pos™iÚ
.
x
 = 0;

6 
pos™iÚ
.
y
 = 0;

7 
bu‰ÚName
 = "";

8 
fuÎSü“nToggË
=
çl£
;

9 
musicToggË
=
Œue
;

10 
voiûToggË
=
Œue
;

11 
mou£Ov”
=
çl£
;

37 
¡ageBu‰ÚNames
[0]="saveAndExit";

39 
	}
}

41 
	gbu‰Ú
::~
	$bu‰Ú
()

43 
bu‰ÚTextu»
.
	`ä“
();

44 
	}
}

48 
	gbu‰Ú
::
	$fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

50 
bu‰ÚTextu»
.
	`ä“
();

51 if(
fuÎSü“nToggË
)

53 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nOn.²g", 
»nd””
);

57 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nToggË.²g", 
»nd””
);

60 
	}
}

62 
	gbu‰Ú
::
	$musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

64 
bu‰ÚTextu»
.
	`ä“
();

65 if(
musicToggË
)

67 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicToggË.²g", 
»nd””
);

71 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicOff.²g", 
»nd””
);

74 
	}
}

76 
	gbu‰Ú
::
	$voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

78 
bu‰ÚTextu»
.
	`ä“
();

79 if(
voiûToggË
)

81 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûToggË.²g", 
»nd””
);

85 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûOff.²g", 
»nd””
);

88 
	}
}

90 
	gbu‰Ú
::
	$£tPos™iÚ
Ğ
x
, 
y
 )

92 
pos™iÚ
.
x
 = x;

93 
pos™iÚ
.
y
 = y;

94 
	}
}

96 
	gbu‰Ú
::
	$g‘Pos™iÚX
()

98  
pos™iÚ
.
x
;

99 
	}
}

100 
	gbu‰Ú
::
	$g‘Pos™iÚY
()

102  
pos™iÚ
.
y
;

103 
	}
}

105 
	gbu‰Ú
::
	$£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

107 
fuÎSü“nToggË
 = 
Œue
;

108 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

109 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_TRUE
 );

110 
	}
}

112 
	gbu‰Ú
::
	$£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

114 
fuÎSü“nToggË
 = 
çl£
;

115 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

116 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_FALSE
 );

117 
	}
}

119 
	gbu‰Ú
::
	$£tMusicOn
(
SDL_R’d””
* 
»nd””
)

121 
musicToggË
 = 
Œue
;

122 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

123 
	}
}

125 
	gbu‰Ú
::
	$£tMusicOff
(
SDL_R’d””
* 
»nd””
)

127 
musicToggË
=
çl£
;

128 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

129 
	}
}

131 
	gbu‰Ú
::
	$£tVoiûOn
(
SDL_R’d””
* 
»nd””
)

133 
voiûToggË
 = 
Œue
;

134 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

135 
	}
}

137 
	gbu‰Ú
::
	$£tVoiûOff
(
SDL_R’d””
* 
»nd””
)

139 
voiûToggË
 = 
çl£
;

140 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

141 
	}
}

153 
	gbu‰Ú
::
	$£tSgeBu‰ÚName
(
i
)

155 
bu‰ÚName
=
¡ageBu‰ÚNames
[
i
];

156 
	}
}

158 
	gbu‰Ú
::
	$hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
, 
SDL_R’d””
* 
»nd””
 )

160 
gameS‹
=-1;

162 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

165 
x
, 
y
;

166 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

169 
boŞ
 
šside
 = 
Œue
;

172 ifĞ
x
 < 
pos™iÚ
.x )

174 
šside
 = 
çl£
;

177 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

179 
šside
 = 
çl£
;

182 ifĞ
y
 < 
pos™iÚ
.y )

184 
šside
 = 
çl£
;

187 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

189 
šside
 = 
çl£
;

193 ifĞ!
šside
 )

195 
mou£Ov”
=
çl£
;

200 if(!
mou£Ov”
)

202 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

203 
mou£Ov”
=
Œue
;

206  
e
->
ty³
 )

208 
SDL_MOUSEBUTTONDOWN
:

211 if(
bu‰ÚName
=="new")

213 
	`´štf
("\n \n‚ew game button…ressed \n \n");

214 
gameS‹
 = 1;

216 if(
bu‰ÚName
=="load")

218 
	`´štf
("\n \n†oad game button…ressed \n \n");

219 
gameS‹
 = 2;

221 if(
bu‰ÚName
=="options")

223 
	`´štf
("\n \n options button…ressed \n \n");

224 
gameS‹
 = 3;

226 if(
bu‰ÚName
=="credits")

228 
	`´štf
("\n \n credits button…ressed \n \n");

229 
gameS‹
 = 4;

235 if(
bu‰ÚName
=="back")

237 
	`´štf
("\n \n back button…ressed \n \n");

238 
gameS‹
 = 0;

240 if(
bu‰ÚName
=="save1")

242 
	`´štf
("\n \n save 1 button…ressed from \n \n");

243 
cho£nSave
=0;

244 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

245 
gameS‹
 = 5;

247 if(
bu‰ÚName
=="save2")

249 
	`´štf
("\n \n save 2 button…ressed \n \n");

250 
cho£nSave
=1;

251 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

252 
gameS‹
 = 5;

254 if(
bu‰ÚName
=="save3")

256 
	`´štf
("\n \n save 3 button…ressed \n \n");

257 
cho£nSave
=2;

258 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

259 
gameS‹
 = 5;

300 if(
bu‰ÚName
=="fullScreenToggle")

302 
	`´štf
("\n \n fullScreenoggle button…ressed \n \n");

303 if(!
fuÎSü“nToggË
)

304 
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

306 
	`£tFuÎSü“nOff
(
wšdow
,
»nd””
);

307 
gameS‹
 = 3;

309 if(
bu‰ÚName
=="musicToggle")

311 
	`´štf
("\n \n musicoggle button…ressed \n \n");

312 if(!
musicToggË
)

313 
	`£tMusicOn
(
»nd””
);

315 
	`£tMusicOff
(
»nd””
);

316 
gameS‹
 = 3;

318 if(
bu‰ÚName
=="voiceToggle")

320 
	`´štf
("\n \n voiceoggle button…ressed \n \n");

321 if(!
voiûToggË
)

322 
	`£tVoiûOn
(
»nd””
);

324 
	`£tVoiûOff
(
»nd””
);

325 
gameS‹
 = 3;

343  
gameS‹
;

344 
	}
}

451 
	gbu‰Ú
::
	$hªdËSgeEv’t
(
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 )

453 
bu‰ÚClicked
 = 0;

455 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

458 
x
, 
y
;

459 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

462 
boŞ
 
šside
 = 
Œue
;

465 ifĞ
x
 < 
pos™iÚ
.x )

467 
šside
 = 
çl£
;

470 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

472 
šside
 = 
çl£
;

475 ifĞ
y
 < 
pos™iÚ
.y )

477 
šside
 = 
çl£
;

480 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

482 
šside
 = 
çl£
;

486 ifĞ!
šside
 )

488 
mou£Ov”
=
çl£
;

489 
bu‰ÚClicked
=0;

490 if(
e
->
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
)

492 
bu‰ÚClicked
=2;

498 if(!
mou£Ov”
)

500 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

501 
mou£Ov”
=
Œue
;

503  
e
->
ty³
 )

505 
SDL_MOUSEBUTTONDOWN
:

507 if(
bu‰ÚName
=="saveAndExit")

509 
	`´štf
("\n \n saveAndExit button…ressed \n \n");

510 
bu‰ÚClicked
=1;

518  
bu‰ÚClicked
;

519 
	}
}

	@C:\Sojourner\Sojourner\button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 4;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 4;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

23 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 1;

25 şas 
	cbu‰Ú


27 
	mpublic
:

29 
bu‰Ú
();

30 ~
bu‰Ú
();

33 
£tPos™iÚ
Ğ
x
, 
y
 );

35 
g‘Pos™iÚX
();

36 
g‘Pos™iÚY
();

38 
boŞ
 
	mfuÎSü“nToggË
;

39 
boŞ
 
	mmusicToggË
;

40 
boŞ
 
	mvoiûToggË
;

42 
boŞ
 
	mmou£Ov”
;

44 
	mcho£nSave
;

47 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

51 
hªdËSgeEv’t
Ğ
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

54 
Textu»
 
	mbu‰ÚTextu»
;

55 
Textu»
 
	mbu‰ÚMOTextu»
;

57 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

58 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

61 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

63 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

64 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

66 
	m¡d
::
¡ršg
 
bu‰ÚName
;

72 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

78 
£tSgeBu‰ÚName
(
i
);

81 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

82 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

83 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

85 
	m´iv©e
:

87 
SDL_Pošt
 
pos™iÚ
;

	@C:\Sojourner\Sojourner\chapter.cpp

	@C:\Sojourner\Sojourner\chapter.h

1 #iâdeà
CHAPTER_H


2 
	#CHAPTER_H


	)

	@C:\Sojourner\Sojourner\myicon.rc

1 
myicÚ
 
ICON
 
	gsojouº”
.
	gico


	@C:\Sojourner\Sojourner\parallax.cpp

1 
	~"·¿Îax.h
"

3 
	g·¿Îax
::
	$·¿Îax
()

6 
·¿X
=0;

7 
·¿Y
=0;

8 
·¿X2
=-799;

9 
·¿Y2
=0;

10 
·¿V–X
=0;

12 
·¿ÎaxReù1
.
x
 = 
·¿X
;

13 
·¿ÎaxReù1
.
y
 = 
·¿Y
;

14 
·¿ÎaxReù1
.
w
 = 
PARALLAX_WIDTH
;

15 
·¿ÎaxReù1
.
h
 = 
PARALLAX_HEIGHT
;

17 
·¿ÎaxReù2
.
x
 = 
·¿X2
;

18 
·¿ÎaxReù2
.
y
 = 
·¿Y2
;

19 
·¿ÎaxReù2
.
w
 = 
PARALLAX_WIDTH
;

20 
·¿ÎaxReù2
.
h
 = 
PARALLAX_HEIGHT
;

22 
	}
}

24 
	g·¿Îax
::~
	$·¿Îax
(){

26 
·¿ÎaxTextu»
.
	`ä“
();

28 
	}
}

30 
	g·¿Îax
::
	$šüem’tFÜe
(){

31 
·¿X
+=4;

32 
·¿X2
+=4;

33 
	`upd©eReùs
();

34 
	`»£tP¬®Ïx
();

35 
	}
}

37 
	g·¿Îax
::
	$šüem’tAÁ”iÜMid
(){

38 
·¿X
+=3;

39 
·¿X2
+=3;

40 
	`upd©eReùs
();

41 
	`»£tP¬®Ïx
();

42 
	}
}

45 
	g·¿Îax
::
	$šüem’tMid
(){

46 
·¿X
+=2;

47 
·¿X2
+=2;

48 
	`upd©eReùs
();

49 
	`»£tP¬®Ïx
();

50 
	}
}

52 
	g·¿Îax
::
	$šüem’tBack
(){

53 
·¿X
+=1;

54 
·¿X2
+=1;

55 
	`upd©eReùs
();

56 
	`»£tP¬®Ïx
();

57 
	}
}

59 
	g·¿Îax
::
	$¥ecŸlInüem’tFÜe
(){

60 
·¿X
+=4;

62 
	`upd©eReùs
();

63 
	`¥ecŸlRe£tP¬®Ïx
();

64 
	}
}

66 
	g·¿Îax
::
	$»£tP¬®Ïx
()

68 if(
·¿X
 > 799){

69 
·¿X
 = -799;

71 if(
·¿X2
 > 799){

72 
·¿X2
 = -799;

74 
	}
}

76 
	g·¿Îax
::
	$¥ecŸlRe£tP¬®Ïx
()

78 if(
·¿X
>799){

79 
·¿X
=-1599;

85 
	}
}

87 
	g·¿Îax
::
	$upd©eReùs
()

90 
·¿ÎaxReù1
.
x
=
·¿X
;

91 
·¿ÎaxReù2
.
x
=
·¿X2
;

93 
	}
}

95 
	g·¿Îax
::
	$·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
)

98 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù1
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

99 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù2
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

101 
	}
}

103 
	g·¿Îax
::
	$ä“P¬®ÏxTextu»
(){

105 
·¿ÎaxTextu»
.
	`ä“
();

107 
	}
}

	@C:\Sojourner\Sojourner\parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

45 
»£tP¬®Ïx
();

46 
upd©eReùs
();

48 
¥ecŸlRe£tP¬®Ïx
();

50 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

52 
ä“P¬®ÏxTextu»
();

54 
	m´iv©e
:

56 
·¿X
,
	m·¿Y
;

57 
	m·¿X2
,
	m·¿Y2
;

58 
	m·¿V–X
;

	@C:\Sojourner\Sojourner\particle.cpp

1 
	~"·¹işe.h
"

3 
	gP¬tişe
::
	$ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
)

6 
·¹X
 = 20 + (
	`¿nd
() % 740) ;

7 
·¹Y
 = 20 + (
	`¿nd
() % 540) ;

8 
flReù
 = {
·¹X
,
·¹Y
,10,10};

11 
äame
 = 
	`¿nd
() % 50;

14  
	`¿nd
() % 4 )

16 0: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0x00, 0x00, 0xFF );
»nd”CŞÜ
=0; ;

19 1: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0x00, 0xFF );
»nd”CŞÜ
=3; ;

21 2: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );
»nd”CŞÜ
=5; ;

23 3: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0x00, 0xFF, 0xFF, 0xFF );
»nd”CŞÜ
=7; ;

26 
	}
}

29 
	gP¬tişe
::
	$»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
)

32  
»nd”CŞÜ
 )

34 0: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0x00, 0x00, 0xFF ); ;

35 1: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0x00, 0xFF, 0x00, 0xFF ); ;

36 2: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0x00, 0x00, 0xFF, 0xFF ); ;

37 3: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0x00, 0xFF ); ;

38 4: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0x00, 0x00, 0x00, 0xFF ); ;

39 5: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF ); ;

40 6: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0x00, 0xFF, 0xFF ); ;

41 7: 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0x00, 0xFF, 0xFF, 0xFF ); ;

44 
	`SDL_R’d”FlReù
Ğ
»nd””
, &
flReù
 );

46 
äame
++;

47 
	}
}

49 
boŞ
 
	gP¬tişe
::
	$isD—d
()

51  
äame
 > 200;

52 
	}
}

	@C:\Sojourner\Sojourner\particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

7 cÚ¡ 
	gTOTAL_PARTICLES
 = 200;

10 şas 
	cP¬tişe


12 
	mpublic
:

15 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

19 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
);

22 
boŞ
 
isD—d
();

24 
	m»nd”CŞÜ
;

27 
	m´iv©e
:

29 
·¹X
, 
	m·¹Y
;

32 
	mäame
;

35 
SDL_Reù
 
	mflReù
;

	@C:\Sojourner\Sojourner\player.cpp

1 
	~"¶ay”.h
"

3 
	g¶ay”
::
	$¶ay”
()

5 
pV–X
 = 
pV–Y
 = 
w®kF¿me
 = 
moveS‹
 = 0;

6 
¶ay”X
 = 380;

7 
¶ay”Y
 = 260;

8 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

9 
æHÜizÚl
 = 
çl£
;

10 
šS·û
=
çl£
;

11 
šRªge
=
çl£
;

12 
š‹¿ù
=
çl£
;

13 
š‹¿ùBed
=
çl£
;

14 
š‹¿ùW©”Tªk
=
çl£
;

15 
š‹¿ùPÏÁ”
=
çl£
;

16 
š‹¿ùK™ch’
=
çl£
;

19 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

20 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

21 
¶ay”CŞlisiÚBox
.
w
 = 30;

22 
¶ay”CŞlisiÚBox
.
h
 = 
PLAYER_HEIGHT
/4;

24 
	}
}

25 
	g¶ay”
::~
	$¶ay”
()

27 
i
 = 0; i<
MOVE_STATES
;i++)

29 if(
i
==
IDLE
)

31 
j
 = 0; j<
IDLE_TEXTURES
;j++)

33 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

36 if(
i
==
WALK_LR
)

38 
k
 = 0; k<
LR_TEXTURES
;k++)

40 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

43 if(
i
==
WALK_DLDR
)

45 
k
 = 0; k<
DLDR_TEXTURES
;k++)

47 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

50 if(
i
==
WALK_ULUR
)

52 
k
 = 0; k<
ULUR_TEXTURES
;k++)

54 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

57 if(
i
==
WALK_D
)

59 
k
 = 0; k<
D_TEXTURES
;k++)

61 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

64 if(
i
==
WALK_U
)

66 
k
 = 0; k<
U_TEXTURES
;k++)

68 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

72 
cu¼’tTextu»
.
	`ä“
();

73 
	}
}

75 
	g¶ay”
::
	$hªdËEv’t
(
SDL_Ev’t
& 
e
)

77 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 &&ƒ.
key
.
»³©
 == 0)

79 
e
.
key
.
keysym
.
sym
)

81 
SDLK_w
:

82 
pV–Y
 -ğ
PLAYER_VEL
;

84 
SDLK_s
:

85 
pV–Y
 +ğ
PLAYER_VEL
;

87 
SDLK_a
:

88 
pV–X
 -ğ
PLAYER_VEL
;

90 
SDLK_d
:

91 
pV–X
 +ğ
PLAYER_VEL
;

93 
SDLK_e
:

94 
š‹¿ù
 = 
Œue
;

95 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

99 if(
e
.
ty³
 =ğ
SDL_KEYUP
 &&ƒ.
key
.
»³©
 == 0)

101 
e
.
key
.
keysym
.
sym
)

103 
SDLK_w
:

104 
pV–Y
 +ğ
PLAYER_VEL
;

106 
SDLK_s
:

107 
pV–Y
 -ğ
PLAYER_VEL
;

109 
SDLK_a
:

110 
pV–X
 +ğ
PLAYER_VEL
;

112 
SDLK_d
:

113 
pV–X
 -ğ
PLAYER_VEL
;

115 
SDLK_e
:

116 
š‹¿ù
 = 
çl£
;

117 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

121 
	}
}

124 
	g¶ay”
::
	$move
(
tick
, 
SDL_Reù
 
cŞlidabË
[],SDL_Reù 
š‹¿ùabË
[],
STATIONS
)

126 
¶ay”X
 +ğ
pV–X
;

128 if(
¶ay”Y
<360 && 
pV–Y
>0)

130 
¶ay”Y
 +ğ
pV–Y
;

132 if(
¶ay”Y
>160 && 
pV–Y
<0)

134 
¶ay”Y
+=
pV–Y
;

138 if(
pV–X
 > 0)

140 if(
pV–Y
 == 0)

143 
æHÜizÚl
=
çl£
;

145 
moveS‹
 = 
WALK_LR
;

146 if(
tick
%3 == 0)

148 
w®kF¿me
++;

149 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

151 
w®kF¿me
=0;

155 if(
pV–Y
 > 0)

157 
æHÜizÚl
=
çl£
;

158 
moveS‹
=
WALK_DLDR
;

159 if(
tick
%3 == 0)

161 
w®kF¿me
++;

162 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

164 
w®kF¿me
=0;

170 
æHÜizÚl
=
çl£
;

171 
moveS‹
=
WALK_ULUR
;

172 if(
tick
%3 == 0)

174 
w®kF¿me
++;

175 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

177 
w®kF¿me
=0;

181 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

182 
¡d
::
cout
<<"\n\ÀmoveS‹: "<<
moveS‹
<<"\Àw®kF¿me:"<<
w®kF¿me
;

184 if(
pV–X
 < 0)

186 if(
pV–Y
 == 0)

189 
æHÜizÚl
=
Œue
;

191 
moveS‹
=
WALK_LR
;

192 if(
tick
%3 == 0)

194 
w®kF¿me
++;

195 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

197 
w®kF¿me
=0;

201 if(
pV–Y
 > 0)

203 
æHÜizÚl
=
Œue
;

204 
moveS‹
=
WALK_DLDR
;

205 if(
tick
%3 == 0)

207 
w®kF¿me
++;

208 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

210 
w®kF¿me
=0;

216 
æHÜizÚl
=
Œue
;

217 
moveS‹
=
WALK_ULUR
;

218 if(
tick
%3 == 0)

220 
w®kF¿me
++;

221 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

223 
w®kF¿me
=0;

227 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

228 
¡d
::
cout
<<"\n\ÀmoveS‹: "<<
moveS‹
<<"\Àw®kF¿me:"<<
w®kF¿me
;

233 
æHÜizÚl
=
çl£
;

235 if(
pV–Y
 > 0)

237 
moveS‹
=
WALK_D
;

238 if(
tick
%3 == 0)

240 
w®kF¿me
++;

241 if(
w®kF¿me
 >ğ
D_TEXTURES
)

243 
w®kF¿me
=0;

247 if(
pV–Y
 < 0)

249 
moveS‹
=
WALK_U
;

250 if(
tick
%3 == 0)

252 
w®kF¿me
++;

253 if(
w®kF¿me
 >ğ
U_TEXTURES
)

255 
w®kF¿me
=0;

262 
moveS‹
=
IDLE
;

263 if(
tick
%3 == 0)

265 
w®kF¿me
++;

266 if(
w®kF¿me
 >ğ
IDLE_TEXTURES
)

268 
w®kF¿me
=0;

274 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

277 if((
¶ay”X
 < 0è|| (¶ay”X + 
PLAYER_WIDTH
 > 
SCREEN_WIDTH
) )

279 
¶ay”X
 -ğ
pV–X
;

281 if((
¶ay”Y
 < 0è|| (¶ay”Y + 
PLAYER_HEIGHT
 > 
SCREEN_HEIGHT
) )

283 
¶ay”Y
 -ğ
pV–Y
;

286 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

287 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

290 
i
 = 0; i<
STATIONS
;i++)

294 if(
	`cŞlisiÚD‘eùÜ
(
cŞlidabË
[
i
]))

296 
¡d
::
cout
<<"\n collision detected!";

297 
¶ay”X
-=
pV–X
;

298 
¶ay”Y
-=
pV–Y
;

301 if(
	`cŞlisiÚD‘eùÜ
(
š‹¿ùabË
[
i
]))

307 if(
i
==0)

310 
š‹¿ùBed
 = 
Œue
;

313 if(
i
==1)

316 
š‹¿ùW©”Tªk
 = 
Œue
;

318 if(
i
==2)

321 
š‹¿ùPÏÁ”
 = 
Œue
;

323 if(
i
==3)

326 
š‹¿ùK™ch’
 = 
Œue
;

331 if(
i
==0)

334 
š‹¿ùBed
 = 
çl£
;

336 if(
i
==1)

339 
š‹¿ùW©”Tªk
 = 
çl£
;

341 if(
i
==2)

344 
š‹¿ùPÏÁ”
 = 
çl£
;

346 if(
i
==3)

349 
š‹¿ùK™ch’
 = 
çl£
;

353 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

354 
	}
}

356 
	g¶ay”
::
	$lßdPÏy”
(
SDL_R’d””
* 
»nd””
)

358 
¡d
::
cout
<<"\n„unning…layer::loadPlayer(SDL_Renderer*„enderer)";

360 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

361 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

362 
¶ay”CŞlisiÚBox
.
w
=30;

363 
¶ay”CŞlisiÚBox
.
h
=20;

366 
¡d
::
¡ršg¡»am
 
ss
,
ss2
,
ss3
;

367 
ss3
.
	`¡r
("");

368 
ss3
.
	`ş—r
();

369 
¡d
::
¡ršg
 
¡r
 = 
ss3
.
	`¡r
();

370 
i
 = 0; i<
MOVE_STATES
;i++)

372 if(
i
==
IDLE
)

374 if(
šS·û
)

376 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown1");

380 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown1");

382 
ss2
.
	`¡r
(".png");

384 
j
 = 0; j<
IDLE_TEXTURES
;j++)

386 
ss3
 << 
ss
.
	`¡r
();

388 
ss3
 << 
ss2
.
	`¡r
();

389 
¡r
 = 
ss3
.
	`¡r
();

390 
¶ay”Textu»
[
i
][
j
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

391 
ss3
.
	`¡r
( "" );

392 
ss3
.
	`ş—r
();

395 if(
i
==
WALK_LR
)

397 if(
šS·û
)

399 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRight");

403 
ss
.
	`¡r
("images/sprites/PlayerCharacterRight");

406 
ss2
.
	`¡r
(".png");

407 
k
 = 0; k<
LR_TEXTURES
;k++)

409 
ss3
 << 
ss
.
	`¡r
();

410 
ss3
 << (
k
+1);

411 
ss3
 << 
ss2
.
	`¡r
();

412 
¡r
 = 
ss3
.
	`¡r
();

413 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

414 
ss3
.
	`¡r
("");

415 
ss3
.
	`ş—r
();

418 if(
i
==
WALK_DLDR
)

420 if(
šS·û
)

422 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightDown");

426 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightDown");

429 
ss2
.
	`¡r
(".png");

430 
k
 = 0; k<
DLDR_TEXTURES
;k++)

432 
ss3
 << 
ss
.
	`¡r
();

433 
ss3
 << (
k
+1);

434 
ss3
 << 
ss2
.
	`¡r
();

435 
¡r
 = 
ss3
.
	`¡r
();

436 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

437 
ss3
.
	`¡r
("");

438 
ss3
.
	`ş—r
();

441 if(
i
==
WALK_ULUR
)

443 if(
šS·û
)

445 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightUp");

449 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightUp");

452 
ss2
.
	`¡r
(".png");

453 
k
 = 0; k<
ULUR_TEXTURES
;k++)

455 
ss3
 << 
ss
.
	`¡r
();

456 
ss3
 << (
k
+1);

457 
ss3
 << 
ss2
.
	`¡r
();

458 
¡r
 = 
ss3
.
	`¡r
();

459 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

460 
ss3
.
	`¡r
("");

461 
ss3
.
	`ş—r
();

464 if(
i
==
WALK_D
)

466 if(
šS·û
)

468 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown");

472 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown");

475 
ss2
.
	`¡r
(".png");

476 
k
 = 0; k<
D_TEXTURES
;k++)

478 
ss3
 << 
ss
.
	`¡r
();

479 
ss3
 << (
k
+1);

480 
ss3
 << 
ss2
.
	`¡r
();

481 
¡r
 = 
ss3
.
	`¡r
();

482 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

483 
ss3
.
	`¡r
("");

484 
ss3
.
	`ş—r
();

487 if(
i
==
WALK_U
)

489 if(
šS·û
)

491 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceUp");

495 
ss
.
	`¡r
("images/sprites/PlayerCharacterUp");

498 
ss2
.
	`¡r
(".png");

499 
k
 = 0; k<
U_TEXTURES
;k++)

501 
ss3
 << 
ss
.
	`¡r
();

502 
ss3
 << (
k
+1);

503 
ss3
 << 
ss2
.
	`¡r
();

504 
¡r
 = 
ss3
.
	`¡r
();

505 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

506 
ss3
.
	`¡r
("");

507 
ss3
.
	`ş—r
();

511 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

512 
	}
}

514 
	g¶ay”
::
	$»nd”
(
SDL_R’d””
* 
»nd””
)

516 if(
æHÜizÚl
)

518 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_HORIZONTAL
,
»nd””
);

522 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

525 
	}
}

527 
	g¶ay”
::
	$ä“PÏy”
()

529 
¡d
::
cout
<<"\n„unning…layer::freePlayer()";

530 
i
 = 0; i<
MOVE_STATES
;i++)

532 if(
i
==
IDLE
)

534 
j
 = 0; j<
IDLE_TEXTURES
;j++)

536 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

539 if(
i
==
WALK_LR
)

541 
k
 = 0; k<
LR_TEXTURES
;k++)

543 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

546 if(
i
==
WALK_DLDR
)

548 
k
 = 0; k<
DLDR_TEXTURES
;k++)

550 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

553 if(
i
==
WALK_ULUR
)

555 
k
 = 0; k<
ULUR_TEXTURES
;k++)

557 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

560 if(
i
==
WALK_D
)

562 
k
 = 0; k<
D_TEXTURES
;k++)

564 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

567 if(
i
==
WALK_U
)

569 
k
 = 0; k<
U_TEXTURES
;k++)

571 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

575 
cu¼’tTextu»
.
	`ä“
();

576 
	}
}

578 
	g¶ay”
::
	$£tCam”a
(
SDL_Reù
& 
ÿm”a
)

580 
¡d
::
cout
<<"\n„unning…layer::setCamera(SDL_Rect& camera)";

581 
ÿm”a
.
x
 = (
¶ay”CŞlisiÚBox
.x + 
PLAYER_WIDTH
/2è- 
SCREEN_WIDTH
/2;

582 
ÿm”a
.
y
 = (
¶ay”CŞlisiÚBox
.y + 
PLAYER_HEIGHT
/2è- 
SCREEN_HEIGHT
/2;

584 if(
ÿm”a
.
x
 < 0)

586 
ÿm”a
.
x
 = 0;

588 if(
ÿm”a
.
y
 < 0)

590 
ÿm”a
.
y
=0;

593 if(
ÿm”a
.
x
>
SCREEN_WIDTH
-ÿm”a.
w
)

595 
ÿm”a
.
x
=
SCREEN_WIDTH
-ÿm”a.
w
;

597 if(
ÿm”a
.
y
>
SCREEN_HEIGHT
-ÿm”a.
h
)

599 
ÿm”a
.
y
=
SCREEN_HEIGHT
-ÿm”a.
h
;

601 
	}
}

603 
	g¶ay”
::
	$g‘X
()

605  
¶ay”X
;

606 
	}
}

608 
	g¶ay”
::
	$g‘Y
()

610  
¶ay”Y
;

611 
	}
}

613 
	g¶ay”
::
	$g‘PV–X
()

615  
pV–X
;

616 
	}
}

618 
	g¶ay”
::
	$g‘PV–Y
()

620  
pV–Y
;

621 
	}
}

623 
	g¶ay”
::
	$£tX
(
x
)

625 
¶ay”X
 = 
x
;

626 
	}
}

628 
	g¶ay”
::
	$£tY
(
y
)

630 
¶ay”Y
 = 
y
;

631 
	}
}

633 
boŞ
 
	g¶ay”
::
	$cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
)

636 
¶ay”Leá
, 
cŞlidabËLeá
;

637 
¶ay”Right
, 
cŞlidabËRight
;

638 
¶ay”Tİ
, 
cŞlidabËTİ
;

639 
¶ay”BÙtom
, 
cŞlidabËBÙtom
;

641 
¶ay”Leá
 = 
¶ay”CŞlisiÚBox
.
x
;

642 
¶ay”Right
 = 
¶ay”CŞlisiÚBox
.
x
 +…Ïy”CŞlisiÚBox.
w
;

643 
¶ay”Tİ
 = 
¶ay”CŞlisiÚBox
.
y
;

644 
¶ay”BÙtom
 = 
¶ay”CŞlisiÚBox
.
y
 +…Ïy”CŞlisiÚBox.
h
;

646 
cŞlidabËLeá
 = 
cŞlidabË
.
x
;

647 
cŞlidabËRight
 = 
cŞlidabË
.
x
+cŞlidabË.
w
;

648 
cŞlidabËTİ
 = 
cŞlidabË
.
y
;

649 
cŞlidabËBÙtom
 = 
cŞlidabË
.
y
 + cŞlidabË.
h
;

651 ifĞ
¶ay”BÙtom
 <ğ
cŞlidabËTİ
 )

653  
çl£
;

656 ifĞ
¶ay”Tİ
 >ğ
cŞlidabËBÙtom
 )

658  
çl£
;

661 ifĞ
¶ay”Right
 <ğ
cŞlidabËLeá
 )

663  
çl£
;

666 ifĞ
¶ay”Leá
 >ğ
cŞlidabËRight
 )

668  
çl£
;

671  
Œue
;

672 
	}
}

	@C:\Sojourner\Sojourner\player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"‹xtu».h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 şas 
	c¶ay”


41 
	mpublic
:

43 
¶ay”
();

44 ~
¶ay”
();

46 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

47 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

48 cÚ¡ 
	mPLAYER_VEL
 = 5;

50 
	m¶ay”BÙ
;

52 
	mmoveS‹
;

54 
	mw®kF¿me
;

56 
boŞ
 
	mæHÜizÚl
;

58 
boŞ
 
	mšS·û
;

60 
boŞ
 
	mš‹¿ù
;

62 
boŞ
 
	mšRªge
;

64 
boŞ
 
	mš‹¿ùW©”Tªk
;

66 
boŞ
 
	mš‹¿ùBed
;

68 
boŞ
 
	mš‹¿ùPÏÁ”
;

70 
boŞ
 
	mš‹¿ùK™ch’
;

72 
Textu»
 
	mcu¼’tTextu»
;

74 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

76 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

78 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

80 
move
(
tick
, 
SDL_Reù
 
cŞlidabË
[], SDL_Reù 
š‹¿ùabË
[],
STATIONS
);

82 
»nd”
(
SDL_R’d””
* 
»nd””
);

84 
ä“PÏy”
();

86 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

88 
g‘X
();

89 
g‘Y
();

91 
g‘PV–X
();

92 
g‘PV–Y
();

94 
£tX
(
x
);

95 
£tY
(
y
);

97 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

99 
	m´iv©e
:

101 
¶ay”X
,
	m¶ay”Y
;

103 
	mpV–X
,
	mpV–Y
;

105 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@C:\Sojourner\Sojourner\pregameui.cpp

1 
	~"´egameui.h
"

3 
	g´egameui
::
	$´egameui
()

5 
i
 = 0; i<
TOTAL_SAVES
;i++)

7 
exi¡šgSave
[
i
] = 
çl£
;

9 
	}
}

11 
	g´egameui
::~
	$´egameui
()

14 
	}
}

16 
´egameui
::
	$lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

18 
İtiÚsBu‰ÚNames
[0]="back";

19 
İtiÚsBu‰ÚNames
[1]="fullScreenToggle";

20 
İtiÚsBu‰ÚNames
[2]="musicToggle";

21 
İtiÚsBu‰ÚNames
[3]="voiceToggle";

23  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

25 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 = 
İtiÚsBu‰ÚNames
[i];

26 
¡d
::
¡ršg¡»am
 
ss
;

27 
ss
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

28 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

29 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

31 if(
i
==0)

33 
¡d
::
¡ršg¡»am
 
ssMO
;

34 
ssMO
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

35 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

36 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

39 
İtiÚsBu‰Ús
[1].
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

40 
İtiÚsBu‰Ús
[2].
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

41 
İtiÚsBu‰Ús
[3].
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

43 
İtiÚsBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

44 
İtiÚsBu‰Ús
[1].
	`£tPos™iÚ
(20,100);

45 
İtiÚsBu‰Ús
[2].
	`£tPos™iÚ
(20,200);

46 
İtiÚsBu‰Ús
[3].
	`£tPos™iÚ
(20,300);

48 
	}
}

50 
	g´egameui
::
	$»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

52 
i
 =0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

54 if(
i
==0)

56 if(
İtiÚsBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

58 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

62 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

67 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

72 
	}
}

74 
	g´egameui
::
	$ä“O±iÚsBu‰Ús
()

76 
i
 = 0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

78 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

80 if(
i
==0)

82 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

85 
	}
}

87 
	g´egameui
::
	$hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

90 
İtiÚsTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

92 
	`»nd”O±iÚsBu‰Ús
(
»nd””
);

95 
	}
}

98 
	g´egameui
::
	$lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

101 
üed™sBu‰ÚNames
[0]="back";

102 
üed™sBu‰Ús
[0].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[0];

104  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

106 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[i];

107 
¡d
::
¡ršg¡»am
 
ss
;

108 
¡d
::
¡ršg¡»am
 
ssMO
;

109 
ss
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

110 
ssMO
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

111 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

112 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

113 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

114 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

117 
üed™sBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

118 
	}
}

120 
	g´egameui
::
	$»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

122 
i
 =0; i<
TOTAL_CREDITS_BUTTONS
;i++)

124 if(
üed™sBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

126 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

130 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

133 
	}
}

135 
	g´egameui
::
	$ä“C»d™sBu‰Ús
()

137 
¡d
::
cout
<<"\n„unning…regameui::freeCreditsButtons()";

138 
i
 = 0; i<
TOTAL_CREDITS_BUTTONS
;i++)

140 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

141 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

143 
	}
}

145 
	g´egameui
::
	$hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

148 
üed™sTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

149 
	`»nd”C»d™sBu‰Ús
(
»nd””
);

150 
	}
}

152 
	g´egameui
::
	$lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

154 
¡d
::
cout
<<"\n„unning…regameui::loadLoadgameButtons(SDL_Renderer*„enderer)";

155 
lßdgameBu‰ÚNames
[0]="back";

156 
lßdgameBu‰ÚNames
[1]="save1";

157 
lßdgameBu‰ÚNames
[2]="save2";

158 
lßdgameBu‰ÚNames
[3]="save3";

159  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

161 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 = 
lßdgameBu‰ÚNames
[i];

162 
¡d
::
¡ršg¡»am
 
ss
;

163 
¡d
::
¡ršg¡»am
 
ssMO
;

164 
ss
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

165 
ssMO
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

166 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

167 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

168  
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

169 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

171 
lßdgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

172 
lßdgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

173 
lßdgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

174 
lßdgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

175 
	}
}

177 
	g´egameui
::
	$»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

188 
i
=0;i<
TOTAL_LOADGAME_BUTTONS
;i++)

190 if(
lßdgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
){

191 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

195 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

198 
	}
}

200 
	g´egameui
::
	$ä“LßdgameBu‰Ús
()

202 
¡d
::
cout
<<"\n„unning…regameui::freeLoadgameButtons()";

203 
i
 = 0; i<
TOTAL_LOADGAME_BUTTONS
;i++)

205 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

206 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

207 
lßdgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

209 
	}
}

211 
	g´egameui
::
	$hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

215 
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

216 
	`»nd”LßdgameBu‰Ús
(
»nd””
);

217 
	}
}

219 
	g´egameui
::
	$lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

221 
¡d
::
cout
<<"\n„unning…regameui::loadNewgameButtons(SDL_Renderer*„enderer)";

222 
ÃwgameBu‰ÚNames
[0]="back";

223 
ÃwgameBu‰ÚNames
[1]="save1";

224 
ÃwgameBu‰ÚNames
[2]="save2";

225 
ÃwgameBu‰ÚNames
[3]="save3";

227  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

229 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 = 
ÃwgameBu‰ÚNames
[i];

230 
¡d
::
¡ršg¡»am
 
ss
;

231 
¡d
::
¡ršg¡»am
 
ssMO
;

232 
ss
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

233 
ssMO
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

234 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

235 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

236  
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

237 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

239 
ÃwgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

240 
ÃwgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

241 
ÃwgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

242 
ÃwgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

243 
	}
}

245 
	g´egameui
::
	$»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

248 
i
 =0; i<
TOTAL_NEWGAME_BUTTONS
;i++)

250 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

254 
i
=0;i<
TOTAL_NEWGAME_BUTTONS
;i++)

256 if(
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
){

257 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

261 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

264 
	}
}

266 
	g´egameui
::
	$ä“NewgameBu‰Ús
()

268 
¡d
::
cout
<<"\n„unning…regameui::freeNewgameButtons()";

269 
i
 = 0; i<
TOTAL_NEWGAME_BUTTONS
;i++)

271 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

272 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

273 
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

275 
	}
}

277 
	g´egameui
::
	$hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

281 
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
 );

282 
	`»nd”NewgameBu‰Ús
(
»nd””
);

283 
	}
}

285 
	g´egameui
::
	$»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
)

289  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

292 ifĞ
·¹işes
[
i
].
	`isD—d
() )

294 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

298  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

300 
·¹işes
[
i
].
	`»nd”
(
»nd””
,·¹işes[i].
»nd”CŞÜ
);

302 
	}
}

304 
	g´egameui
::
	$lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

306 
¡d
::
cout
<<"\n„unning…regameui::loadMainButtons(SDL_Renderer*„enderer)";

307 
mašBu‰ÚNames
[0]="new";

308 
mašBu‰ÚNames
[1]="load";

309 
mašBu‰ÚNames
[2]="options";

310 
mašBu‰ÚNames
[3]="credits";

312  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

314 
mašBu‰Ús
[
i
].
bu‰ÚName
 = 
mašBu‰ÚNames
[i];

315 
¡d
::
¡ršg¡»am
 
ss
;

316 
¡d
::
¡ršg¡»am
 
ssMO
;

317 
ss
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

318 
ssMO
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

319 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

320 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

321  
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

322 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

323 
mašBu‰Ús
[ 
i
 ].
	`£tPos™iÚ
Ğ(((i+1)*160)-80), 
SCREEN_HEIGHT
 - 140 );

325 
	}
}

327 
	g´egameui
::
	$»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

330 
i
=0;i<
TOTAL_MAIN_BUTTONS
;i++)

332 if(
mašBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
){

333 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

337 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

340 
	}
}

342 
	g´egameui
::
	$ä“MašBu‰Ús
()

344 
¡d
::
cout
<<"\n„unning…regameui::freeMainButtons()";

345 
i
 = 0; i<
TOTAL_MAIN_BUTTONS
;i++)

347 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

348 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

349 
mašBu‰Ús
[
i
].
mou£Ov”
=
çl£
;

351 
	}
}

353 
	g´egameui
::
	$hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

356 
PGUIBÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

357 
	`»nd”P¬tişes
(
»nd””
);

358 
t™ËTextu»
.
	`»nd”
Ğ0, 0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
 );

360 
t™Ë
.
	`»nd”
(200, 100,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

362 
	`»nd”MašBu‰Ús
(
»nd””
);

363 
	}
}

365 
	g´egameui
::
	$ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
)

367 
¡d
::
cout
<<"\n„unning…regameui::createParticles(SDL_Renderer*„enderer)";

368 
i
=0;i<
TOTAL_PARTICLES
;i++){

369 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

371 
	}
}

373 
boŞ
 
	g´egameui
::
	$£tPGUITextu»s
(
SDL_R’d””
* 
»nd””
)

375 
¡d
::
cout
<<"\n„unning…regameui::setPGUITextures(SDL_Renderer*„enderer)";

376 
boŞ
 
sucûss
 = 
Œue
;

378 
sucûss
 = 
t™Ë
.
	`lßdFromFe
Ğ"images/t™Ë.²g",
»nd””
 );

380 
sucûss
 = 
t™ËTextu»
.
	`lßdFromFe
Ğ"images/E¬thMoÚ2.²g",
»nd””
 );

381 
sucûss
 = 
lßdGameTextu»
.
	`lßdFromFe
Ğ"images/A¡”oidMoÚ.²g",
»nd””
 );

382 
sucûss
 = 
ch­‹rS–eùTextu»
.
	`lßdFromFe
Ğ"images/Cosmos.²g",
»nd””
 );

383 
sucûss
 = 
üed™sTextu»
.
	`lßdFromFe
Ğ"images/cockp™.²g",
»nd””
 );

384 
sucûss
 = 
İtiÚsTextu»
.
	`lßdFromFe
("images/dockšg.²g",
»nd””
 );

385 
sucûss
 = 
PGUIBÏckGround
.
	`lßdFromFe
("images/bÏckground.²g",
»nd””
);

388 if(!
sucûss
)

390 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

393  
sucûss
;

394 
	}
}

396 
	g´egameui
::
	$ä“PGUITextu»s
()

398 
¡d
::
cout
<<"\n„unning…regameui::freePGUITextures()";

401 
t™Ë
.
	`ä“
();

403 
t™ËTextu»
.
	`ä“
();

404 
ch­‹rS–eùTextu»
.
	`ä“
();

405 
lßdGameTextu»
.
	`ä“
();

406 
İtiÚsTextu»
.
	`ä“
();

407 
üed™sTextu»
.
	`ä“
();

408 
PGUIBÏckGround
.
	`ä“
();

410 
	}
}

412 
boŞ
 
	g´egameui
::
	$lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,
boŞ
 
sucûss
)

414 
¡d
::
cout
<<"\n„unning…regameui::loadPregameUI(SDL_Renderer*„enderer,bool success)";

417 
	`lßdMašBu‰Ús
(
»nd””
);

421 
sucûss
 = 
	`£tPGUITextu»s
(
»nd””
);

422  
sucûss
;

423 
	}
}

425 
	g´egameui
::
	$ä“
()

427 
¡d
::
cout
<<"\n„unning…regameui::free()";

430 
	`ä“MašBu‰Ús
();

431 
	`ä“NewgameBu‰Ús
();

432 
	`ä“LßdgameBu‰Ús
();

433 
	`ä“O±iÚsBu‰Ús
();

434 
	`ä“C»d™sBu‰Ús
();

436 
	`ä“PGUITextu»s
();

437 
	}
}

439 
	g´egameui
::
	$hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 )

444 
ŞdGameS‹
 = 
gameS‹
;

446 if(
gameS‹
==0)

448  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

451 
gameS‹
 = 
mašBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

453 if(
gameS‹
!=-1)

455 
i
+=
TOTAL_MAIN_BUTTONS
;

459 if(
gameS‹
==1)

461  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

463 
gameS‹
 = 
ÃwgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

465 if(
gameS‹
!=-1)

467 
cho£nSave
 = 
ÃwgameBu‰Ús
[
i
].chosenSave;

468 
i
+=
TOTAL_NEWGAME_BUTTONS
;

472 if(
gameS‹
==2)

474  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

476 
gameS‹
 = 
lßdgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

478 if(
gameS‹
!=-1)

480 
cho£nSave
 = 
lßdgameBu‰Ús
[
i
].chosenSave;

481 
i
+=
TOTAL_LOADGAME_BUTTONS
;

485 if(
gameS‹
==3)

487  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

489 
gameS‹
 = 
İtiÚsBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

491 if(
gameS‹
!=-1)

493 
i
+=
TOTAL_OPTIONS_BUTTONS
;

497 if(
gameS‹
==4)

499  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

501 
gameS‹
 = 
üed™sBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

503 if(
gameS‹
!=-1)

505 
i
+=
TOTAL_CREDITS_BUTTONS
;

509 if(
gameS‹
<0)

511 
gameS‹
=
ŞdGameS‹
;

513 
ÃwGameS‹
 = 
gameS‹
;

515 if(
ŞdGameS‹
 !ğ
ÃwGameS‹
)

517 
	`lßdS‹
(
ŞdGameS‹
,
ÃwGameS‹
,
»nd””
);

519  
ÃwGameS‹
;

520 
	}
}

522 
	g´egameui
::
	$lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
)

524 
¡d
::
cout
<<"\n„unning…regameui::loadState(int oldGameState, int‚ewGameState, SDL_Renderer*„enderer)";

525 
¡d
::
cout
<<"\À oldGameS‹: "<<
ŞdGameS‹
<<"‚ewGameS‹: "<<
ÃwGameS‹
;

526  
ŞdGameS‹
 )

528 0: 
	`ä“MašBu‰Ús
();

530 1: 
	`ä“NewgameBu‰Ús
();

532 2: 
	`ä“LßdgameBu‰Ús
();

534 3: 
	`ä“O±iÚsBu‰Ús
();

536 4: 
	`ä“C»d™sBu‰Ús
();

539  
ÃwGameS‹
 )

541 0: 
	`lßdMašBu‰Ús
(
»nd””
);

543 1: 
	`lßdNewgameBu‰Ús
(
»nd””
);

545 2: 
	`lßdLßdgameBu‰Ús
(
»nd””
);

547 3: 
	`lßdO±iÚsBu‰Ús
(
»nd””
);

549 4: 
	`lßdC»d™sBu‰Ús
(
»nd””
);

552 
	}
}

	@C:\Sojourner\Sojourner\pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

21 
Textu»
 
	mt™Ë
;

22 
Textu»
 
	mt™ËTextu»
;

23 
Textu»
 
	müed™sTextu»
;

24 
Textu»
 
	mİtiÚsTextu»
;

25 
Textu»
 
	mlßdGameTextu»
;

26 
Textu»
 
	mch­‹rS–eùTextu»
;

28 
Textu»
 
	mPGUIBÏckGround
;

34 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

35 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

36 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

37 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

38 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

41 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

42 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

43 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

44 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

45 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

48 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

49 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

50 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

51 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

52 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

57 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

58 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

59 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
ä“MašBu‰Ús
();

63 
ä“NewgameBu‰Ús
();

64 
ä“LßdgameBu‰Ús
();

65 
ä“O±iÚsBu‰Ús
();

66 
ä“C»d™sBu‰Ús
();

68 
	mcho£nSave
;

70 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

73 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

76 
boŞ
 
£tPGUITextu»s
(
SDL_R’d””
* 
»nd””
);

77 
ä“PGUITextu»s
();

80 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

82 
£tBu‰ÚNames
();

84 
ä“Bu‰Ús
();

86 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

88 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

90 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

92 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

94 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

97 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

99 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

101 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

103 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

105 
ä“
();

107 
	m´iv©e
:

	@C:\Sojourner\Sojourner\saveGame.cpp

1 
	~"§veGame.h
"

3 
	g§veGame
::
	$»adP»fsFe
()

5 
¡d
::
cout
<<"\n„unning saveGame::readPrefsFile()";

7 ifĞ
´efsFe
 =ğ
NULL
 )

9 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’…»ã»nû fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

11 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

12 ifĞ
´efsFe
 !ğ
NULL
 )

14 
	`´štf
( "\n New…references file created!\n" );

16  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

18 
´efsD©a
[ 
i
 ] = 0;

19 if(
i
==1 || i==2)

21 
´efsD©a
[
i
]=1;

23 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

26 
	`SDL_RWşo£
Ğ
´efsFe
 );

30 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

36 
	`´štf
( "Loading Saved Preferences Data...!\n" );

37  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

39 
	`SDL_RW»ad
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

40 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

45 
	`SDL_RWşo£
Ğ
´efsFe
 );

47 
	}
}

49 
	g§veGame
::
	$»adSaveFe
(
feNum
)

51 
¡d
::
cout
<<"\n„unning saveGame::readSaveFile(int fileNum)";

55 
¡d
::
cout
<<"\Àcho£nSave/feNum = "<<
feNum
;

56 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "r+b" );

57 ifĞ
§veFe
 =ğ
NULL
 )

59 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

63 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

64 ifĞ
§veFe
 !ğ
NULL
 )

66 
	`´štf
Ğ"\ÀNew savf%d c»©ed!\n", 
feNum
 );

68  
i
 = 0; i < 
TOTAL_DATA
; ++i )

70 
d©a
[ 
i
 ] = 0;

71 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

74 
	`SDL_RWşo£
Ğ
§veFe
 );

78 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

84 
	`´štf
Ğ"\ÀLßdšg SavGamf%d D©a...!\n", 
feNum
 );

86  
i
 = 0; i < 
TOTAL_DATA
; ++i )

88 
	`SDL_RW»ad
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

89 
¡d
::
cout
<<"\À»adšg "<<
d©a
[
i
]<<" from feNum "<<
feNum
;

91 if(
d©a
[0])

93 
§vedD©e
[
feNum
].
	`¡r
("");

94 
§vedD©e
[
feNum
].
	`ş—r
();

95 
time_t
 
§ved
 = 
d©a
[1];

96 * 
sdt
 = 
	`ùime
(&
§ved
);

97 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

98 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

100 
hours
,
mšu‹s
,
£cÚds
;

101 if(
d©a
[2]/1000 < 0)

103 
£cÚds
 = 0;

107 
£cÚds
 = 
d©a
[2]/1000;

110 ifĞ(
d©a
[2]/1000)/60 < 0 )

112 
mšu‹s
 = 0;

116 
mšu‹s
 = (
d©a
[2]/1000)/60;

119 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

121 
hours
 = 0;

125 
hours
 = ((
d©a
[2]/1000)/60)/60;

128 
§vedPÏyTime
[
feNum
].
	`¡r
("");

129 
§vedPÏyTime
[
feNum
].
	`ş—r
();

130 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

132 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

134 
	`SDL_RWşo£
Ğ
§veFe
 );

136 
	}
}

138 
	g§veGame
::
	$wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
)

140 
¡d
::
cout
<<"\n„unning saveGame::writeSaveFile(int fileNum,stage stage,Uint32…layedTime)";

143 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

144 ifĞ
§veFe
 !ğ
NULL
 )

146 
time_t
 
now
 = 
	`time
(0);

147 * 
dt
 = 
	`ùime
(&
now
);

148 
¡d
::
cout
<<"\Ànow = "<<
now
;

149 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

151 
d©a
[0] = 
Œue
;

152 
d©a
[1] = 
now
;

153 
d©a
[2] = 
¶ayedTime
;

154 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

155 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

156 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

157 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

159  
i
 = 0; i < 
TOTAL_DATA
; ++i )

161 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

162 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

165 
	`SDL_RWşo£
Ğ
§veFe
 );

169 
	`´štf
Ğ"E¼Ü: UÇbËØ§vf%d! %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

172 
	}
}

174 
	g§veGame
::
	$upd©eSaveD©a
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
)

176 
¡d
::
cout
<<"\n„unning saveGame::updateSaveData(stage stage,Uint32…layedTime)";

177 
time_t
 
now
 = 
	`time
(0);

178 * 
dt
 = 
	`ùime
(&
now
);

179 
¡d
::
cout
<<"\Ànow = "<<
now
;

180 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

182 
d©a
[0] = 
Œue
;

183 
d©a
[1] = 
now
;

184 
d©a
[2] = 
¶ayedTime
;

185 
¡d
::
cout
<<"\À¶ayedTimğ"<<
¶ayedTime
;

186 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

187 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘X(èğ"<<
¡age
.
¶ay”1
.
	`g‘X
();

188 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

189 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘Y(èğ"<<
¡age
.
¶ay”1
.
	`g‘Y
();

190 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

191 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY1 = "<<
¡age
.
habIÁ”ÇlY1
;

192 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

193 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY2 = "<<
¡age
.
habIÁ”ÇlY2
;

195 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "w+b");

196  
i
 = 0; i < 
TOTAL_DATA
; ++i )

198 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

199 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

202 
	`SDL_RWşo£
Ğ
§veFe
 );

204 
	}
}

207 
	g§veGame
::
	$wr™eP»fsFe
(
´egameui
…regameui)

209 
¡d
::
cout
<<"\n„unning saveGame::writePrefsFile(pregameui…regameui)";

212 
´efsD©a
[0] = 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
;

213 
´efsD©a
[1] = 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
;

214 
´efsD©a
[2] = 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
;

218 
SDL_RWİs
* 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

219 ifĞ
´efsFe
 !ğ
NULL
 )

222  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

224 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

225 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

229 
	`SDL_RWşo£
Ğ
´efsFe
 );

234 
	`´štf
Ğ"E¼Ü: UÇbËØ§vfe! %s\n", 
	`SDL_G‘E¼Ü
() );

236 
¡d
::
cout
<<"\n write…refs function complete";

238 
	}
}

240 
	g§veGame
::
	$lßdSavedM‘aD©a
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

242 
¡d
::
cout
<<"\n„unning saveGame::loadSavedMetaData(SDL_Renderer*„enderer,TTF_Font* font)";

243 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

248 
‹xtCŞÜ
 = {0,128,200};

249 
i
; i<
TOTAL_SAVES
;i++)

251 
¡d
::
cout
<<"\n"<<
§vedD©e
[
i
].
	`¡r
().
	`c_¡r
();

252 if(
§vedD©e
[
i
].
	`¡r
() == "")

254 
§vedD©e
[
i
].
	`¡r
("Empty");

256 if(!
§vedD©eTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedD©e
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

258 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedD©e["<<
i
<<"] streamstringo savedDateTexture["<<i<<"]";

260 if(
§vedPÏyTime
[
i
].
	`¡r
() == "")

262 
§vedPÏyTime
[
i
].
	`¡r
("Empty");

264 if(!
§vedPÏyTimeTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedPÏyTime
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

266 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedPÏyTime["<<
i
<<"] streamstringo savedPlayTimeTexture["<<i<<"]";

269 
	}
}

271 
	g§veGame
::
	$upd©eSavedM‘aD©a
(
feNum
, 
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

273 
¡d
::
cout
<<"\n„unning saveGame::updateSavedMetaData(int fileNum, SDL_Renderer*„enderer,TTF_Font* font)";

274 
§vedD©e
[
feNum
].
	`¡r
("");

275 
§vedD©e
[
feNum
].
	`ş—r
();

277 
i
 =0; i<
TOTAL_SAVES
;i++)

280 
§vedD©eTextu»
[
i
].
	`ä“
();

281 
§vedPÏyTimeTextu»
[
i
].
	`ä“
();

284 
time_t
 
§ved
 = 
d©a
[1];

285 * 
sdt
 = 
	`ùime
(&
§ved
);

286 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

287 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

288 
¡d
::
cout
<<"\Àd©a[2] (¶ayedTimeèğ"<<
d©a
[2];

289 
hours
,
mšu‹s
,
£cÚds
;

290 if(
d©a
[2]/1000 < 0)

292 
£cÚds
 = 0;

296 
£cÚds
 = 
d©a
[2]/1000;

299 ifĞ(
d©a
[2]/1000)/60 < 0 )

301 
mšu‹s
 = 0;

305 
mšu‹s
 = (
d©a
[2]/1000)/60;

308 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

310 
hours
 = 0;

314 
hours
 = ((
d©a
[2]/1000)/60)/60;

317 
§vedPÏyTime
[
feNum
].
	`¡r
("");

318 
§vedPÏyTime
[
feNum
].
	`ş—r
();

319 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

321 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

324 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

329 
‹xtCŞÜ
 = {0,128,200};

330 
i
; i<
TOTAL_SAVES
;i++)

332 
¡d
::
cout
<<"\n"<<
§vedD©e
[
i
].
	`¡r
().
	`c_¡r
();

333 if(
§vedD©e
[
i
].
	`¡r
() == "")

335 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<".str() = \"\"";

336 
§vedD©e
[
i
].
	`¡r
("Empty");

338 if(!
§vedD©eTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedD©e
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

340 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedD©e["<<
i
<<"] streamstringo savedDateTexture["<<i<<"]";

342 if(
§vedPÏyTime
[
i
].
	`¡r
() == "")

344 
§vedPÏyTime
[
i
].
	`¡r
("Empty");

346 if(!
§vedPÏyTimeTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedPÏyTime
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

348 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedPÏyTime["<<
i
<<"] streamstringo savedPlayTimeTexture["<<i<<"]";

351 
	}
}

353 
	g§veGame
::
	$hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
)

355 
i
; i<
TOTAL_SAVES
;i++)

357 
§vedPÏyTimeTextu»
[
i
].
	`»nd”
(160,(110+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

358 
§vedD©eTextu»
[
i
].
	`»nd”
(160,(130+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

360 
	}
}

	@C:\Sojourner\Sojourner\saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 7;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

30 
lßdSavedM‘aD©a
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

42 
»adP»fsFe
();

45 
»adSaveFe
(
feNum
);

47 
wr™eP»fsFe
(
´egameui
…regameui);

49 
wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
);

51 
upd©eSaveD©a
(
feNum
,
¡age
 sge, 
Ušt32
 
¶ayedTime
);

53 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

55 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

62 
	g´iv©e
:

	@C:\Sojourner\Sojourner\stage.cpp

1 
	~"¡age.h
"

3 
	g¡age
::
	$¡age
()

5 
š‹º®V›w
=
çl£
;

6 
ex‹º®V›w
=
Œue
;

7 
showPÏy”
=
çl£
;

8 
habIÁ”ÇlY1
=0;

9 
habIÁ”ÇlY2
=-600;

10 
	}
}

12 
	g¡age
::~
	$¡age
()

15 
	}
}

17 
¡age
::
	$ä“Bu‰Ús
()

19 
¡d
::
cout
<<"\n„unning stage::freeButtons()";

21 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

23 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

24 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

26 
	}
}

28 
boŞ
 
	g¡age
::
	$£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
sucûss
)

30 
¡d
::
cout
<<"\n„unning stage::setStageButtonTextures(SDL_Renderer*„enderer, bool success)";

32  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

34 
¡d
::
¡ršg¡»am
 
ss
;

35 
¡d
::
¡ršg¡»am
 
ssMO
;

36 
ss
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << ".png";

37 
ssMO
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

38 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

39 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

40 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

41 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
Ğ
¡r2
,
»nd””
 );

45 
bu‰Ús
[0].
	`£tPos™iÚ
(600,20);

46  
sucûss
;

47 
	}
}

49 
	g¡age
::
	$£tBu‰ÚNames
()

51 
¡d
::
cout
<<"\n„unning stage::setButtonNames()";

53 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

55 
bu‰Ús
[
i
].
	`£tSgeBu‰ÚName
(i);

57 
	}
}

59 
boŞ
 
	g¡age
::
	$£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
)

61 
¡d
::
cout
<<"\n„unning stage::setStageTextures(SDL_Renderer*„enderer)";

63 
boŞ
 
sucûss
 = 
Œue
;

64 
	`£tFeNames
();

65 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

67 
sucûss
 = 
¡age1BG
[
i
].
	`lßdFromFe
Ğ
bgFeName
[i],
»nd””
 );

69 
sucûss
 = 
¡¬sFÜe
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬ÏxfÜe.²g",
»nd””
);

70 
sucûss
 = 
¡¬sMid
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxmid.²g",
»nd””
);

71 
sucûss
 = 
¡¬sBack
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxback.²g",
»nd””
);

73 
cou¿ge
 = "Courage is freedom in…ractice.";

75 
¡d
::
cout
<<"\n courage functionƒxecuted";

76 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

77 if(!
cou¿geTextu»
.
	`lßdFromR’d”edText
(
cou¿ge
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

79 
¡d
::
cout
<<"\n unableo„ender courage stringo courageTexture!";

82  
sucûss
;

83 
	}
}

85 
	g¡age
::
	$£tFeNames
()

87 
¡d
::
cout
<<"\n„unning stage::setFileNames()";

89 
bgFeName
[0] = "images/blackground.png";

90 
bgFeName
[1] = "images/outerShip1.png";

91 
bgFeName
[2] = "images/habitation1.png";

92 
bgFeName
[3] = "images/habitation2.png";

94 
	}
}

96 
	g¡age
::
	$ä“BGTextu»s
()

98 
¡d
::
cout
<<"\n„unning stage::freeBGTextures()";

100 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

102 
¡age1BG
[
i
].
	`ä“
();

104 
cou¿geTextu»
.
	`ä“
();

105 
¡¬sFÜe
.
	`ä“P¬®ÏxTextu»
();

106 
¡¬sMid
.
	`ä“P¬®ÏxTextu»
();

107 
¡¬sBack
.
	`ä“P¬®ÏxTextu»
();

108 
	}
}

110 
	g¡age
::
	$lßdFÚt
()

112 
¡d
::
cout
<<"\n„unning stage::loadFont()";

114 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/NemoyMedium.ttf", 16 );

115 
	}
}

117 
boŞ
 
	g¡age
::
	$lßdSge
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
sucûss
)

119 
¡d
::
cout
<<"\n„unning stage::loadStage(SDL_Renderer*„enderer, bool success)";

121 
	`£tBu‰ÚNames
();

123 
	`lßdFÚt
();

125 
sucûss
 = 
	`£tSgeBu‰ÚTextu»s
(
»nd””
,success);

127 
sucûss
 = 
	`£tSgeTextu»s
(
»nd””
);

129 
¶ay”1
.
	`lßdPÏy”
(
»nd””
);

130 
¡©iÚ
.
	`lßdStiÚ
(
»nd””
,
fÚt
);

131  
sucûss
;

132 
	}
}

134 
	g¡age
::
	$ä“
()

136 
¡d
::
cout
<<"\n„unning stage::free()";

138 
	`ä“Bu‰Ús
();

139 
	`ä“BGTextu»s
();

140 
¶ay”1
.
	`ä“PÏy”
();

141 
¡©iÚ
.
	`ä“
();

142 
	}
}

144 
	g¡age
::
	$hªdËSgeBu‰ÚP»s£s
(
bu‰ÚClicked
)

147 if(
bu‰ÚClicked
==1)

150 
š‹º®V›w
 = 
çl£
;

151 
showPÏy”
 = 
çl£
;

152 
ex‹º®V›w
 = 
Œue
;

154 if(
bu‰ÚClicked
==2)

156 
š‹º®V›w
=
Œue
;

157 
showPÏy”
=
Œue
;

158 
ex‹º®V›w
=
çl£
;

160 
	}
}

162 
	g¡age
::
	$hªdËBu‰Ús
Ğ
SDL_Ev’t
* 
e
 )

166 
bu‰ÚClicked
 = 0;

168  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

170 
bu‰ÚClicked
 = 
bu‰Ús
[ 
i
 ].
	`hªdËSgeEv’t
(bu‰Ús[i].
bu‰ÚName
, 
e
 );

172 
	`hªdËSgeBu‰ÚP»s£s
(
bu‰ÚClicked
);

174 if(
bu‰ÚClicked
 == 1)

183 
	}
}

185 
	g¡age
::
	$»nd”Sge1
(
SDL_R’d””
* 
»nd””
)

187 
¡age1BG
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

188 
	`¡¬sHªdËP¬®Ïx
(
»nd””
);

189 if(
ex‹º®V›w
)

191 
¡age1BG
[1].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

192 
cou¿geTextu»
.
	`»nd”
(10,580,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

194 if(
š‹º®V›w
)

196 
	`habIÁ”ÇlHªdËP¬®Ïx
(
»nd””
);

198 if(
bu‰Ús
[0].
mou£Ov”
==
çl£
)

200 
bu‰Ús
[0].
bu‰ÚTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

204 
bu‰Ús
[0].
bu‰ÚMOTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

208 if(
š‹º®V›w
)

210 
¡©iÚ
.
	`»nd”StiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

212 if(
showPÏy”
)

214 
¶ay”1
.
	`»nd”
(
»nd””
);

215 
¡©iÚ
.
	`»nd”StiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

218 if(
¶ay”1
.
š‹¿ù
)

220 if(
¶ay”1
.
š‹¿ùW©”Tªk
)

222 
¡©iÚ
.
	`»nd”IÁ”aùW©”Tªk
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

224 if(
¶ay”1
.
š‹¿ùBed
)

226 
¡©iÚ
.
	`»nd”IÁ”aùBed
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

228 if(
¶ay”1
.
š‹¿ùPÏÁ”
)

230 
¡©iÚ
.
	`»nd”IÁ”aùPÏÁ”
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

232 if(
¶ay”1
.
š‹¿ùK™ch’
)

234 
¡©iÚ
.
	`»nd”IÁ”aùK™ch’
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

238 
	}
}

240 
	g¡age
::
	$¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

243 
	`SDL_D–ay
(10);

245 
¡¬sBack
.
	`·¿ÎaxR’d”
(
»nd””
);

246 
¡¬sMid
.
	`·¿ÎaxR’d”
(
»nd””
);

247 
¡¬sFÜe
.
	`·¿ÎaxR’d”
(
»nd””
);

249 
¡¬sFÜe
.
	`šüem’tFÜe
();

250 
¡¬sMid
.
	`šüem’tMid
();

251 
¡¬sBack
.
	`šüem’tBack
();

252 
	}
}

254 
	g¡age
::
	$habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

256 
¡age1BG
[2].
	`»nd”
(0,
habIÁ”ÇlY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

257 
¡age1BG
[3].
	`»nd”
(0,
habIÁ”ÇlY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

258 
	}
}

260 
	g¡age
::
	$move
(
couÁedF¿mes
)

263 ifĞ
¶ay”1
.
	`g‘Y
(è=ğ360 &&…Ïy”1.
	`g‘PV–Y
() > 0 )

267 if(
habIÁ”ÇlY1
 < -599)

269 
habIÁ”ÇlY1
 = 600;

271 if(
habIÁ”ÇlY2
 < -599)

273 
habIÁ”ÇlY2
 = 600;

276 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

277 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

279 
¡d
::
cout
<<"\ÀhabY1: "<<
habIÁ”ÇlY1
<<", habY2: "<<
habIÁ”ÇlY2
;

281 if(
¶ay”1
.
	`g‘Y
()==160 &&…Ïy”1.
	`g‘PV–Y
()<0)

285 if(
habIÁ”ÇlY1
 > 599)

287 
habIÁ”ÇlY1
 = -600;

289 if(
habIÁ”ÇlY2
 > 599)

291 
habIÁ”ÇlY2
 = -600;

294 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

295 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

296 
¡d
::
cout
<<"\ÀhabY1: "<<
habIÁ”ÇlY1
<<", habY2: "<<
habIÁ”ÇlY2
;

298 
¶ay”1
.
	`move
(
couÁedF¿mes
,
¡©iÚ
.
cŞlidabË
,¡©iÚ.
š‹¿ùabË
,¡©iÚ.
STATIONS
);

299 
¡©iÚ
.
	`upd©ePos™iÚ
(
habIÁ”ÇlY1
);

300 
	}
}

302 
	g¡age
::
	$£tNewgameV¬s
()

304 
¡d
::
cout
<<"\n„unning stage::setNewgameVars()";

305 
¶ay”1
.
	`£tX
(380);

306 
¶ay”1
.
	`£tY
(260);

307 
habIÁ”ÇlY1
 = 0;

308 
habIÁ”ÇlY2
 = -600;

310 
	}
}

313 
	g¡age
::
	$lßdSavedGameD©a
(
Ušt32
 
d1
,Ušt32 
d2
, Ušt32 
d3
, Ušt32 
d4
)

315 
¡d
::
cout
<<"\n„unning stage::loadSavedGameData(Uint32 d1,Uint32 d2, Uint32 d3, Uint32 d4)";

316 
¶ay”1
.
	`£tX
(
d1
);

317 
¶ay”1
.
	`£tY
(
d2
);

319 
habIÁ”ÇlY1
 = 
d3
;

320 
habIÁ”ÇlY2
 = 
d4
;

321 
	}
}

	@C:\Sojourner\Sojourner\stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

4 
	~"Textu».h
"

6 
	~"bu‰Ú.h
"

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

10 
	~"¡©iÚ.h
"

12 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 4;

14 şas 
	c¡age


16 
	mpublic
:

18 
¡age
();

20 ~
¡age
();

22 
boŞ
 
	mex‹º®V›w
;

24 
boŞ
 
	mš‹º®V›w
;

26 
boŞ
 
	mshowPÏy”
;

29 
	mhabIÁ”ÇlY1
;

30 
	mhabIÁ”ÇlY2
;

33 
TTF_FÚt
 *
	mfÚt
;

35 
Textu»
 
	mthªksTextu»
;

37 
·¿Îax
 
	m¡¬sFÜe
;

38 
·¿Îax
 
	m¡¬sMid
;

39 
·¿Îax
 
	m¡¬sBack
;

41 
	m¡d
::
¡ršg
 
cou¿ge
;

43 
Textu»
 
	mcou¿geTextu»
;

45 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

47 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

49 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

51 
ä“Bu‰Ús
();

52 
ä“BGTextu»s
();

54 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

56 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

58 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

60 
£tFeNames
();

62 
£tBu‰ÚNames
();

64 
hªdËSgeBu‰ÚP»s£s
(
gameS‹
);

66 
hªdËBu‰Ús
Ğ
SDL_Ev’t
* 
e
 );

69 
¶ay”
 
	m¶ay”1
;

71 
¡©iÚ
 
	m¡©iÚ
;

73 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

75 
ä“
();

77 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

79 
lßdFÚt
();

81 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

83 
move
(
couÁedF¿mes
);

85 
£tNewgameV¬s
();

87 
lßdSavedGameD©a
(
Ušt32
 
d1
, Ušt32 
d2
, Ušt32 
d3
, Ušt32 
d4
);

89 
	m´iv©e
:

	@C:\Sojourner\Sojourner\station.cpp

1 
	~"¡©iÚ.h
"

3 
	g¡©iÚ
::
	$¡©iÚ
()

6 
bedX
 = 100;

7 
bedY
 = 300;

8 
bedH
 = 37;

9 
bedBÙ
 = 
bedY
 + 
bedH
;

10 
cŞlidabË
[0].
x
 = 
bedX
;

11 
cŞlidabË
[0].
y
 = 
bedY
+(
bedH
/2);

12 
cŞlidabË
[0].
w
 = 85;

13 
cŞlidabË
[0].
h
 = 
bedH
/2;

14 
š‹¿ùabË
[0].
x
=
cŞlidabË
[0].x-2;

15 
š‹¿ùabË
[0].
y
=
cŞlidabË
[0].y-4;

16 
š‹¿ùabË
[0].
w
=
cŞlidabË
[0].w+4;

17 
š‹¿ùabË
[0].
h
=
cŞlidabË
[0].h+10;

19 
w©”TªkX
 = 200;

20 
w©”TªkY
 = 100;

21 
w©”TªkH
 = 34;

22 
w©”TªkBÙ
 = 
w©”TªkY
 + 
w©”TªkH
;

23 
cŞlidabË
[1].
x
 = 
w©”TªkX
;

24 
cŞlidabË
[1].
y
 = 
w©”TªkY
+(
w©”TªkH
/2);

25 
cŞlidabË
[1].
w
 = 87;

26 
cŞlidabË
[1].
h
 = 
w©”TªkH
/2;

27 
š‹¿ùabË
[1].
x
=
cŞlidabË
[1].x-2;

28 
š‹¿ùabË
[1].
y
 = 
cŞlidabË
[1].y-4;

29 
š‹¿ùabË
[1].
w
=
cŞlidabË
[1].w+6;

30 
š‹¿ùabË
[1].
h
 = 
cŞlidabË
[1].h+6;

32 
¶ª‹rX
 = 400;

33 
¶ª‹rY
 = 200;

34 
¶ª‹rH
 = 50;

35 
¶ª‹rBÙ
 = 
¶ª‹rY
+
¶ª‹rH
;

36 
cŞlidabË
[2].
x
 = 
¶ª‹rX
;

37 
cŞlidabË
[2].
y
 = 
¶ª‹rY
+(
¶ª‹rH
/2);

38 
cŞlidabË
[2].
w
 = 100;

39 
cŞlidabË
[2].
h
 = 
¶ª‹rH
/2;

40 
š‹¿ùabË
[2].
x
=
cŞlidabË
[2].x-2;

41 
š‹¿ùabË
[2].
y
=
cŞlidabË
[2].y-2;

42 
š‹¿ùabË
[2].
w
=
cŞlidabË
[2].w+4;

43 
š‹¿ùabË
[2].
h
=
cŞlidabË
[2].h+4;

44 
¶ªtOkay
 = 
Œue
;

45 
w©”PÏÁsOkay
 = 
Œue
;

46 
h¬ve¡Okay
 = 
çl£
;

48 
k™ch’X
 = 300;

49 
k™ch’Y
 = 400;

50 
k™ch’H
 = 100;

51 
k™ch’BÙ
 = 
k™ch’Y
+
k™ch’H
;

52 
cŞlidabË
[3].
x
 = 
k™ch’X
;

53 
cŞlidabË
[3].
y
 = 
k™ch’Y
+(
k™ch’H
/2);

54 
cŞlidabË
[3].
w
 = 200;

55 
cŞlidabË
[3].
h
 = 
k™ch’H
/2;

56 
š‹¿ùabË
[3].
x
=
cŞlidabË
[3].x-2;

57 
š‹¿ùabË
[3].
y
=
cŞlidabË
[3].y-2;

58 
š‹¿ùabË
[3].
w
=
cŞlidabË
[3].w+4;

59 
š‹¿ùabË
[3].
h
=
cŞlidabË
[3].h+4;

60 
	}
}

62 
	g¡©iÚ
::~
	$¡©iÚ
()

65 
	}
}

67 
¡©iÚ
::
	$lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

69 
¡d
::
cout
<<"\n„unning station::loadStation(SDL_Renderer*„enderer,TTF_Font* font)";

70 
bedTextu»
.
	`lßdFromFe
("images/¥r™es/¦“pšgbag.²g",
»nd””
);

71 
w©”TªkTextu»
.
	`lßdFromFe
("images/¥r™es/W©”Tªk.²g",
»nd””
);

72 
¶ª‹rTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹r.²g",
»nd””
);

73 
k™ch’Textu»
.
	`lßdFromFe
("images/¥r™es/k™ch’.²g",
»nd””
);

75 
	`lßdIÁ”aùW©”Tªk
(
»nd””
,
fÚt
);

76 
	`lßdIÁ”aùBed
(
»nd””
,
fÚt
);

77 
	`lßdIÁ”aùPÏÁ”
(
»nd””
,
fÚt
);

78 
	`lßdIÁ”aùK™ch’
(
»nd””
,
fÚt
);

79 
	}
}

81 
	g¡©iÚ
::
	$lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

83 
¡d
::
cout
<<"\n„unning station::loadInteractKitchen(SDL_Renderer*„enderer,TTF_Font* font)";

85 
foodTime
 = "Not Hungry";

86 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

87 if(!
foodTimeTextu»
.
	`lßdFromR’d”edText
(
foodTime
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

89 
¡d
::
cout
<<"\n unableo„ender foodTime stringo foodTimeTexture!";

91 
	}
}

93 
	g¡©iÚ
::
	$lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

95 
¡d
::
cout
<<"\n„unning station::loadInteractPlanter(SDL_Renderer*„enderer,TTF_Font* font)";

97 
¶ªt
="Plant";

98 
w©”PÏÁs
 = "Water Plants";

99 
h¬ve¡
 = "Harvest";

101 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

102 
SDL_CŞÜ
 
uÇvaabË
 = {0,0,0};

104 if(
¶ªtOkay
)

106 if(!
¶ªtTextu»
.
	`lßdFromR’d”edText
(
¶ªt
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

108 
¡d
::
cout
<<"\n unableo„ender…lant stringo…lantTexture!";

113 if(!
¶ªtTextu»
.
	`lßdFromR’d”edText
(
¶ªt
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

115 
¡d
::
cout
<<"\n unableo„ender…lant stringo…lantTexture!";

118 if(
w©”PÏÁsOkay
)

120 if(!
w©”PÏÁsTextu»
.
	`lßdFromR’d”edText
(
w©”PÏÁs
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

122 
¡d
::
cout
<<"\n unableo„ender waterPlants stringo waterPlantsTexture!";

127 if(!
w©”PÏÁsTextu»
.
	`lßdFromR’d”edText
(
w©”PÏÁs
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

129 
¡d
::
cout
<<"\n unableo„ender waterPlants stringo waterPlantsTexture!";

132 if(
h¬ve¡Okay
)

134 if(!
h¬ve¡Textu»
.
	`lßdFromR’d”edText
(
h¬ve¡
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

136 
¡d
::
cout
<<"\n unableo„ender harvest stringo harvestTexture!";

141 if(!
h¬ve¡Textu»
.
	`lßdFromR’d”edText
(
h¬ve¡
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

143 
¡d
::
cout
<<"\n unableo„ender harvest stringo harvestTexture!";

147 
	}
}

149 
	g¡©iÚ
::
	$lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

151 
¡d
::
cout
<<"\n„unning station::loadInteractWaterTank(SDL_Renderer*„enderer,TTF_Font* font)";

153 
w©”Lev–
 = "100L";

154 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

155 if(!
w©”Lev–Textu»
.
	`lßdFromR’d”edText
(
w©”Lev–
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

157 
¡d
::
cout
<<"\n unableo„ender†aterLevel stringo waterLevelTexture!";

159 
	}
}

161 
	g¡©iÚ
::
	$lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

163 
¡d
::
cout
<<"\n„unning station::loadInteractBed(SDL_Renderer*„enderer,TTF_Font* font)";

165 
¦“pyTime
 = "Not Tired";

166 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

167 if(!
¦“pyTimeTextu»
.
	`lßdFromR’d”edText
(
¦“pyTime
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

169 
¡d
::
cout
<<"\n unableo„ender sleepyTime stringo sleepyTimeTexture!";

171 
	}
}

173 
	g¡©iÚ
::
	$upd©ePos™iÚ
(
y
)

176 
bedY
 = 
y
+300;

177 
bedBÙ
 = 
bedY
 + 
bedH
;

178 
cŞlidabË
[0].
y
=
bedY
+(
bedH
/2);

179 
š‹¿ùabË
[0].
y
=
cŞlidabË
[0].y-4;

181 
w©”TªkY
 = 
y
+100;

182 
w©”TªkBÙ
 = 
w©”TªkY
+
w©”TªkH
;

183 
cŞlidabË
[1].
y
=
w©”TªkY
 + (
w©”TªkH
/2);

184 
š‹¿ùabË
[1].
y
=
cŞlidabË
[1].y-4;

186 
¶ª‹rY
 = 
y
+200;

187 
¶ª‹rBÙ
 = 
¶ª‹rY
 + 
¶ª‹rH
;

188 
cŞlidabË
[2].
y
=
¶ª‹rY
+(
¶ª‹rH
/2);

189 
š‹¿ùabË
[2].
y
=
cŞlidabË
[2].y-2;

191 
k™ch’Y
 = 
y
+400;

192 
k™ch’BÙ
 = 
k™ch’Y
+
k™ch’H
;

193 
cŞlidabË
[3].
y
=
k™ch’Y
+(
k™ch’H
/2);

194 
š‹¿ùabË
[3].
y
=
cŞlidabË
[3].y-2;

197 
	}
}

199 
	g¡©iÚ
::
	$»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

202 
y
-=20;

203 
foodTimeTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

204 
	}
}

206 
	g¡©iÚ
::
	$»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

209 
y
-=20;

210 
w©”Lev–Textu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

211 
	}
}

213 
	g¡©iÚ
::
	$»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

216 
y
-=20;

217 
¦“pyTimeTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

218 
	}
}

220 
	g¡©iÚ
::
	$»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

223 
x
+=50;

225 
y
-=20;

226 
¶ªtTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

228 
y
+=20;

229 
w©”PÏÁsTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

231 
y
+=20;

232 
h¬ve¡Textu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

233 
	}
}

235 
	g¡©iÚ
::
	$»nd”StiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
)

238 if(
¶ay”BÙ
>
bedBÙ
)

240 
bedTextu»
.
	`»nd”
(
bedX
,
bedY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

242 if(
¶ay”BÙ
>
w©”TªkBÙ
)

244 
w©”TªkTextu»
.
	`»nd”
(
w©”TªkX
,
w©”TªkY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

246 if(
¶ay”BÙ
>
¶ª‹rBÙ
)

248 
¶ª‹rTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

250 if(
¶ay”BÙ
>
k™ch’BÙ
)

252 
k™ch’Textu»
.
	`»nd”
(
k™ch’X
,
k™ch’Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

254 
	}
}

256 
	g¡©iÚ
::
	$»nd”StiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
)

258 if(
¶ay”BÙ
<=
bedBÙ
)

260 
bedTextu»
.
	`»nd”
(
bedX
,
bedY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

262 if(
¶ay”BÙ
<=
w©”TªkBÙ
)

264 
w©”TªkTextu»
.
	`»nd”
(
w©”TªkX
,
w©”TªkY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

266 if(
¶ay”BÙ
<=
¶ª‹rBÙ
)

268 
¶ª‹rTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

270 if(
¶ay”BÙ
<=
k™ch’BÙ
)

272 
k™ch’Textu»
.
	`»nd”
(
k™ch’X
,
k™ch’Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

274 
	}
}

276 
	g¡©iÚ
::
	$ä“
()

278 
¡d
::
cout
<<"\n„unning station::free()";

279 
bedTextu»
.
	`ä“
();

280 
w©”TªkTextu»
.
	`ä“
();

281 
w©”Lev–Textu»
.
	`ä“
();

282 
¦“pyTimeTextu»
.
	`ä“
();

283 
¶ª‹rTextu»
.
	`ä“
();

284 
k™ch’Textu»
.
	`ä“
();

285 
foodTimeTextu»
.
	`ä“
();

286 
¶ªtTextu»
.
	`ä“
();

287 
w©”PÏÁsTextu»
.
	`ä“
();

288 
h¬ve¡Textu»
.
	`ä“
();

289 
	}
}

	@C:\Sojourner\Sojourner\station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

7 şas 
	c¡©iÚ


9 
	mpublic
:

11 
¡©iÚ
();

13 ~
¡©iÚ
();

15 
	mbedX
, 
	mbedY
,
	mbedH
,
	mbedBÙ
;

17 
	mw©”TªkX
, 
	mw©”TªkY
,
	mw©”TªkH
,
	mw©”TªkBÙ
;

19 
	m¶ª‹rX
,
	m¶ª‹rY
,
	m¶ª‹rH
,
	m¶ª‹rBÙ
;

21 
	mk™ch’X
,
	mk™ch’Y
,
	mk™ch’H
,
	mk™ch’BÙ
;

23 cÚ¡ 
	mSTATIONS
 = 4;

25 
	m¡d
::
¡ršg
 
w©”Lev–
;

26 
	m¡d
::
¡ršg
 
¦“pyTime
;

27 
	m¡d
::
¡ršg
 
¶ªtStus
;

28 
	m¡d
::
¡ršg
 
foodTime
;

30 
	m¡d
::
¡ršg
 
¶ªt
;

31 
	m¡d
::
¡ršg
 
w©”PÏÁs
;

32 
	m¡d
::
¡ršg
 
h¬ve¡
;

35 
boŞ
 
	m¶ªtOkay
;

36 
boŞ
 
	mw©”PÏÁsOkay
;

37 
boŞ
 
	mh¬ve¡Okay
;

39 
Textu»
 
	mw©”Lev–Textu»
;

40 
Textu»
 
	m¦“pyTimeTextu»
;

42 
Textu»
 
	mfoodTimeTextu»
;

44 
Textu»
 
	m¶ªtTextu»
;

45 
Textu»
 
	mw©”PÏÁsTextu»
;

46 
Textu»
 
	mh¬ve¡Textu»
;

49 
Textu»
 
	mbedTextu»
;

52 
Textu»
 
	mw©”TªkTextu»
;

53 
Textu»
 
	m¶ª‹rTextu»
;

54 
Textu»
 
	mk™ch’Textu»
;

56 
SDL_Reù
 
	mcŞlidabË
[
STATIONS
];

58 
SDL_Reù
 
	mš‹¿ùabË
[
STATIONS
];

61 
lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

63 
»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

65 
lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

67 
»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

69 
lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

71 
»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

73 
lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

75 
»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

77 
lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

79 
upd©ePos™iÚ
(
y
);

81 
»nd”StiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

83 
»nd”StiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

85 
ä“
();

87 
	m´iv©e
:

	@C:\Sojourner\Sojourner\text.cpp

1 
	~"‹xt.h
"

3 
	g‹xt
::
	$‹xt
()

8 
	}
}

10 
‹xt
::~
	$‹xt
()

13 
	}
}

15 
‹xt
::
	$lßdText
(
SDL_R’d””
* 
»nd””
)

17 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 16 );

22 
	`SDL_S¹TextIÅut
();

23 
	}
}

25 
	g‹xt
::
	$ä“
()

27 
	`TTF_Clo£FÚt
Ğ
fÚt
 );

28 
fÚt
 = 
NULL
;

29 
	}
}

	@C:\Sojourner\Sojourner\text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

14 
TTF_FÚt
* 
	mfÚt
;

16 
lßdText
(
SDL_R’d””
* 
»nd””
);

18 
ä“
();

21 
	m´iv©e
:

	@C:\Sojourner\Sojourner\texture.cpp

1 
	~"Textu».h
"

3 
	gTextu»
::
	$Textu»
()

6 
‹xtu»
 = 
NULL
;

7 
width
 = 0;

8 
height
 = 0;

9 
	}
}

11 
	gTextu»
::~
	$Textu»
()

15 
	`ä“
();

16 
	}
}

18 
boŞ
 
	gTextu»
::
	$š™Textu»
(
SCREEN_WIDTH
,
SCREEN_HEIGHT
,
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

22 
boŞ
 
sucûss
 = 
Œue
;

26  
sucûss
;

27 
	}
}

29 
boŞ
 
	gTextu»
::
	$lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
)

32 
	`ä“
();

35 
SDL_Textu»
* 
ÃwTextu»
 = 
NULL
;

38 
SDL_Surçû
* 
lßdedSurçû
 = 
	`IMG_Lßd
Ğ
·th
.
	`c_¡r
() );

39 ifĞ
lßdedSurçû
 =ğ
NULL
 )

41 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

46 
	`SDL_S‘CŞÜKey
Ğ
lßdedSurçû
, 
SDL_TRUE
, 
	`SDL_M­RGB
ĞlßdedSurçû->
fÜm©
, 0, 0xFF, 0xFF ) );

49 
ÃwTextu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
lßdedSurçû
 );

50 ifĞ
ÃwTextu»
 =ğ
NULL
 )

52 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

57 
width
 = 
lßdedSurçû
->
w
;

58 
height
 = 
lßdedSurçû
->
h
;

62 
	`SDL_F»eSurçû
Ğ
lßdedSurçû
 );

66 
‹xtu»
 = 
ÃwTextu»
;

67  
‹xtu»
 !ğ
NULL
;

68 
	}
}

70 #ià
defšed
(
SDL_TTF_MAJOR_VERSION
)

71 
boŞ
 
	gTextu»
::
	$lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xtu»Text
, 
SDL_CŞÜ
 
‹xtCŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
)

74 
	`ä“
();

77 
SDL_Surçû
* 
‹xtSurçû
 = 
	`TTF_R’d”Text_SŞid
Ğ
fÚt
, 
‹xtu»Text
.
	`c_¡r
(), 
‹xtCŞÜ
 );

78 ifĞ
‹xtSurçû
 !ğ
NULL
 )

81 
‹xtu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
‹xtSurçû
 );

82 ifĞ
‹xtu»
 =ğ
NULL
 )

84 
	`´štf
Ğ"UÇbËØü—‹extu» from„’d”edext! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

89 
width
 = 
‹xtSurçû
->
w
;

90 
height
 = 
‹xtSurçû
->
h
;

94 
	`SDL_F»eSurçû
Ğ
‹xtSurçû
 );

98 
	`´štf
Ğ"UÇbËØ»nd”exˆsurçû! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

103  
‹xtu»
 !ğ
NULL
;

104 
	}
}

107 
	gTextu»
::
	$ä“
()

110 ifĞ
‹xtu»
 !ğ
NULL
 )

112 
	`SDL_De¡royTextu»
Ğ
‹xtu»
 );

113 
‹xtu»
 = 
NULL
;

114 
width
 = 0;

115 
height
 = 0;

117 
	}
}

119 
	gTextu»
::
	$£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 )

122 
	`SDL_S‘Textu»CŞÜMod
Ğ
‹xtu»
, 
»d
, 
g»’
, 
blue
 );

123 
	}
}

125 
	gTextu»
::
	$£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 )

128 
	`SDL_S‘Textu»BËndMode
Ğ
‹xtu»
, 
bËndšg
 );

129 
	}
}

131 
	gTextu»
::
	$£tAÍha
Ğ
Ušt8
 
®pha
 )

134 
	`SDL_S‘Textu»AÍhaMod
Ğ
‹xtu»
, 
®pha
 );

135 
	}
}

137 
	gTextu»
::
	$»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
, 
ªgË
, 
SDL_Pošt
* 
ûÁ”
, 
SDL_R’d””Fl
 
æ
, 
SDL_R’d””
* 
»nd””
 )

140 
SDL_Reù
 
»nd”Quad
 = { 
x
, 
y
, 
width
, 
height
 };

143 ifĞ
ş
 !ğ
NULL
 )

145 
»nd”Quad
.
w
 = 
ş
->w;

146 
»nd”Quad
.
h
 = 
ş
->h;

150 
	`SDL_R’d”CİyEx
Ğ
»nd””
, 
‹xtu»
, 
ş
, &
»nd”Quad
, 
ªgË
, 
ûÁ”
, 
æ
 );

151 
	}
}

153 
	gTextu»
::
	$g‘Width
()

155  
width
;

156 
	}
}

158 
	gTextu»
::
	$g‘Height
()

160  
height
;

161 
	}
}

164 
SDL_Textu»
* 
	$lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
 )

168 
SDL_Textu»
* 
ÃwTextu»
 = 
NULL
;

171 
SDL_Surçû
* 
lßdedSurçû
 = 
	`IMG_Lßd
Ğ
·th
.
	`c_¡r
() );

172 ifĞ
lßdedSurçû
 =ğ
NULL
 )

174 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

179 
ÃwTextu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
lßdedSurçû
 );

180 ifĞ
ÃwTextu»
 =ğ
NULL
 )

182 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

186 
	`SDL_F»eSurçû
Ğ
lßdedSurçû
 );

189  
ÃwTextu»
;

190 
	}
}

	@C:\Sojourner\Sojourner\texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

36 
boŞ
 
š™Textu»
(
SCREEN_WIDTH
,
SCREEN_HEIGHT
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xtu»Text
, 
SDL_CŞÜ
 
‹xtCŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@C:\Sojourner\Sojourner\timer.cpp

1 
	~"tim”.h
"

3 
	gtim”
::
	$tim”
()

6 
¡¬tTicks
 = 0;

7 
·u£dTicks
 = 0;

9 
·u£d
 = 
çl£
;

10 
¡¬‹d
 = 
çl£
;

11 
	}
}

13 
	gtim”
::
	$¡¬t
()

15 
¡d
::
cout
<<"\n„unningimer::start()";

17 
¡¬‹d
 = 
Œue
;

20 
·u£d
 = 
çl£
;

23 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

24 
·u£dTicks
 = 0;

25 
	}
}

27 
	gtim”
::
	$»¡¬t
()

29 
¡d
::
cout
<<"\n„unningimer::restart()";

31 
¡¬‹d
 = 
çl£
;

34 
·u£d
 = 
çl£
;

37 
¡¬tTicks
 = 0;

38 
·u£dTicks
 = 0;

40 
¡¬‹d
 = 
Œue
;

43 
·u£d
 = 
çl£
;

46 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

47 
·u£dTicks
 = 0;

48 
	}
}

50 
	gtim”
::
	$¡İ
()

52 
¡d
::
cout
<<"\n„unningimer::stop()";

54 
¡¬‹d
 = 
çl£
;

57 
·u£d
 = 
çl£
;

60 
¡¬tTicks
 = 0;

61 
·u£dTicks
 = 0;

62 
	}
}

64 
	gtim”
::
	$·u£
()

66 
¡d
::
cout
<<"\n„unningimer::pause()";

68 ifĞ
¡¬‹d
 && !
·u£d
 )

71 
·u£d
 = 
Œue
;

72 
¡d
::
cout
<<"\À·u£dTick befÜİ”©šg = "<<
·u£dTicks
;

73 
¡d
::
cout
<<"\ÀSDL_G‘Ticks(èbefÜİ”©šg = "<<
	`SDL_G‘Ticks
();

74 
¡d
::
cout
<<"\À¡¬tTick befÜİ”©šg = "<<
¡¬tTicks
;

76 
·u£dTicks
 = 
	`SDL_G‘Ticks
(è+ 
¡¬tTicks
;

77 
¡d
::
cout
<<"\À·u£dTick aá” o³¿tšg = "<<
·u£dTicks
;

78 
¡d
::
cout
<<"\nƒnd…ause function";

79 
¡¬tTicks
 = 0;

82 
	}
}

84 
	gtim”
::
	$uÅau£
()

86 
¡d
::
cout
<<"\n„unningimer::unpause()";

88 ifĞ!
¡¬‹d
 && 
·u£d
 )

91 
·u£d
 = 
çl£
;

93 
¡d
::
cout
<<"\n unpause";

94 
¡d
::
cout
<<"\À·u£dTick (befÜ£ˆtØ0èğ"<<
·u£dTicks
;

95 
¡d
::
cout
<<"\À¡¬tTick (befÜİ”©šgèğ"<<
¡¬tTicks
;

96 
¡d
::
cout
<<"\ÀSDL_G‘Ticks(è(befÜİ”©šgèğ"<<
	`SDL_G‘Ticks
();

101 
¡¬tTicks
 = 
·u£dTicks
;

103 
¡d
::
cout
<<"\À¡¬tTick ×á” s¹Tick ğ·u£dTicksèğ"<<
¡¬tTicks
;

104 
¡d
::
cout
<<"\nƒnd unpause function";

106 
·u£dTicks
 = 0;

108 
¡¬‹d
 = 
Œue
;

110 
	}
}

112 
Ušt32
 
	gtim”
::
	$g‘Ticks
()

116 
Ušt32
 
time
 = 0;

119 ifĞ
¡¬‹d
 )

122 ifĞ
·u£d
 )

125 
time
 = 
·u£dTicks
;

130 
time
 = 
	`SDL_G‘Ticks
(è- 
¡¬tTicks
;

134  
time
;

135 
	}
}

137 
	gtim”
::
	$£tTicks
(
Ušt32
 
x
)

139 
¡d
::
cout
<<"\n„unningimer::setTicks(Uint32 x)";

140 if(
¡¬‹d
)

142 
¡¬tTicks
 +ğ
x
;

145 if(
·u£d
)

147 
·u£dTicks
 +ğ
x
;

150 
	}
}

152 
boŞ
 
	gtim”
::
	$isS¹ed
()

154 
¡d
::
cout
<<"\n„unningimer::isStarted()";

156  
¡¬‹d
;

157 
	}
}

159 
boŞ
 
	gtim”
::
	$isPau£d
()

161 
¡d
::
cout
<<"\n„unningimer::isPaused()";

163  
·u£d
 && 
¡¬‹d
;

164 
	}
}

166 
	gtim”
::
	$£tPau£d
()

168 
¡d
::
cout
<<"\n„unningimer::setPaused()";

169 
·u£d
 = 
Œue
;

170 
¡¬‹d
 = 
çl£
;

171 
	}
}

173 
	gtim”
::
	$upd©ePÏyedTime
()

177 
¡d
::
cout
<<"\n„unningimer::updatePlayedTime()";

178 
¡d
::
cout
<<"\Àg‘Ticks(): "<<
	`g‘Ticks
();

179 
¡d
::
cout
<<"\ÀtimePÏyed: "<<
timePÏyed
<<" beforeimePlayed+=getTicks()";

180 
timePÏyed
 +ğ
	`g‘Ticks
();

181 
¡d
::
cout
<<"\ÀtimePÏyed = "<<
timePÏyed
<<"‡fterimePlayed+=getTicks()";

183 
	}
}

185 
	gtim”
::
	$»¡¬tPÏyedTime
()

187 
¡d
::
cout
<<"\n„unningimer::restartPlayedTime()";

188 
timePÏyed
=0;

189 
	`¡¬t
();

190 
	}
}

192 
	gtim”
::
	$lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
)

194 
¡d
::
cout
<<"\n„unningimer::loadSavedPlayedTimeData(Uint32 saved)";

195 
¡d
::
cout
<<"\ÀtimePÏyed befÜlßdšg: "<<
timePÏyed
;

196 
timePÏyed
=
§ved
;

197 
¡d
::
cout
<<"\ÀtimePÏyed‡á”†ßdšg: "<<
timePÏyed
;

198 
	`¡¬t
();

199 
	}
}

	@C:\Sojourner\Sojourner\timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

43 
	m´iv©e
:

45 
Ušt32
 
¡¬tTicks
;

48 
Ušt32
 
	m·u£dTicks
;

51 
boŞ
 
	m·u£d
;

52 
boŞ
 
	m¡¬‹d
;

	@Texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

36 
boŞ
 
š™Textu»
(
SCREEN_WIDTH
,
SCREEN_HEIGHT
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xtu»Text
, 
SDL_CŞÜ
 
‹xtCŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

8 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

9 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

11 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

13 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

15 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

17 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

19 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

22 şas 
	cªim©iÚs


24 
	mpublic
:

26 
ªim©iÚs
();

28 ~
ªim©iÚs
();

31 
tim”
 
	mªim©iÚTim”
;

34 
tim”
 
	mªim©iÚTim”2
;

36 
tim”
 
	mªim©iÚTim”3
;

39 
tim”
 
	mªim©iÚTim”4
;

40 
tim”
 
	mªim©iÚTim”5
;

41 
tim”
 
	mªim©iÚTim”6
;

42 
tim”
 
	mªim©iÚTim”7
;

45 
tim”
 
	mªim©iÚTim”8
;

47 
tim”
 
	mªim©iÚTim”9
;

49 
tim”
 
	mªim©iÚTim”10
;

51 
boŞ
 
	mªiCouÁUp
;

54 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

57 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

59 
	mªiF¿me8
;

61 
	mªiF¿me9
;

63 
	mªiF¿me10
;

65 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

68 
	mpÜlY
;

69 
	mtß¡”2X
;

72 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

74 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

75 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

76 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

77 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

78 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

80 
boŞ
 
£tAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

81 
ä“Anim©iÚTextu»s
();

83 
»nd”Tao
(
SDL_R’d””
* 
»nd””
);

84 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

85 
»nd”Tß¡”2
(
SDL_R’d””
* 
»nd””
);

86 
»nd”BÏck¡¬
(
SDL_R’d””
* 
»nd””
);

87 
»nd”PÜl
(
SDL_R’d””
* 
»nd””
);

88 
»nd”R©
(
SDL_R’d””
* 
»nd””
);

89 
»nd”T¿”
(
SDL_R’d””
* 
»nd””
);

91 
cyşeAnim©iÚs
();

92 
oscÏ‹CouÁ
();

95 
oAnim©iÚProg»ss
();

96 
tß¡”Anim©iÚProg»ss
();

97 
tß¡”2Anim©iÚProg»ss
();

98 
bÏck¡¬Anim©iÚProg»ss
();

99 
pÜlAnim©iÚProg»ss
();

100 
¿tAnim©iÚProg»ss
();

101 
Œa”Anim©iÚProg»ss
();

104 
´og»ss
();

107 
»£tPÜl
();

108 
»£tTß¡”2
();

110 
	m´iv©e
:

	@audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 4;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 4;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

23 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 1;

25 şas 
	cbu‰Ú


27 
	mpublic
:

29 
bu‰Ú
();

30 ~
bu‰Ú
();

33 
£tPos™iÚ
Ğ
x
, 
y
 );

35 
g‘Pos™iÚX
();

36 
g‘Pos™iÚY
();

38 
boŞ
 
	mfuÎSü“nToggË
;

39 
boŞ
 
	mmusicToggË
;

40 
boŞ
 
	mvoiûToggË
;

42 
boŞ
 
	mmou£Ov”
;

44 
	mcho£nSave
;

47 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

51 
hªdËSgeEv’t
Ğ
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

54 
Textu»
 
	mbu‰ÚTextu»
;

55 
Textu»
 
	mbu‰ÚMOTextu»
;

57 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

58 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

61 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

63 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

64 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

66 
	m¡d
::
¡ršg
 
bu‰ÚName
;

72 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

78 
£tSgeBu‰ÚName
(
i
);

81 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

82 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

83 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

85 
	m´iv©e
:

87 
SDL_Pošt
 
pos™iÚ
;

	@parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

45 
»£tP¬®Ïx
();

46 
upd©eReùs
();

48 
¥ecŸlRe£tP¬®Ïx
();

50 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

52 
ä“P¬®ÏxTextu»
();

54 
	m´iv©e
:

56 
·¿X
,
	m·¿Y
;

57 
	m·¿X2
,
	m·¿Y2
;

58 
	m·¿V–X
;

	@particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

7 cÚ¡ 
	gTOTAL_PARTICLES
 = 200;

10 şas 
	cP¬tişe


12 
	mpublic
:

15 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

19 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
);

22 
boŞ
 
isD—d
();

24 
	m»nd”CŞÜ
;

27 
	m´iv©e
:

29 
·¹X
, 
	m·¹Y
;

32 
	mäame
;

35 
SDL_Reù
 
	mflReù
;

	@player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"‹xtu».h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 şas 
	c¶ay”


41 
	mpublic
:

43 
¶ay”
();

44 ~
¶ay”
();

46 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

47 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

48 cÚ¡ 
	mPLAYER_VEL
 = 5;

50 
	m¶ay”BÙ
;

52 
	mmoveS‹
;

54 
	mw®kF¿me
;

56 
boŞ
 
	mæHÜizÚl
;

58 
boŞ
 
	mšS·û
;

60 
boŞ
 
	mš‹¿ù
;

62 
boŞ
 
	mšRªge
;

64 
boŞ
 
	mš‹¿ùW©”Tªk
;

66 
boŞ
 
	mš‹¿ùBed
;

68 
boŞ
 
	mš‹¿ùPÏÁ”
;

70 
boŞ
 
	mš‹¿ùK™ch’
;

72 
Textu»
 
	mcu¼’tTextu»
;

74 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

76 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

78 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

80 
move
(
tick
, 
SDL_Reù
 
cŞlidabË
[], SDL_Reù 
š‹¿ùabË
[],
STATIONS
);

82 
»nd”
(
SDL_R’d””
* 
»nd””
);

84 
ä“PÏy”
();

86 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

88 
g‘X
();

89 
g‘Y
();

91 
g‘PV–X
();

92 
g‘PV–Y
();

94 
£tX
(
x
);

95 
£tY
(
y
);

97 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

99 
	m´iv©e
:

101 
¶ay”X
,
	m¶ay”Y
;

103 
	mpV–X
,
	mpV–Y
;

105 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

21 
Textu»
 
	mt™Ë
;

22 
Textu»
 
	mt™ËTextu»
;

23 
Textu»
 
	müed™sTextu»
;

24 
Textu»
 
	mİtiÚsTextu»
;

25 
Textu»
 
	mlßdGameTextu»
;

26 
Textu»
 
	mch­‹rS–eùTextu»
;

28 
Textu»
 
	mPGUIBÏckGround
;

34 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

35 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

36 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

37 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

38 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

41 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

42 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

43 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

44 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

45 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

48 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

49 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

50 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

51 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

52 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

57 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

58 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

59 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
ä“MašBu‰Ús
();

63 
ä“NewgameBu‰Ús
();

64 
ä“LßdgameBu‰Ús
();

65 
ä“O±iÚsBu‰Ús
();

66 
ä“C»d™sBu‰Ús
();

68 
	mcho£nSave
;

70 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

73 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

76 
boŞ
 
£tPGUITextu»s
(
SDL_R’d””
* 
»nd””
);

77 
ä“PGUITextu»s
();

80 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

82 
£tBu‰ÚNames
();

84 
ä“Bu‰Ús
();

86 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

88 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

90 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

92 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

94 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

97 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

99 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

101 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

103 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

105 
ä“
();

107 
	m´iv©e
:

	@saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 7;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

30 
lßdSavedM‘aD©a
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

42 
»adP»fsFe
();

45 
»adSaveFe
(
feNum
);

47 
wr™eP»fsFe
(
´egameui
…regameui);

49 
wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
);

51 
upd©eSaveD©a
(
feNum
,
¡age
 sge, 
Ušt32
 
¶ayedTime
);

53 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

55 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

62 
	g´iv©e
:

	@stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

4 
	~"Textu».h
"

6 
	~"bu‰Ú.h
"

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

10 
	~"¡©iÚ.h
"

12 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 4;

14 şas 
	c¡age


16 
	mpublic
:

18 
¡age
();

20 ~
¡age
();

22 
boŞ
 
	mex‹º®V›w
;

24 
boŞ
 
	mš‹º®V›w
;

26 
boŞ
 
	mshowPÏy”
;

29 
	mhabIÁ”ÇlY1
;

30 
	mhabIÁ”ÇlY2
;

33 
TTF_FÚt
 *
	mfÚt
;

35 
Textu»
 
	mthªksTextu»
;

37 
·¿Îax
 
	m¡¬sFÜe
;

38 
·¿Îax
 
	m¡¬sMid
;

39 
·¿Îax
 
	m¡¬sBack
;

41 
	m¡d
::
¡ršg
 
cou¿ge
;

43 
Textu»
 
	mcou¿geTextu»
;

45 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

47 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

49 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

51 
ä“Bu‰Ús
();

52 
ä“BGTextu»s
();

54 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

56 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

58 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

60 
£tFeNames
();

62 
£tBu‰ÚNames
();

64 
hªdËSgeBu‰ÚP»s£s
(
gameS‹
);

66 
hªdËBu‰Ús
Ğ
SDL_Ev’t
* 
e
 );

69 
¶ay”
 
	m¶ay”1
;

71 
¡©iÚ
 
	m¡©iÚ
;

73 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

75 
ä“
();

77 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

79 
lßdFÚt
();

81 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

83 
move
(
couÁedF¿mes
);

85 
£tNewgameV¬s
();

87 
lßdSavedGameD©a
(
Ušt32
 
d1
, Ušt32 
d2
, Ušt32 
d3
, Ušt32 
d4
);

89 
	m´iv©e
:

	@station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

7 şas 
	c¡©iÚ


9 
	mpublic
:

11 
¡©iÚ
();

13 ~
¡©iÚ
();

15 
	mbedX
, 
	mbedY
,
	mbedH
,
	mbedBÙ
;

17 
	mw©”TªkX
, 
	mw©”TªkY
,
	mw©”TªkH
,
	mw©”TªkBÙ
;

19 
	m¶ª‹rX
,
	m¶ª‹rY
,
	m¶ª‹rH
,
	m¶ª‹rBÙ
;

21 
	mk™ch’X
,
	mk™ch’Y
,
	mk™ch’H
,
	mk™ch’BÙ
;

23 cÚ¡ 
	mSTATIONS
 = 4;

25 
	m¡d
::
¡ršg
 
w©”Lev–
;

26 
	m¡d
::
¡ršg
 
¦“pyTime
;

27 
	m¡d
::
¡ršg
 
¶ªtStus
;

28 
	m¡d
::
¡ršg
 
foodTime
;

30 
	m¡d
::
¡ršg
 
¶ªt
;

31 
	m¡d
::
¡ršg
 
w©”PÏÁs
;

32 
	m¡d
::
¡ršg
 
h¬ve¡
;

35 
boŞ
 
	m¶ªtOkay
;

36 
boŞ
 
	mw©”PÏÁsOkay
;

37 
boŞ
 
	mh¬ve¡Okay
;

39 
Textu»
 
	mw©”Lev–Textu»
;

40 
Textu»
 
	m¦“pyTimeTextu»
;

42 
Textu»
 
	mfoodTimeTextu»
;

44 
Textu»
 
	m¶ªtTextu»
;

45 
Textu»
 
	mw©”PÏÁsTextu»
;

46 
Textu»
 
	mh¬ve¡Textu»
;

49 
Textu»
 
	mbedTextu»
;

52 
Textu»
 
	mw©”TªkTextu»
;

53 
Textu»
 
	m¶ª‹rTextu»
;

54 
Textu»
 
	mk™ch’Textu»
;

56 
SDL_Reù
 
	mcŞlidabË
[
STATIONS
];

58 
SDL_Reù
 
	mš‹¿ùabË
[
STATIONS
];

61 
lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

63 
»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

65 
lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

67 
»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

69 
lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

71 
»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

73 
lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

75 
»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

77 
lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

79 
upd©ePos™iÚ
(
y
);

81 
»nd”StiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

83 
»nd”StiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

85 
ä“
();

87 
	m´iv©e
:

	@text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

14 
TTF_FÚt
* 
	mfÚt
;

16 
lßdText
(
SDL_R’d””
* 
»nd””
);

18 
ä“
();

21 
	m´iv©e
:

	@texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

36 
boŞ
 
š™Textu»
(
SCREEN_WIDTH
,
SCREEN_HEIGHT
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xtu»Text
, 
SDL_CŞÜ
 
‹xtCŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

43 
	m´iv©e
:

45 
Ušt32
 
¡¬tTicks
;

48 
Ušt32
 
	m·u£dTicks
;

51 
boŞ
 
	m·u£d
;

52 
boŞ
 
	m¡¬‹d
;

	@
1
.
1
/usr/include
44
1148
C:\Sojourner\Sojourner\Main.cpp
C:\Sojourner\Sojourner\animations.cpp
C:\Sojourner\Sojourner\animations.h
C:\Sojourner\Sojourner\audio.cpp
C:\Sojourner\Sojourner\audio.h
C:\Sojourner\Sojourner\button.cpp
C:\Sojourner\Sojourner\button.h
C:\Sojourner\Sojourner\chapter.cpp
C:\Sojourner\Sojourner\chapter.h
C:\Sojourner\Sojourner\myicon.rc
C:\Sojourner\Sojourner\parallax.cpp
C:\Sojourner\Sojourner\parallax.h
C:\Sojourner\Sojourner\particle.cpp
C:\Sojourner\Sojourner\particle.h
C:\Sojourner\Sojourner\player.cpp
C:\Sojourner\Sojourner\player.h
C:\Sojourner\Sojourner\pregameui.cpp
C:\Sojourner\Sojourner\pregameui.h
C:\Sojourner\Sojourner\saveGame.cpp
C:\Sojourner\Sojourner\saveGame.h
C:\Sojourner\Sojourner\stage.cpp
C:\Sojourner\Sojourner\stage.h
C:\Sojourner\Sojourner\station.cpp
C:\Sojourner\Sojourner\station.h
C:\Sojourner\Sojourner\text.cpp
C:\Sojourner\Sojourner\text.h
C:\Sojourner\Sojourner\texture.cpp
C:\Sojourner\Sojourner\texture.h
C:\Sojourner\Sojourner\timer.cpp
C:\Sojourner\Sojourner\timer.h
Texture.h
animations.h
audio.h
button.h
parallax.h
particle.h
player.h
pregameui.h
saveGame.h
stage.h
station.h
text.h
texture.h
timer.h
