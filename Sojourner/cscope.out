cscope 15 /c/Sojourner/Sojourner               0000195883
	@C:\Sojourner\Sojourner\Main.cpp

2 
	~"audio.h
"

3 
	~"bu‰Ú.h
"

4 
	~"Textu».h
"

5 
	~"·¹işe.h
"

6 
	~"§veGame.h
"

7 
	~"´egameui.h
"

8 
	~"ªim©iÚs.h
"

9 
	~"¡age.h
"

10 
	~"‹xt.h
"

13 cÚ¡ 
	gTOTAL_STATES
 = 6;

26 
boŞ
 
š™
();

28 
boŞ
 
lßdMedŸ
();

30 
şo£
();

32 
SDL_R’d””
* 
	g»nd””
 = 
NULL
;

34 
SDL_Wšdow
* 
	gwšdow
 = 
NULL
;

36 
§veGame
 
	g´eã»nûs
;

38 
§veGame
 
	g§vegame
;

40 
audio
 
	gmusic
;

42 
	g¡d
::
veùÜ
<
audio
> 
sounds
;

44 
audio
 
	gsound
;

46 
¡age
 
	g¡age
,
	gİ’šgSequ’û
;

50 
´egameui
 
	g´egameui
;

52 
ªim©iÚs
 
	gªim©iÚs
;

54 
‹xt
 
	g‹xt
;

56 
tim”
 
	g¶ayedTime
;

60 
boŞ
 
lßdSounds
();

63 
	ggameS‹
;

65 
	gcho£nSave
;

67 
Textu»
 
	gbÏckGround
;

69 
boŞ
 
çdeOut
(
couÁedF¿mes
, boŞ 
çde
);

71 
boŞ
 
çdeIn
(
couÁedF¿mes
,boŞ 
çde
);

73 
boŞ
 
	$çdeIn
(
couÁedF¿mes
, 
boŞ
 
çde
)

75 
¡d
::
cout
<<"\n„unning fadeIn(int countedFrames, bool fade)";

76 
Ušt32
 
®pha
 = 255-(
couÁedF¿mes
%256);

77 
bÏckGround
.
	`£tAÍha
(
®pha
);

78 if(
couÁedF¿mes
%256>254)

80 
çde
=
çl£
;

82  
çde
;

83 
	}
}

85 
boŞ
 
	$çdeOut
(
couÁedF¿mes
, 
boŞ
 
çde
)

87 
¡d
::
cout
<<"\n„unning fadeOut(int countedFrames, bool fade)";

88 if(
couÁedF¿mes
%256 < 255)

90 
bÏckGround
.
	`£tAÍha
(
couÁedF¿mes
);

92 if(
couÁedF¿mes
%256>=255)

94 
çde
=
çl£
;

96  
çde
;

97 
	}
}

99 
boŞ
 
	$š™
()

101 
¡d
::
cout
<<"\n„unning init()";

103 
boŞ
 
sucûss
 = 
Œue
;

104 
gameS‹
 = 0;

106 ifĞ
	`SDL_In™
Ğ
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 ) < 0 )

108 
	`´štf
Ğ"\ÀSDL could‚Ù in™Ÿlize! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

109 
sucûss
 = 
çl£
;

114 ifĞ!
	`SDL_S‘Hšt
Ğ
SDL_HINT_RENDER_SCALE_QUALITY
, "1" ) )

116 
	`´štf
( "\n Warning: Linearexture filtering‚otƒnabled!" );

118 
wšdow
 = 
	`SDL_C»©eWšdow
Ğ"Sojouº”", 
SDL_WINDOWPOS_UNDEFINED
, SDL_WINDOWPOS_UNDEFINED, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
, 
SDL_WINDOW_SHOWN
 | 
SDL_WINDOW_RESIZABLE
 );

119 ifĞ
wšdow
 =ğ
NULL
 )

121 
	`´štf
Ğ"\ÀWšdow could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

122 
sucûss
 = 
çl£
;

124 
»nd””
 = 
	`SDL_C»©eR’d””
Ğ
wšdow
, -1, 
SDL_RENDERER_ACCELERATED
 );

125 ifĞ
»nd””
 =ğ
NULL
 )

127 
	`´štf
Ğ"\ÀR’d”” could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

128 
sucûss
 = 
çl£
;

133 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

135 
´egameui
.
	`ü—‹P¬tişes
(
»nd””
);

137 
imgFÏgs
 = 
IMG_INIT_PNG
;

138 ifĞ!Ğ
	`IMG_In™
Ğ
imgFÏgs
 ) & imgFlags ) )

140 
	`´štf
Ğ"\ÀSDL_imagcould‚Ù in™Ÿlize! SDL_imagE¼Ü: %s\n", 
	`IMG_G‘E¼Ü
() );

141 
sucûss
 = 
çl£
;

144 ifĞ
	`Mix_O³nAudio
Ğ44100, 
MIX_DEFAULT_FORMAT
, 2, 2048 ) < 0 )

146 
	`´štf
Ğ"\ÀSDL_mix” could‚Ù in™Ÿlize! SDL_mix” E¼Ü: %s\n", 
	`Mix_G‘E¼Ü
() );

147 
sucûss
 = 
çl£
;

149 ifĞ
	`TTF_In™
() == -1 )

151 
	`´štf
Ğ"\ÀSDL_‰àcould‚Ù in™Ÿlize! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

152 
sucûss
 = 
çl£
;

155  
sucûss
;

156 
	}
}

158 
boŞ
 
	$lßdSounds
()

160 
¡d
::
cout
<<"\n„unning†oadSounds()";

161 
boŞ
 
sucûss
 = 
Œue
;

163 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

165 
sounds
.
	`push_back
(
sound
);

168 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

170 
sounds
[
i
].
	`lßdSound
(i);

172  
sucûss
;

173 
	}
}

175 
boŞ
 
	$lßdMedŸ
()

177 
¡d
::
cout
<<"\n„unning†oadMedia()";

178 
boŞ
 
sucûss
 = 
Œue
;

180 
´eã»nûs
.
	`»adP»fsFe
();

182 
i
 = 0; i<
TOTAL_SAVES
;i++)

184 
§vegame
.
	`»adSaveFe
(
i
);

186 
´egameui
.
exi¡šgSave
[
i
] = 
§vegame
.
d©a
[0];

191 
time_t
 
§ved
 = 
§vegame
.
d©a
[1];

192 * 
sdt
 = 
	`ùime
(&
§ved
);

193 
¡d
::
cout
<<"\Àtimoà§ve: "<<
sdt
;

194 
¡d
::
cout
<<"\ÀamouÁ oàtim¶ayed: "<<
§vegame
.
d©a
[2];

200 
sucûss
 = 
´egameui
.
	`lßdP»gameUI
(
»nd””
,success);

206 
sucûss
 = 
	`lßdSounds
();

209 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
 = 
´eã»nûs
.
´efsD©a
[0];

210 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
 = 
´eã»nûs
.
´efsD©a
[1];

211 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
 = 
´eã»nûs
.
´efsD©a
[2];

213 
music
.
musicToggË
=
´egameui
.
İtiÚsBu‰Ús
[2].musicToggle;

214 if(
music
.
musicToggË
)

216 
music
.
	`¶ayMusic
();

218 if(
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
)

220 
´egameui
.
İtiÚsBu‰Ús
[1].
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

223 
bÏckGround
.
	`lßdFromFe
("images/BÏckground.²g",
»nd””
);

225 
‹xt
.
	`lßdText
(
»nd””
);

229 if(
sucûss
 =ğ
çl£
)

231 
	`´štf
("something didn't†oad„ight in†oadmedia.");

233  
sucûss
;

234 
	}
}

236 
	$şo£
()

238 
¡d
::
cout
<<"\n„unning close()";

241 
¡d
::
cout
<<"\À¶ayedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

242 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed: "<<
¶ayedTime
.
timePÏyed
;

248 
´eã»nûs
.
	`wr™eP»fsFe
(
´egameui
);

250 
´egameui
.
	`ä“
();

253 
İ’šgSequ’û
.
	`ä“
();

259 
bÏckGround
.
	`ä“
();

261 
‹xt
.
	`ä“
();

263 
music
.
	`ä“Audio
();

270 !
sounds
.
	`em±y
()){

271 
sounds
.
	`pİ_back
();

274 
	`SDL_De¡royR’d””
Ğ
»nd””
 );

275 
	`SDL_De¡royWšdow
Ğ
wšdow
 );

276 
wšdow
 = 
NULL
;

277 
»nd””
 = 
NULL
;

281 
	`TTF_Qu™
();

282 
	`Mix_Qu™
();

283 
	`IMG_Qu™
();

284 
	`SDL_Qu™
();

285 
	}
}

287 
	$maš
Ğ
¬gc
, * 
¬gs
[] )

289 
¡d
::
cout
<<"\n„unning main( int‡rgc, char*‡rgs[] )";

291 ifĞ!
	`š™
() )

293 
	`´štf
( "Failedo initialize!\n" );

298 ifĞ!
	`lßdMedŸ
() )

300 
	`´štf
( "Failedo†oad media!\n" );

305 
boŞ
 
qu™
 = 
çl£
;

306 
boŞ
 
çde
=
çl£
;

308 
music
.
	`lßdMusic
();

309 
music
.
	`¶ayMusic
();

311 
tim”
 
ÿpTim”
;

313 
couÁedF¿mes
 = 0;

315 
SDL_Ev’t
 
e
;

317 
ÿpTim”
.
	`¡¬t
();

319  !
qu™
 )

324  
	`SDL_PŞlEv’t
Ğ&
e
 ) != 0 )

327 ifĞ
e
.
ty³
 =ğ
SDL_QUIT
 )

329 
qu™
 = 
Œue
;

331 if(
e
.
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ.ty³ =ğ
SDL_MOUSEMOTION
)

333 if(
gameS‹
 == 5)

335 
gameS‹
 = 
¡age
.
	`hªdËBu‰Ús
(
»nd””
,&
e
);

336 if(
gameS‹
!= 5)

340 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed befÜruÂšg…ÏyedTime.upd©ePÏyedTime(): "<<
¶ayedTime
.
timePÏyed
;

341 
¶ayedTime
.
	`upd©ePÏyedTime
();

342 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed‡á”„uÂšg…ÏyedTime.upd©ePÏyedTime(): "<<
¶ayedTime
.
timePÏyed
;

343 
¶ayedTime
.
	`·u£
();

344 
¡d
::
cout
<<"\À¶ayedTim¡¬‹d: "<<
¶ayedTime
.
	`isS¹ed
()<<",…ÏyedTim·u£d: "<<¶ayedTime.
	`isPau£d
();

345 
¡d
::
cout
<<"\ÀSDL_g‘Ticks(): "<<
	`SDL_G‘Ticks
()<<",…ÏyedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

348 
§vegame
.
	`upd©eSaveD©a
(
cho£nSave
,
¡age
,
¶ayedTime
.
timePÏyed
);

349 
§vegame
.
	`upd©eSavedM‘aD©a
(
cho£nSave
,
»nd””
,
‹xt
.
fÚt
);

351 
¡age
.
	`ä“
();

352 
´egameui
.
	`lßdT™ËSü“nTextu»s
(
»nd””
);

353 
´egameui
.
	`lßdMašBu‰Ús
(
»nd””
);

358 if(
gameS‹
 == 0)

362 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

364 if(
gameS‹
==4)

366 
ªim©iÚs
.
	`lßdC»d™sAnim©iÚTextu»s
(
»nd””
);

368 if(
gameS‹
==1 || gameState == 2)

370 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
,
‹xt
.
fÚt
);

374 if(
gameS‹
==1)

376 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

378 if(
gameS‹
==6)

380 
cho£nSave
 = 
´egameui
.chosenSave;

381 
¶ayedTime
.
timePÏyed
 = 0;

382 
¶ayedTime
.
	`»¡¬t
();

383 
İ’šgSequ’û
.
	`lßdO³nšgSequ’û
(
»nd””
);

391 if(
gameS‹
==5)

393 
cho£nSave
 = 
´egameui
.chosenSave;

394 
¡age
.
	`£tNewgameV¬s
();

395 
¶ayedTime
.
timePÏyed
 = 0;

396 
¶ayedTime
.
	`»¡¬t
();

397 
¡age
.
	`lßdSge
(
»nd””
,¡age.
šHab
, sge.
šEng
,
Œue
);

401 if(
gameS‹
 == 0)

405 if(
´egameui
.
Œigg”D–‘e
)

407 
´egameui
.
Œigg”D–‘e
 = 
çl£
;

408 
§vegame
.
	`d–‘eSave
(
´egameui
.
d–‘eCªdid©e
);

410 
¡d
::
cout
<<"\n deleteSave called from‚ewgame screen";

411 
´egameui
.
exi¡šgSave
[´egameui.
d–‘eCªdid©e
] = 
çl£
;

412 
§vegame
.
	`upd©eSavedM‘aD©a
(
´egameui
.
d–‘eCªdid©e
,
»nd””
,
‹xt
.
fÚt
);

413 
§vegame
.
§vedD©e
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

414 
§vegame
.
§vedPÏyTime
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

416 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
, 
‹xt
.
fÚt
);

419 if(
gameS‹
==2)

422 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

424 if(
gameS‹
==5)

428 
¡d
::
cout
<<"\Àcho£nSave: "<<
cho£nSave
<<"\À´egameui.cho£nSave: "<<
´egameui
.cho£nSave<<"\À´egameui.d–‘eCªdid©e: "<<´egameui.
d–‘eCªdid©e
;

429 
cho£nSave
 = 
´egameui
.chosenSave;

430 
¡d
::
cout
<<"\Àcho£nSave: "<<
cho£nSave
;

431 
§vegame
.
	`»adSaveFe
(
cho£nSave
);

433 if(
§vegame
.
d©a
[0])

436 
§vegame
.
	`£tD©aV®ues
();

437 
¡age
.
	`lßdSavedGameD©a
(
§vegame
.
d©aV®ues1
);

438 
¡age
.
¶ay”1
.
	`lßdSavedPÏy”D©a
(
§vegame
.
d©aV®ues2
);

440 
¡age
.
sh
.
	`lßdSavedShD©a
(
§vegame
.
d©aV®ues3
);

441 if(
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
.
	`size
() == 0)

443 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
.
	`push_back
(
§vegame
.
d©a
[18]);

444 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
.
	`push_back
(
§vegame
.
d©a
[19]);

445 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
.
	`push_back
(
§vegame
.
d©a
[26]);

447 
¡age
.
timeSurvived
 = 
§vegame
.
d©a
[20];

448 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rS‹
 = 
§vegame
.
d©a
[21];

449 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rDaysS‹
 = 
§vegame
.
d©a
[22];

450 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rTimeW©”ed
 = 
§vegame
.
d©a
[23];

451 
¡age
.
šHab
 = 
§vegame
.
d©a
[27];

452 
¡age
.
šEng
 = 
§vegame
.
d©a
[28];

454 
¡age
.
	`lßdSge
(
»nd””
, sge.
šHab
, sge.
šEng
, 
Œue
);

456 
¡d
::
cout
<<"\À§vegame.d©a[2]: "<<
§vegame
.
d©a
[2];

457 
Ušt32
 
´eviou¦yPÏyed
 = 
§vegame
.
d©a
[2];

458 
¡d
::
cout
<<"\À´eviou¦yPÏyed: "<<
´eviou¦yPÏyed
;

459 
¶ayedTime
.
timePÏyed
 = 
§vegame
.
d©a
[2];

461 
¶ayedTime
.
	`»¡¬t
();

464 if(
gameS‹
==0)

466 
´egameui
.
	`lßdLßdGameTextu»s
(
»nd””
);

467 
´egameui
.
	`lßdLßdgameBu‰Ús
(
»nd””
);

468 
gameS‹
 = 2;

471 if(
´egameui
.
Œigg”D–‘e
)

473 
´egameui
.
Œigg”D–‘e
 = 
çl£
;

474 
§vegame
.
	`d–‘eSave
(
´egameui
.
d–‘eCªdid©e
);

478 
¡d
::
cout
<<"\n deleteSave called from†oadgame screen";

479 
´egameui
.
exi¡šgSave
[´egameui.
d–‘eCªdid©e
] = 
çl£
;

480 
§vegame
.
	`upd©eSavedM‘aD©a
(
´egameui
.
d–‘eCªdid©e
,
»nd””
,
‹xt
.
fÚt
);

481 
§vegame
.
§vedD©e
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

482 
§vegame
.
§vedPÏyTime
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

484 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
, 
‹xt
.
fÚt
);

487 if(
gameS‹
 == 0)

492 if(
gameS‹
==3)

494 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

495 if(
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
)

497 
music
.
musicToggË
 = 
Œue
;

498 if(!
music
.
	`isPÏyšg
())

500 
music
.
	`¶ayMusic
();

505 
music
.
musicToggË
 = 
çl£
;

506 if(
music
.
	`isPÏyšg
())

508 
music
.
	`¡İMusic
();

511 if(
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
)

520 if(
gameS‹
==4)

522 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

524 if(!
ªim©iÚs
.
ªim©iÚTim”2
.
	`isS¹ed
())

526 
ªim©iÚs
.
ªim©iÚTim”2
.
	`¡¬t
();

528 if(
gameS‹
 == 0)

530 
ªim©iÚs
.
	`ä“C»d™sAnim©iÚTextu»s
();

534 if(
gameS‹
 == 6)

538 
İ’šgSequ’û
.
	`hªdËBu‰Ús
(
»nd””
,&
e
);

539 if(
İ’šgSequ’û
.
com¶‘e
)

541 
¡d
::
cout
<<"\n changing gamestate from 5o 6";

542 
İ’šgSequ’û
.
	`»£tO³nšgSequ’ûV¬ŸbËs
();

543 
gameS‹
 = 5;

546 
¡age
.
	`£tNewgameV¬s
();

549 
¡age
.
	`lßdSge
(
»nd””
,¡age.
šHab
, sge.
šEng
,
Œue
);

555 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 )

557  
e
.
key
.
keysym
.
sym
 )

559 
SDLK_SPACE
:

563 
SDLK_ESCAPE
:

564 if(
gameS‹
==0)

566 
qu™
=
Œue
;

568 if(
gameS‹
==6)

570 
İ’šgSequ’û
.
com¶‘e
 = 
Œue
;

574 
SDLK_1
:

575 
sounds
[0].
	`¶aySound
();

577 
SDLK_2
:

578 
sounds
[1].
	`¶aySound
();

580 
SDLK_3
:

581 
sounds
[2].
	`¶aySound
();

583 
SDLK_4
:

584 
sounds
[3].
	`¶aySound
();

586 
SDLK_9
:

588 
music
.
	`¶ayMusic
();

593 if(
¡age
.
š‹º®V›w
)

595 
¡age
.
¶ay”1
.
	`hªdËEv’t
(
e
);

598 if(
¡age
.
¶ay”1
.
š‹¿ù
)

600 
¡age
.
	`hªdËStiÚ
(
»nd””
,
‹xt
.
fÚt2
);

602 if(!
¡age
.
bu‰ÚsF»ed
 && !¡age.
¶ay”1
.
š‹¿ù
)

604 
¡age
.
	`ä“StiÚBu‰Ús
();

606 if(
gameS‹
 == 6)

608 
İ’šgSequ’û
.
¶ay”1
.
	`hªdËEv’t
(
e
);

613 if(
¡age
.
š‹º®V›w
)

615 
¡age
.
	`move
(
couÁedF¿mes
);

617 if(
gameS‹
 == 6)

619 
İ’šgSequ’û
.
	`move
(
couÁedF¿mes
);

623 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

624 
	`SDL_R’d”CË¬
Ğ
»nd””
 );

626 if(
gameS‹
 == 0)

629 
´egameui
.
	`hªdËT™ËSü“nR’d”šg
(
»nd””
);

631 if(
gameS‹
 == 1)

634 
´egameui
.
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

636 
	`SDL_D–ay
(1);

638 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

640 
´egameui
.
	`hªdËNewGameSü“nR’d”šg
(
»nd””
);

643 if(
gameS‹
 == 2)

646 
´egameui
.
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

648 
	`SDL_D–ay
(1);

650 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

652 
´egameui
.
	`hªdËLßdGameSü“nR’d”šg
(
»nd””
);

654 if(
gameS‹
 == 3)

657 
´egameui
.
	`hªdËO±iÚsSü“nR’d”šg
(
»nd””
);

659 if(
gameS‹
 == 4)

662 
´egameui
.
	`hªdËC»d™sSü“nR’d”šg
(
»nd””
);

664 
ªim©iÚs
.
	`»nd”Tß¡”
(
»nd””
);

665 
ªim©iÚs
.
	`tß¡”Anim©iÚProg»ss
();

666 
ªim©iÚs
.
	`cyşeAnim©iÚs
();

669 if(
gameS‹
 == 5)

672 
¡age
.
	`»nd”Sge1
(
»nd””
);

674 if(
gameS‹
 == 6)

676 
İ’šgSequ’û
.
	`»nd”O³nšgSequ’û
(
»nd””
);

678 if(
çde
)

680 
çde
 = 
	`çdeIn
(
couÁedF¿mes
,fade);

681 
bÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

684 
	`SDL_R’d”P»£Á
Ğ
»nd””
 );

685 ++
couÁedF¿mes
;

686 if(
couÁedF¿mes
>0 && couÁedF¿me < 255 && 
gameS‹
==0)

688 
´egameui
.
t™Ë
.
	`£tAÍha
(
couÁedF¿mes
);

691 
äameTicks
 = 
ÿpTim”
.
	`g‘Ticks
();

692 ifĞ
äameTicks
 < 
SCREEN_TICK_PER_FRAME
 )

695 
	`SDL_D–ay
Ğ
SCREEN_TICK_PER_FRAME
 - 
äameTicks
 );

701 
	`SDL_StİTextIÅut
();

705 
	`şo£
();

707 
	}
}

	@C:\Sojourner\Sojourner\animations.cpp

1 
	~"ªim©iÚs.h
"

3 
	gªim©iÚs
::
	$ªim©iÚs
()

5 
ªiF¿me
=0;

6 
ªiF¿me2
=0;

7 
ªiF¿me3
=0;

8 
ªiF¿me4
=0;

9 
ªiF¿me5
=0;

10 
ªiF¿me6
=0;

11 
ªiF¿me7
=0;

12 
ªiF¿me8
=0;

13 
ªiF¿me9
=0;

14 
ªiF¿me10
=0;

15 
ªiCouÁUp
=
Œue
;

17 
	}
}

19 
	gªim©iÚs
::~
	$ªim©iÚs
()

22 
	}
}

24 
boŞ
 
ªim©iÚs
::
	$lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
)

26 
¡d
::
cout
<<"\n„unning‡nimations::loadCreditsAnimationTextures(SDL_Renderer*„enderer)";

27 
boŞ
 
sucûss
 = 
Œue
;

28 
i
 = 0; i<
TOASTER_ANIMATION_FRAMES
;i++)

30 
a
 = 
i
;

31 
¡d
::
¡ršg¡»am
 
ss
;

32 
ss
 << "images/ªim©iÚs/tß¡”/tß¡”" << 
a
 << ".png";

33 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

34 
sucûss
 = 
tß¡”
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

36  
sucûss
;

37 
	}
}

39 
	gªim©iÚs
::
	$ä“C»d™sAnim©iÚTextu»s
()

41 
¡d
::
cout
<<"\n„unning‡nimations::freeCreditsAnimationTextures()";

42 
i
=0;i<
TOASTER_ANIMATION_FRAMES
;i++)

44 
tß¡”
[
i
].
	`ä“
();

46 
	}
}

48 
	gªim©iÚs
::
	$»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
)

50 
ªiF¿me2
)

52 0:
tß¡”
[0].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

54 1:
tß¡”
[1].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

56 2:
tß¡”
[2].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

58 3:
tß¡”
[3].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

60 4:
tß¡”
[4].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

62 5:
tß¡”
[5].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

64 6:
tß¡”
[6].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

66 7:
tß¡”
[7].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

69 
	}
}

71 
	gªim©iÚs
::
	$cyşeAnim©iÚs
()

73 ifĞ
ªiF¿me
 >ğ
TAO_ANIMATION_FRAMES
 )

75 
ªiF¿me
 = 0;

77 if(
ªiF¿me3
 >ğ
TOASTER2_ANIMATION_FRAMES
)

79 
ªiF¿me3
 = 0;

81 ifĞ
ªiF¿me2
 >ğ
TOASTER_ANIMATION_FRAMES
-1 )

83 
ªiCouÁUp
 = 
çl£
;

85 ifĞ
ªiF¿me4
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

87 
ªiF¿me4
 = 0;

88 
bsX1
=
	`¿nd
() % 200;

89 
bsY1
=
	`¿nd
()% 350;

91 ifĞ
ªiF¿me5
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

93 
ªiF¿me5
 = 0;

94 
bsX2
=
	`¿nd
() % 200;

95 
bsX2
+=200;

96 
bsY2
=
	`¿nd
()% 350;

98 ifĞ
ªiF¿me6
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

100 
ªiF¿me6
 = 0;

101 
bsX3
=
	`¿nd
() % 200;

102 
bsX3
+=400;

103 
bsY3
=
	`¿nd
()% 350;

105 ifĞ
ªiF¿me7
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

107 
ªiF¿me7
 = 0;

108 
bsX4
=
	`¿nd
() % 200;

109 
bsX4
+=550;

110 
bsY4
=
	`¿nd
()% 350;

112 if(
ªiF¿me8
 >ğ
PORTAL_ANIMATION_FRAMES
)

114 
ªiF¿me8
 = 20;

116 if(
ªiF¿me2
 <= 0)

118 
ªiCouÁUp
 = 
Œue
;

120 ifĞ
ªiF¿me9
 >ğ
RAT_ANIMATION_FRAMES
 )

122 
ªiF¿me9
 = 0;

124 ifĞ
ªiF¿me10
 >ğ
TRAILER_ANIMATION_FRAMES
 )

126 
ªiF¿me10
 = 0;

128 
	}
}

130 
	gªim©iÚs
::
	$oscÏ‹CouÁ
()

132 if(
ªiCouÁUp
)

134 
ªiF¿me2
++;

135 
	`SDL_D–ay
(50);

139 
ªiF¿me2
--;

140 
	`SDL_D–ay
(50);

142 
	}
}

144 
	gªim©iÚs
::
	$tß¡”Anim©iÚProg»ss
()

146 if(
ªim©iÚTim”2
.
	`g‘Ticks
() / 60 > 1)

148 
	`oscÏ‹CouÁ
();

151 
	}
}

153 
	gªim©iÚs
::
	$´og»ss
()

158 
	`tß¡”Anim©iÚProg»ss
();

160 
	`cyşeAnim©iÚs
();

161 
	}
}

	@C:\Sojourner\Sojourner\animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

7 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

8 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

10 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

12 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

14 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

16 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

18 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

21 şas 
	cªim©iÚs


23 
	mpublic
:

25 
ªim©iÚs
();

27 ~
ªim©iÚs
();

30 
tim”
 
	mªim©iÚTim”
;

33 
tim”
 
	mªim©iÚTim”2
;

35 
tim”
 
	mªim©iÚTim”3
;

38 
tim”
 
	mªim©iÚTim”4
;

39 
tim”
 
	mªim©iÚTim”5
;

40 
tim”
 
	mªim©iÚTim”6
;

41 
tim”
 
	mªim©iÚTim”7
;

44 
tim”
 
	mªim©iÚTim”8
;

46 
tim”
 
	mªim©iÚTim”9
;

48 
tim”
 
	mªim©iÚTim”10
;

50 
boŞ
 
	mªiCouÁUp
;

53 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

56 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

58 
	mªiF¿me8
;

60 
	mªiF¿me9
;

62 
	mªiF¿me10
;

64 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

67 
	mpÜlY
;

68 
	mtß¡”2X
;

71 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

72 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

74 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

75 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

76 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

77 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

80 
boŞ
 
lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

82 
ä“C»d™sAnim©iÚTextu»s
();

87 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

94 
cyşeAnim©iÚs
();

95 
oscÏ‹CouÁ
();

99 
tß¡”Anim©iÚProg»ss
();

107 
´og»ss
();

113 
	m´iv©e
:

	@C:\Sojourner\Sojourner\audio.cpp

1 
	~"audio.h
"

3 
	gaudio
::
	$audio
()

5 
music
 = 
NULL
;

6 
sound
 = 
NULL
;

7 
voiû
 = 
NULL
;

8 
musicToggË
 = 
Œue
;

9 
voiûToggË
 = 
Œue
;

10 
	}
}

11 
	gaudio
::~
	$audio
()

14 
	`Mix_F»eMusic
Ğ
music
 );

15 
	`Mix_F»eChunk
Ğ
sound
 );

16 
	`Mix_F»eChunk
Ğ
voiû
 );

17 
sound
=
NULL
;

18 
music
=
NULL
;

19 
voiû
=
NULL
;

20 
	}
}

22 
	gaudio
::
	$lßdMusic
()

24 
¡d
::
cout
<<"\n„unning‡udio::loadMusic()";

27  
	`¿nd
() % 7 )

30 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Blitz-Nevrosis.mp3" );

31 
¡d
::
cout
<<"\n\n†oaded blitz-nevrosis.mp3";

34 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Empsykoun.mp3" );

35 
¡d
::
cout
<<"\n\n†oadedƒmpsykoun.mp3";

38 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Polylove.mp3" );

39 
¡d
::
cout
<<"\n\n†oaded…olylove.mp3";

42 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Rouge-haine-les-9-ames.mp3" );

43 
¡d
::
cout
<<"\n\n†oaded„ouge-haine-les-9-ames.mp3";

46 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - The†ost cyborg.mp3" );

47 
¡d
::
cout
<<"\n\n†oadedhe†ost cyborg.mp3";

50 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - There-is-someone.mp3" );

51 
¡d
::
cout
<<"\n\n†oadedhere-is-someone.mp3";

54 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Vortex-temporalis.mp3" );

55 
¡d
::
cout
<<"\n\n†oaded vortex-temporalis.mp3";

59 
	}
}

61 
	gaudio
::
	$lßdCh­‹r1Music
()

64 
¡d
::
cout
<<"\n„unning‡udio::loadChapter1Music()";

65 
music
 = 
	`Mix_LßdMUS
("music/Meadow March.mp3");

66 
	}
}

68 
	gaudio
::
	$lßdCh­‹r2Music
()

71 
¡d
::
cout
<<"\n„unning‡udio::loadChapter2Music()";

72 
music
 = 
	`Mix_LßdMUS
("music/Tiki Jungle.mp3");

73 
	}
}

75 
	gaudio
::
	$lßdCh­‹r3Music
()

78 
¡d
::
cout
<<"\n„unning‡udio::loadChapter3Music()";

79 
music
 = 
	`Mix_LßdMUS
("music/Radioactive Rain.mp3");

80 
	}
}

82 
	gaudio
::
	$lßdSound
(
soundNum
)

84 
¡d
::
cout
<<"\n„unning‡udio::loadSound(int soundNum)";

85 
soundNum
)

88 
sound
 = 
	`Mix_LßdWAV
( "sounds/voice0.mp3" );

91 
sound
 = 
	`Mix_LßdWAV
( "sounds/gem.mp3" );

94 
sound
 = 
	`Mix_LßdWAV
( "sounds/shovel.mp3" );

97 
sound
 = 
	`Mix_LßdWAV
( "sounds/titleitemselect4.wav" );

100 
sound
 = 
	`Mix_LßdWAV
( "sounds/beam.mp3");

103 
sound
 = 
	`Mix_LßdWAV
( "sounds/3beeps.mp3");

106 
	}
}

108 
	gaudio
::
	$lßdVoiû
(
ch­‹r
,
·ge
,
lše
)

111 
¡d
::
cout
<<"\n„unning‡udio::loadVoice(int chapter,int…age,int†ine)";

112 
¡d
::
¡ršg
 
voiûSŒšg
 = "sounds/voiû‡ùšg/ch­‹r"+¡d::
	`to_¡ršg
(
ch­‹r
 + 1)+"/c"+¡d::to_¡ršg(ch­‹r+1)+"p"+¡d::to_¡ršg(
·ge
+1)+"l"+¡d::to_¡ršg(
lše
+1)+".mp3";

113 
voiû
 = 
	`Mix_LßdWAV
Ğ
voiûSŒšg
.
	`c_¡r
() );

114 
	}
}

116 
	gaudio
::
	$¡İVoiû
()

118 
¡d
::
cout
<<"\n„unning‡udio::stopVoice()";

120 
	`Mix_H®tChªÃl
(-1);

121 
	}
}

123 
	gaudio
::
	$ä“Audio
()

125 
¡d
::
cout
<<"\n„unning‡udio::freeAudio()";

126 
	`Mix_F»eChunk
Ğ
sound
 );

127 
sound
 = 
NULL
;

128 
	`Mix_F»eChunk
Ğ
voiû
 );

129 
voiû
 = 
NULL
;

130 
	`Mix_F»eMusic
Ğ
music
 );

131 
music
 = 
NULL
;

132 
	}
}

134 
	gaudio
::
	$¶aySound
()

136 
¡d
::
cout
<<"\n„unning‡udio::playSound()";

137 
	`Mix_PÏyChªÃl
Ğ-1, 
sound
, 0 );

138 
	}
}

140 
	gaudio
::
	$¶ayVoiû
()

142 
¡d
::
cout
<<"\n„unning‡udio::playVoice()";

143 if(
voiûToggË
)

145 
	`Mix_PÏyChªÃl
(-1,
voiû
,0);

147 
	}
}

149 
	gaudio
::
	$¶ayMusic
()

151 
¡d
::
cout
<<"\n„unning‡udio::playMusic()";

152 if(
musicToggË
)

154 ifĞ
	`Mix_PÏyšgMusic
() == 0 )

157 
	`Mix_PÏyMusic
Ğ
music
, -1 );

163 ifĞ
	`Mix_Pau£dMusic
() == 1 )

166 
	`Mix_ResumeMusic
();

172 
	`Mix_Pau£Music
();

177 
	}
}

179 
	gaudio
::
	$·u£Music
()

181 
¡d
::
cout
<<"\n„unning‡udio::pauseMusic()";

182 
	`Mix_Pau£Music
();

183 
	}
}

185 
	gaudio
::
	$»sumeMusic
()

187 
¡d
::
cout
<<"\n„unning‡udio::resumeMusic()";

188 if(
musicToggË
)

190 
	`Mix_ResumeMusic
();

192 
	}
}

194 
	gaudio
::
	$¡İMusic
()

196 
¡d
::
cout
<<"\n„unning‡udio::stopMusic()";

197 
	`Mix_H®tMusic
();

198 
	`lßdMusic
();

199 
	}
}

201 
	gaudio
::
	$»£tMusic
()

203 
¡d
::
cout
<<"\n„unning‡udio::resetMusic()";

204 
	`¡İMusic
();

205 
	`lßdMusic
();

206 
	`¶ayMusic
();

207 
	}
}

209 
boŞ
 
	gaudio
::
	$isPÏyšg
()

212  
	`Mix_PÏyšgMusic
();

213 
	}
}

	@C:\Sojourner\Sojourner\audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@C:\Sojourner\Sojourner\button.cpp

1 
	~"bu‰Ú.h
"

3 
	gbu‰Ú
::
	$bu‰Ú
()

5 
pos™iÚ
.
x
 = 0;

6 
pos™iÚ
.
y
 = 0;

7 
bu‰ÚName
 = "";

8 
fuÎSü“nToggË
=
çl£
;

9 
musicToggË
=
Œue
;

10 
voiûToggË
=
Œue
;

11 
mou£Ov”
=
çl£
;

12 
¡ageBu‰ÚNames
[0]="saveAndExit";

13 
¡ageBu‰ÚNames
[1]="plant";

14 
¡ageBu‰ÚNames
[2]="waterPlants";

15 
	}
}

17 
	gbu‰Ú
::~
	$bu‰Ú
()

19 
bu‰ÚTextu»
.
	`ä“
();

20 
	}
}

22 
	gbu‰Ú
::
	$fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

24 
bu‰ÚTextu»
.
	`ä“
();

25 if(
fuÎSü“nToggË
)

27 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nOn.²g", 
»nd””
);

31 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nToggË.²g", 
»nd””
);

33 
	}
}

35 
	gbu‰Ú
::
	$musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

37 
bu‰ÚTextu»
.
	`ä“
();

38 if(
musicToggË
)

40 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicToggË.²g", 
»nd””
);

44 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicOff.²g", 
»nd””
);

46 
	}
}

48 
	gbu‰Ú
::
	$voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

50 
bu‰ÚTextu»
.
	`ä“
();

51 if(
voiûToggË
)

53 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûToggË.²g", 
»nd””
);

57 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûOff.²g", 
»nd””
);

59 
	}
}

61 
	gbu‰Ú
::
	$£tPos™iÚ
Ğ
x
, 
y
 )

63 
pos™iÚ
.
x
 = x;

64 
pos™iÚ
.
y
 = y;

65 
	}
}

67 
	gbu‰Ú
::
	$g‘Pos™iÚX
()

69  
pos™iÚ
.
x
;

70 
	}
}

71 
	gbu‰Ú
::
	$g‘Pos™iÚY
()

73  
pos™iÚ
.
y
;

74 
	}
}

76 
	gbu‰Ú
::
	$£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

78 
fuÎSü“nToggË
 = 
Œue
;

79 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

80 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_TRUE
 );

81 
	}
}

83 
	gbu‰Ú
::
	$£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

85 
fuÎSü“nToggË
 = 
çl£
;

86 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

87 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_FALSE
 );

88 
	}
}

90 
	gbu‰Ú
::
	$£tMusicOn
(
SDL_R’d””
* 
»nd””
)

92 
musicToggË
 = 
Œue
;

93 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

94 
	}
}

96 
	gbu‰Ú
::
	$£tMusicOff
(
SDL_R’d””
* 
»nd””
)

98 
musicToggË
=
çl£
;

99 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

100 
	}
}

102 
	gbu‰Ú
::
	$£tVoiûOn
(
SDL_R’d””
* 
»nd””
)

104 
voiûToggË
 = 
Œue
;

105 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

106 
	}
}

108 
	gbu‰Ú
::
	$£tVoiûOff
(
SDL_R’d””
* 
»nd””
)

110 
voiûToggË
 = 
çl£
;

111 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

112 
	}
}

114 
	gbu‰Ú
::
	$£tSgeBu‰ÚName
(
i
)

116 
bu‰ÚName
=
¡ageBu‰ÚNames
[
i
];

117 
	}
}

119 
	gbu‰Ú
::
	$hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
, 
SDL_R’d””
* 
»nd””
 )

121 
gameS‹
=-1;

123 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

126 
x
, 
y
;

127 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

130 
boŞ
 
šside
 = 
Œue
;

133 ifĞ
x
 < 
pos™iÚ
.x )

135 
šside
 = 
çl£
;

138 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

140 
šside
 = 
çl£
;

143 ifĞ
y
 < 
pos™iÚ
.y )

145 
šside
 = 
çl£
;

148 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

150 
šside
 = 
çl£
;

154 ifĞ!
šside
 )

156 
mou£Ov”
=
çl£
;

161 if(!
mou£Ov”
)

163 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

164 
mou£Ov”
=
Œue
;

166  
e
->
ty³
 )

168 
SDL_MOUSEBUTTONDOWN
:

169 if(
bu‰ÚName
=="new")

171 
	`´štf
("\n \n‚ew game button…ressed \n \n");

172 
gameS‹
 = 1;

174 if(
bu‰ÚName
=="load")

176 
	`´štf
("\n \n†oad game button…ressed \n \n");

177 
gameS‹
 = 2;

179 if(
bu‰ÚName
=="options")

181 
	`´štf
("\n \n options button…ressed \n \n");

182 
gameS‹
 = 3;

184 if(
bu‰ÚName
=="credits")

186 
	`´štf
("\n \n credits button…ressed \n \n");

187 
gameS‹
 = 4;

189 if(
bu‰ÚName
=="back")

191 
	`´štf
("\n \n back button…ressed \n \n");

192 
gameS‹
 = 0;

194 if(
bu‰ÚName
=="save1")

196 
	`´štf
("\n \n save 1 button…ressed \n \n");

197 
cho£nSave
=0;

198 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

199 
gameS‹
 = 5;

201 if(
bu‰ÚName
=="save2")

203 
	`´štf
("\n \n save 2 button…ressed \n \n");

204 
cho£nSave
=1;

205 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

206 
gameS‹
 = 5;

208 if(
bu‰ÚName
=="save3")

210 
	`´štf
("\n \n save 3 button…ressed \n \n");

211 
cho£nSave
=2;

212 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

213 
gameS‹
 = 5;

215 if(
bu‰ÚName
=="trash1")

217 
	`´štf
("\n \nrash1 button…ressed \n \n");

218 
gameS‹
 = 1;

220 if(
bu‰ÚName
=="trash2")

222 
	`´štf
("\n \nrash2 button…ressed \n \n");

223 
gameS‹
 = 2;

225 if(
bu‰ÚName
=="trash3")

227 
	`´štf
("\n \nrash3 button…ressed \n \n");

228 
gameS‹
 = 3;

230 if(
bu‰ÚName
=="yes")

232 
	`´štf
("\n \n yes button…ressed \n \n");

233 
gameS‹
 = 4;

237 if(
bu‰ÚName
=="no")

239 
	`´štf
("\n \n‚o button…ressed \n \n");

240 
gameS‹
 = 6;

242 if(
bu‰ÚName
=="fullScreenToggle")

244 
	`´štf
("\n \n fullScreenoggle button…ressed \n \n");

245 if(!
fuÎSü“nToggË
)

246 
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

248 
	`£tFuÎSü“nOff
(
wšdow
,
»nd””
);

249 
gameS‹
 = 3;

251 if(
bu‰ÚName
=="musicToggle")

253 
	`´štf
("\n \n musicoggle button…ressed \n \n");

254 if(!
musicToggË
)

255 
	`£tMusicOn
(
»nd””
);

257 
	`£tMusicOff
(
»nd””
);

258 
gameS‹
 = 3;

260 if(
bu‰ÚName
=="voiceToggle")

262 
	`´štf
("\n \n voiceoggle button…ressed \n \n");

263 if(!
voiûToggË
)

264 
	`£tVoiûOn
(
»nd””
);

266 
	`£tVoiûOff
(
»nd””
);

267 
gameS‹
 = 3;

273  
gameS‹
;

274 
	}
}

276 
	gbu‰Ú
::
	$hªdËSgeEv’t
(
boŞ
 
š‹º®V›w
,
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 )

278 
bu‰ÚClicked
 = 0;

280 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

283 
x
, 
y
;

284 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

287 
boŞ
 
šside
 = 
Œue
;

290 ifĞ
x
 < 
pos™iÚ
.x )

292 
šside
 = 
çl£
;

295 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

297 
šside
 = 
çl£
;

300 ifĞ
y
 < 
pos™iÚ
.y )

302 
šside
 = 
çl£
;

305 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

307 
šside
 = 
çl£
;

312 ifĞ!
šside
 )

314 
mou£Ov”
=
çl£
;

315 
bu‰ÚClicked
=0;

316 if(
e
->
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
 && !
š‹º®V›w
)

318 
bu‰ÚClicked
=2;

324 if(!
mou£Ov”
)

326 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

327 
mou£Ov”
=
Œue
;

329  
e
->
ty³
 )

331 
SDL_MOUSEBUTTONDOWN
:

333 if(
bu‰ÚName
=="saveAndExit")

335 
	`´štf
("\n \n saveAndExit button…ressed");

336 
bu‰ÚClicked
=1;

338 if(
bu‰ÚName
 == "plant")

340 
¡d
::
cout
<<"\n user clicked 'plant' button";

341 
bu‰ÚClicked
 = 3;

343 if(
bu‰ÚName
 == "waterPlants")

345 
¡d
::
cout
<<"\n user clicked 'waterPlants' button";

346 
bu‰ÚClicked
 = 4;

348 if(
bu‰ÚName
 == "harvest")

350 
¡d
::
cout
<<"\n user clicked 'harvest' button";

351 
bu‰ÚClicked
 = 5;

353 if(
bu‰ÚName
 == "sleep")

355 
¡d
::
cout
<<"\n user clicked 'sleep' button";

356 
bu‰ÚClicked
 = 6;

358 if(
bu‰ÚName
 == "eat")

360 
¡d
::
cout
<<"\n user clicked 'eat' button";

361 
bu‰ÚClicked
 = 7;

363 if(
bu‰ÚName
 == "heal")

365 
¡d
::
cout
<<"\n user clicked 'heal' button";

366 
bu‰ÚClicked
 = 8;

368 if(
bu‰ÚName
 == "exercise")

370 
¡d
::
cout
<<"\n user clicked 'exercise' button";

371 
bu‰ÚClicked
 = 9;

373 if(
bu‰ÚName
 == "relax")

375 
¡d
::
cout
<<"\n user clicked 'relax' button";

376 
bu‰ÚClicked
 = 10;

378 if(
bu‰ÚName
 == "research")

380 
¡d
::
cout
<<"\n user clicked 'research' button";

381 
bu‰ÚClicked
 = 11;

383 if(
bu‰ÚName
 == "inventory")

385 
¡d
::
cout
<<"\n user clicked 'inventory' button";

386 
bu‰ÚClicked
 = 12;

388 if(
bu‰ÚName
 == "closeInventory")

390 
¡d
::
cout
<<"\n user clicked 'Close Inventory' button";

391 
bu‰ÚClicked
 = 13;

397  
bu‰ÚClicked
;

398 
	}
}

400 
	gbu‰Ú
::
	$ä“
()

402 
¡d
::
cout
<<"\n„unning button::free()";

403 
bu‰ÚTextu»
.
	`ä“
();

404 
bu‰ÚMOTextu»
.
	`ä“
();

405 
bu‰ÚName
 = "";

406 
	`£tPos™iÚ
(0,0);

407 
	}
}

	@C:\Sojourner\Sojourner\button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 9;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 9;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

24 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 12;

26 şas 
	cbu‰Ú


28 
	mpublic
:

30 
bu‰Ú
();

31 ~
bu‰Ú
();

34 
£tPos™iÚ
Ğ
x
, 
y
 );

36 
g‘Pos™iÚX
();

37 
g‘Pos™iÚY
();

39 
boŞ
 
	mfuÎSü“nToggË
;

40 
boŞ
 
	mmusicToggË
;

41 
boŞ
 
	mvoiûToggË
;

43 
boŞ
 
	mmou£Ov”
;

46 
	mcho£nSave
;

49 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

53 
hªdËSgeEv’t
Ğ
boŞ
 
š‹º®V›w
, 
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

56 
Textu»
 
	mbu‰ÚTextu»
;

57 
Textu»
 
	mbu‰ÚMOTextu»
;

59 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

62 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

63 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

65 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

66 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

68 
	m¡d
::
¡ršg
 
bu‰ÚName
;

70 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

72 
£tSgeBu‰ÚName
(
i
);

75 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

76 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

77 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

79 
ä“
();

81 
	m´iv©e
:

83 
SDL_Pošt
 
pos™iÚ
;

	@C:\Sojourner\Sojourner\module.cpp

1 
	~"moduË.h
"

3 
	gmoduË
::
	$moduË
()

6 
	}
}

8 
moduË
::~
	$moduË
()

11 
	}
}

13 
moduË
::
	$lßdHab™©iÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
gauge
[],
Ãed
[])

15 
¡d
::
cout
<<"\n **********************************************************************************";

16 
¡d
::
cout
<<"\n„unning module::loadHabitation(SDL_Renderer*„enderer,TTF_Font* font,int gauge[])";

17 
¡d
::
cout
<<"\n **********************************************************************************";

19 
w©”Tªk
.
	`lßdW©”Tªk
(
»nd””
,
fÚt
,
gauge
[3]);

20 
k™ch’
.
	`lßdK™ch’
(
»nd””
,
fÚt
,
Ãed
[2]);

21 
šfœm¬y
.
	`lßdInfœm¬y
(
»nd””
,
fÚt
,
Ãed
[0]);

22 
bed
.
	`lßdBed
(
»nd””
,
fÚt
,
Ãed
[3]);

23 
bike
.
	`lßdBike
(
»nd””
,
fÚt
,
Ãed
[1]);

24 
¶ª‹r
.
	`lßdPÏÁ”
(
»nd””
,
fÚt
);

25 
¶ª‹r
.
	`upd©ePÏÁTextu»
(
»nd””
);

26 
»ü—tiÚ
.
	`lßdRec
(
»nd””
,
fÚt
,
Ãed
[4]);

27 
habEx™
.
	`lßdHabEx™
(
»nd””
,
fÚt
);

29 
	}
}

31 
	gmoduË
::
	$lßdEngš“ršg
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
gauge
[],
Ãed
[])

33 
¡d
::
cout
<<"\n **********************************************************************************";

34 
¡d
::
cout
<<"\n„unning module::loadEngineering(SDL_Renderer*„enderer,TTF_Font* font)";

35 
¡d
::
cout
<<"\n **********************************************************************************";

36 
’gEx™
.
	`lßdEngEx™
(
»nd””
,
fÚt
);

37 
b©‹ryA¼ay
.
	`lßdB©‹ryA¼ay
(
»nd””
,
fÚt
,
gauge
[2]);

38 
»£¬chDesk
.
	`lßdRe£¬chDesk
(
»nd””
,
fÚt
);

39 
’gšeStiÚ
.
	`lßdEngšeStiÚ
(
»nd””
,
fÚt
,
gauge
[1]);

40 
ÿrgoA»a
.
	`lßdC¬goA»a
(
»nd””
, 
fÚt
);

41 
commStiÚ
.
	`lßdCommStiÚ
(
»nd””
, 
fÚt
);

42 
	}
}

44 
	gmoduË
::
	$ä“Hab
()

46 
¡d
::
cout
<<"\n„unning module::freeHab()";

47 
w©”Tªk
.
	`ä“
();

48 
k™ch’
.
	`ä“
();

49 
šfœm¬y
.
	`ä“
();

50 
bed
.
	`ä“
();

51 
bike
.
	`ä“
();

52 
¶ª‹r
.
	`ä“
();

53 
»ü—tiÚ
.
	`ä“
();

54 
habEx™
.
	`ä“
();

55 
	}
}

57 
	gmoduË
::
	$ä“Eng
()

59 
¡d
::
cout
<<"\n Running module::freeEng()";

60 
’gEx™
.
	`ä“
();

61 
b©‹ryA¼ay
.
	`ä“
();

62 
»£¬chDesk
.
	`ä“
();

63 
’gšeStiÚ
.
	`ä“
();

65 
ÿrgoA»a
.
	`ä“Inv’tÜy
();

66 
ÿrgoA»a
.
	`ä“
();

67 
commStiÚ
.
	`ä“
();

68 
	}
}

	@C:\Sojourner\Sojourner\module.h

1 #iâdeà
MODULE_H


2 
	#MODULE_H


	)

4 
	~"¡©iÚ.h
"

7 şas 
	cmoduË


9 
	mpublic
:

10 
moduË
();

11 ~
moduË
();

14 
¡©iÚ
 
	mw©”Tªk
, 
	mk™ch’
, 
	mšfœm¬y
, 
	mbed
, 
	mbike
, 
	m¶ª‹r
, 
	m»ü—tiÚ
, 
	mhabEx™
;

17 
¡©iÚ
 
	m’gEx™
, 
	mb©‹ryA¼ay
, 
	m»£¬chDesk
, 
	m’gšeStiÚ
, 
	mÿrgoA»a
, 
	mcommStiÚ
;

19 
lßdHab™©iÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[], 
Ãed
[]);

21 
lßdEngš“ršg
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[], 
Ãed
[]);

23 
ä“Hab
();

25 
ä“Eng
();

27 
	m´iv©e
:

	@C:\Sojourner\Sojourner\myicon.rc

1 
myicÚ
 
ICON
 
	gsojouº”
.
	gico


	@C:\Sojourner\Sojourner\parallax.cpp

1 
	~"·¿Îax.h
"

3 
	g·¿Îax
::
	$·¿Îax
()

6 
·¿X
=0;

7 
·¿Y
=0;

8 
·¿X2
=-799;

9 
·¿Y2
=0;

10 
·¿V–X
=0;

12 
·¿ÎaxReù1
.
x
 = 
·¿X
;

13 
·¿ÎaxReù1
.
y
 = 
·¿Y
;

14 
·¿ÎaxReù1
.
w
 = 
PARALLAX_WIDTH
;

15 
·¿ÎaxReù1
.
h
 = 
PARALLAX_HEIGHT
;

17 
·¿ÎaxReù2
.
x
 = 
·¿X2
;

18 
·¿ÎaxReù2
.
y
 = 
·¿Y2
;

19 
·¿ÎaxReù2
.
w
 = 
PARALLAX_WIDTH
;

20 
·¿ÎaxReù2
.
h
 = 
PARALLAX_HEIGHT
;

22 
	}
}

24 
	g·¿Îax
::~
	$·¿Îax
(){

26 
·¿ÎaxTextu»
.
	`ä“
();

28 
	}
}

30 
	g·¿Îax
::
	$šüem’tFÜe
(){

32 
·¿X
+=1;

33 
·¿X2
+=1;

34 
	`upd©eReùs
();

35 
	`»£tP¬®Ïx
();

36 
	}
}

38 
	g·¿Îax
::
	$šüem’tAÁ”iÜMid
(){

40 
·¿X
+=.5;

41 
·¿X2
+=.5;

42 
	`upd©eReùs
();

43 
	`»£tP¬®Ïx
();

44 
	}
}

47 
	g·¿Îax
::
	$šüem’tMid
(){

49 
·¿X
+=.3;

50 
·¿X2
+=.3;

51 
	`upd©eReùs
();

52 
	`»£tP¬®Ïx
();

53 
	}
}

55 
	g·¿Îax
::
	$šüem’tBack
(){

57 
·¿X
+=.1;

58 
·¿X2
+=.1;

59 
	`upd©eReùs
();

60 
	`»£tP¬®Ïx
();

61 
	}
}

63 
	g·¿Îax
::
	$¥ecŸlInüem’tFÜe
(){

65 
·¿X
+=4;

67 
	`upd©eReùs
();

68 
	`¥ecŸlRe£tP¬®Ïx
();

69 
	}
}

71 
	g·¿Îax
::
	$»£tP¬®Ïx
()

73 if(
·¿X
 > 799.9){

74 
·¿X
 = -799.9;

76 if(
·¿X2
 > 799.9){

77 
·¿X2
 = -799.9;

79 
	}
}

81 
	g·¿Îax
::
	$¥ecŸlRe£tP¬®Ïx
()

83 if(
·¿X
>799){

84 
·¿X
=-1599;

90 
	}
}

92 
	g·¿Îax
::
	$upd©eReùs
()

95 
·¿ÎaxReù1
.
x
=()
·¿X
;

96 
·¿ÎaxReù2
.
x
=()
·¿X2
;

98 
	}
}

100 
	g·¿Îax
::
	$·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
)

103 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù1
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

104 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù2
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

106 
	}
}

108 
	g·¿Îax
::
	$ä“P¬®ÏxTextu»
(){

110 
·¿ÎaxTextu»
.
	`ä“
();

112 
	}
}

	@C:\Sojourner\Sojourner\parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

44 
¥ecŸlRe£tP¬®Ïx
();

46 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

48 
ä“P¬®ÏxTextu»
();

50 
	m´iv©e
:

52 
»£tP¬®Ïx
();

53 
upd©eReùs
();

55 
	m·¿X
,
	m·¿Y
;

56 
	m·¿X2
,
	m·¿Y2
;

57 
	m·¿V–X
;

	@C:\Sojourner\Sojourner\particle.cpp

1 
	~"·¹işe.h
"

3 
	gP¬tişe
::
	$ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
)

6 
·¹X
 = 20 + (
	`¿nd
() % 760) ;

7 
·¹Y
 = 20 + (
	`¿nd
() % 560) ;

11 
äame
 = 0;

23 
·¹işeTim”
.
	`¡¬t
();

40 
	}
}

43 
	gP¬tişe
::
	$»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
, 
Textu»
 
¡¬
[])

61 
äame
)

63 0: 
¡¬
[0].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

65 1: 
¡¬
[1].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

67 2: 
¡¬
[2].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

69 3: 
¡¬
[3].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

71 4: 
¡¬
[4].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

73 5: 
¡¬
[3].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

75 6: 
¡¬
[2].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

77 7: 
¡¬
[1].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

79 8: 
¡¬
[0].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

83 if(
·¹işeTim”
.
	`g‘Ticks
() % 100 == 0)

85 
äame
++;

86 
·¹işeTim”
.
	`»¡¬t
();

90 
	}
}

92 
boŞ
 
	gP¬tişe
::
	$isD—d
()

94  
äame
 > 9;

95 
	}
}

97 
	gP¬tişe
::
	$šüem’tF¿me
()

99 
äame
++;

100 
	}
}

	@C:\Sojourner\Sojourner\particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gTOTAL_PARTICLES
 = 50;

8 cÚ¡ 
	gTOTAL_FRAMES
 = 5;

10 şas 
	cP¬tişe


12 
	mpublic
:

15 
tim”
 
·¹işeTim”
;

17 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

20 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

23 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
, 
Textu»
 
¡¬
[]);

26 
boŞ
 
isD—d
();

28 
	m»nd”CŞÜ
;

30 
šüem’tF¿me
();

33 
	m´iv©e
:

35 
·¹X
, 
	m·¹Y
;

38 
	mäame
;

	@C:\Sojourner\Sojourner\player.cpp

1 
	~"¶ay”.h
"

3 
	g¶ay”
::
	$¶ay”
()

5 
pV–X
 = 
pV–Y
 = 
w®kF¿me
 = 
moveS‹
 = 0;

6 
¶ay”X
 = 380;

7 
¶ay”Y
 = 260;

8 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

9 
æHÜizÚl
 = 
çl£
;

10 
šS·û
=
çl£
;

11 
šRªge
=
çl£
;

12 
š‹¿ù
=
çl£
;

13 
š‹¿ùBed
=
çl£
;

14 
š‹¿ùW©”Tªk
=
çl£
;

15 
š‹¿ùPÏÁ”
=
çl£
;

16 
š‹¿ùK™ch’
=
çl£
;

17 
š‹¿ùInfœm¬y
 = 
çl£
;

18 
š‹¿ùBike
 = 
çl£
;

19 
š‹¿ùRec
 = 
çl£
;

20 
š‹¿ùHabEx™
 = 
çl£
;

21 
š‹¿ùEngEx™
 = 
çl£
;

22 
movem’tDi§bËd
 = 
çl£
;

24 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

25 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

26 
¶ay”CŞlisiÚBox
.
w
 = 30;

27 
¶ay”CŞlisiÚBox
.
h
 = 
PLAYER_HEIGHT
/4;

29 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

31 
Ãed
[
i
] = 100;

33 
	}
}

34 
	g¶ay”
::~
	$¶ay”
()

36 
i
 = 0; i<
MOVE_STATES
;i++)

38 if(
i
==
IDLE
)

40 
j
 = 0; j<
IDLE_TEXTURES
;j++)

42 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

45 if(
i
==
WALK_LR
)

47 
k
 = 0; k<
LR_TEXTURES
;k++)

49 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

52 if(
i
==
WALK_DLDR
)

54 
k
 = 0; k<
DLDR_TEXTURES
;k++)

56 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

59 if(
i
==
WALK_ULUR
)

61 
k
 = 0; k<
ULUR_TEXTURES
;k++)

63 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

66 if(
i
==
WALK_D
)

68 
k
 = 0; k<
D_TEXTURES
;k++)

70 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

73 if(
i
==
WALK_U
)

75 
k
 = 0; k<
U_TEXTURES
;k++)

77 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

81 
cu¼’tTextu»
.
	`ä“
();

82 
	`ä“N“dsTextu»s
();

83 
	}
}

85 
	g¶ay”
::
	$hªdËEv’t
(
SDL_Ev’t
& 
e
)

87 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 &&ƒ.
key
.
»³©
 == 0)

89 
e
.
key
.
keysym
.
sym
)

91 
SDLK_w
:

92 
pV–Y
 -ğ
PLAYER_VEL
;

94 
SDLK_s
:

95 
pV–Y
 +ğ
PLAYER_VEL
;

97 
SDLK_a
:

98 
pV–X
 -ğ
PLAYER_VEL
;

100 
SDLK_d
:

101 
pV–X
 +ğ
PLAYER_VEL
;

103 
SDLK_e
:

104 
š‹¿ù
 = 
Œue
;

105 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

109 if(
e
.
ty³
 =ğ
SDL_KEYUP
 &&ƒ.
key
.
»³©
 == 0)

111 
e
.
key
.
keysym
.
sym
)

113 
SDLK_w
:

114 
pV–Y
 +ğ
PLAYER_VEL
;

116 
SDLK_s
:

117 
pV–Y
 -ğ
PLAYER_VEL
;

119 
SDLK_a
:

120 
pV–X
 +ğ
PLAYER_VEL
;

122 
SDLK_d
:

123 
pV–X
 -ğ
PLAYER_VEL
;

125 
SDLK_e
:

126 
š‹¿ù
 = 
çl£
;

127 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

131 
	}
}

134 
	g¶ay”
::
	$move
(
tick
, 
SDL_Reù
& 
Ãw¥­”IÁ”aùiÚ
,SDL_Reù& 
backdoÜIÁ”aùiÚ
,
boŞ
 
šBacky¬d
)

136 
¶ay”X
 +ğ
pV–X
;

137 
¶ay”Y
 +ğ
pV–Y
;

141 
tickLim™
 = 15;

143 if(
pV–X
 > 0)

145 if(
pV–Y
 == 0)

148 
æHÜizÚl
=
çl£
;

150 
moveS‹
 = 
WALK_LR
;

151 if(
tick
%
tickLim™
 == 0)

153 
w®kF¿me
++;

154 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

156 
w®kF¿me
=0;

160 if(
pV–Y
 > 0)

162 
æHÜizÚl
=
çl£
;

163 
moveS‹
=
WALK_DLDR
;

164 if(
tick
%
tickLim™
 == 0)

166 
w®kF¿me
++;

167 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

169 
w®kF¿me
=0;

175 
æHÜizÚl
=
çl£
;

176 
moveS‹
=
WALK_ULUR
;

177 if(
tick
%
tickLim™
 == 0)

179 
w®kF¿me
++;

180 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

182 
w®kF¿me
=0;

186 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

189 if(
pV–X
 < 0)

191 if(
pV–Y
 == 0)

194 
æHÜizÚl
=
Œue
;

196 
moveS‹
=
WALK_LR
;

197 if(
tick
%
tickLim™
 == 0)

199 
w®kF¿me
++;

200 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

202 
w®kF¿me
=0;

206 if(
pV–Y
 > 0)

208 
æHÜizÚl
=
Œue
;

209 
moveS‹
=
WALK_DLDR
;

210 if(
tick
%
tickLim™
 == 0)

212 
w®kF¿me
++;

213 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

215 
w®kF¿me
=0;

221 
æHÜizÚl
=
Œue
;

222 
moveS‹
=
WALK_ULUR
;

223 if(
tick
%
tickLim™
 == 0)

225 
w®kF¿me
++;

226 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

228 
w®kF¿me
=0;

232 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

238 
æHÜizÚl
=
çl£
;

240 if(
pV–Y
 > 0)

242 
moveS‹
=
WALK_D
;

243 if(
tick
%
tickLim™
 == 0)

245 
w®kF¿me
++;

246 if(
w®kF¿me
 >ğ
D_TEXTURES
)

248 
w®kF¿me
=0;

252 if(
pV–Y
 < 0)

254 
moveS‹
=
WALK_U
;

255 if(
tick
%
tickLim™
 == 0)

257 
w®kF¿me
++;

258 if(
w®kF¿me
 >ğ
U_TEXTURES
)

260 
w®kF¿me
=0;

267 
moveS‹
=
IDLE
;

268 if(
tick
%
tickLim™
 == 0)

270 
w®kF¿me
++;

271 if(
w®kF¿me
 >ğ
IDLE_TEXTURES
)

273 
w®kF¿me
=0;

281 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

284 if(!
šBacky¬d
)

286 if((
¶ay”X
 < 207è|| (¶ay”X + 
PLAYER_WIDTH
 > 
SCREEN_WIDTH
) )

288 
¶ay”X
 -ğ
pV–X
;

290 if((
¶ay”Y
 < 390) || (playerY > 455) )

292 
¶ay”Y
 -ğ
pV–Y
;

297 if(
¶ay”X
 < 360 ||…Ïy”X + 
PLAYER_WIDTH
 > 450)

299 
¶ay”X
 -ğ
pV–X
;

301 if(
¶ay”Y
 < 420 ||…Ïy”Y + 
PLAYER_HEIGHT
 > 
SCREEN_HEIGHT
)

303 
¶ay”Y
 -ğ
pV–Y
;

308 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

309 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

311 if(
	`cŞlisiÚD‘eùÜ
(
Ãw¥­”IÁ”aùiÚ
))

314 
š‹¿ùNew¥­”
 = 
Œue
;

318 
š‹¿ùNew¥­”
 = 
çl£
;

321 if(
	`cŞlisiÚD‘eùÜ
(
backdoÜIÁ”aùiÚ
))

324 
š‹¿ùBackdoÜ
 = 
Œue
;

328 
š‹¿ùBackdoÜ
 = 
çl£
;

332 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

334 if(
movem’tDi§bËd
)

336 
cu¼’tTextu»
 = 
¶ay”Textu»
[0][0];

340 
	}
}

342 
	g¶ay”
::
	$move
(
tick
, 
sh
& sh,
boŞ
 
šHab
, boŞ 
šEng
)

344 
¶ay”X
 +ğ
pV–X
;

346 if(
¶ay”Y
<360 && 
pV–Y
>0)

348 
¶ay”Y
 +ğ
pV–Y
;

350 if(
¶ay”Y
>160 && 
pV–Y
<0)

352 
¶ay”Y
+=
pV–Y
;

355 
tickLim™
 = 15;

358 if(
pV–X
 > 0)

360 if(
pV–Y
 == 0)

363 
æHÜizÚl
=
çl£
;

365 
moveS‹
 = 
WALK_LR
;

366 if(
tick
%
tickLim™
 == 0)

368 
w®kF¿me
++;

369 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

371 
w®kF¿me
=0;

375 if(
pV–Y
 > 0)

377 
æHÜizÚl
=
çl£
;

378 
moveS‹
=
WALK_DLDR
;

379 if(
tick
%
tickLim™
 == 0)

381 
w®kF¿me
++;

382 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

384 
w®kF¿me
=0;

390 
æHÜizÚl
=
çl£
;

391 
moveS‹
=
WALK_ULUR
;

392 if(
tick
%
tickLim™
 == 0)

394 
w®kF¿me
++;

395 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

397 
w®kF¿me
=0;

401 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

404 if(
pV–X
 < 0)

406 if(
pV–Y
 == 0)

409 
æHÜizÚl
=
Œue
;

411 
moveS‹
=
WALK_LR
;

412 if(
tick
%
tickLim™
 == 0)

414 
w®kF¿me
++;

415 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

417 
w®kF¿me
=0;

421 if(
pV–Y
 > 0)

423 
æHÜizÚl
=
Œue
;

424 
moveS‹
=
WALK_DLDR
;

425 if(
tick
%
tickLim™
 == 0)

427 
w®kF¿me
++;

428 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

430 
w®kF¿me
=0;

436 
æHÜizÚl
=
Œue
;

437 
moveS‹
=
WALK_ULUR
;

438 if(
tick
%
tickLim™
 == 0)

440 
w®kF¿me
++;

441 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

443 
w®kF¿me
=0;

447 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

453 
æHÜizÚl
=
çl£
;

455 if(
pV–Y
 > 0)

457 
moveS‹
=
WALK_D
;

458 if(
tick
%
tickLim™
 == 0)

460 
w®kF¿me
++;

461 if(
w®kF¿me
 >ğ
D_TEXTURES
)

463 
w®kF¿me
=0;

467 if(
pV–Y
 < 0)

469 
moveS‹
=
WALK_U
;

470 if(
tick
%
tickLim™
 == 0)

472 
w®kF¿me
++;

473 if(
w®kF¿me
 >ğ
U_TEXTURES
)

475 
w®kF¿me
=0;

482 
moveS‹
=
IDLE
;

483 if(
tick
%
tickLim™
 == 0)

485 
w®kF¿me
++;

486 if(
w®kF¿me
 >ğ
IDLE_TEXTURES
)

488 
w®kF¿me
=0;

494 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

497 if((
¶ay”X
 < 0è|| (¶ay”X + 
PLAYER_WIDTH
 > 
SCREEN_WIDTH
) )

499 
¶ay”X
 -ğ
pV–X
;

501 if((
¶ay”Y
 < 0è|| (¶ay”Y + 
PLAYER_HEIGHT
 > 
SCREEN_HEIGHT
) )

503 
¶ay”Y
 -ğ
pV–Y
;

506 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

507 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

509 if(
šHab
)

512 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
bed
.
š‹¿ùabË
))

515 
š‹¿ùBed
 = 
Œue
;

517 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
bed
.
cŞlidabË
))

520 
¶ay”X
-=
pV–X
;

521 
¶ay”Y
-=
pV–Y
;

526 
š‹¿ùBed
 = 
çl£
;

528 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
k™ch’
.
š‹¿ùabË
))

531 
š‹¿ùK™ch’
 = 
Œue
;

532 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
k™ch’
.
cŞlidabË
))

535 
¶ay”X
-=
pV–X
;

536 
¶ay”Y
-=
pV–Y
;

541 
š‹¿ùK™ch’
 = 
çl£
;

543 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
w©”Tªk
.
š‹¿ùabË
))

546 
š‹¿ùW©”Tªk
 = 
Œue
;

547 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
w©”Tªk
.
cŞlidabË
))

550 
¶ay”X
-=
pV–X
;

551 
¶ay”Y
-=
pV–Y
;

556 
š‹¿ùW©”Tªk
 = 
çl£
;

558 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
¶ª‹r
.
š‹¿ùabË
))

561 
š‹¿ùPÏÁ”
 = 
Œue
;

562 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
¶ª‹r
.
cŞlidabË
))

565 
¶ay”X
-=
pV–X
;

566 
¶ay”Y
-=
pV–Y
;

571 
š‹¿ùPÏÁ”
 = 
çl£
;

573 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
šfœm¬y
.
š‹¿ùabË
))

576 
š‹¿ùInfœm¬y
 = 
Œue
;

577 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
šfœm¬y
.
cŞlidabË
))

580 
¶ay”X
-=
pV–X
;

581 
¶ay”Y
-=
pV–Y
;

586 
š‹¿ùInfœm¬y
=
çl£
;

588 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
bike
.
š‹¿ùabË
))

591 
š‹¿ùBike
 = 
Œue
;

592 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
bike
.
cŞlidabË
))

595 
¶ay”X
-=
pV–X
;

596 
¶ay”Y
-=
pV–Y
;

601 
š‹¿ùBike
 = 
çl£
;

603 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
»ü—tiÚ
.
š‹¿ùabË
))

606 
š‹¿ùRec
 = 
Œue
;

607 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
»ü—tiÚ
.
cŞlidabË
))

610 
¶ay”X
-=
pV–X
;

611 
¶ay”Y
-=
pV–Y
;

616 
š‹¿ùRec
 = 
çl£
;

618 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
habEx™
.
š‹¿ùabË
))

622 
š‹¿ùHabEx™
 = 
Œue
;

623 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
hab™©iÚ
.
habEx™
.
cŞlidabË
))

626 
¶ay”X
-=
pV–X
;

627 
¶ay”Y
-=
pV–Y
;

632 
š‹¿ùHabEx™
=
çl£
;

636 if(
šEng
)

638 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
’gEx™
.
š‹¿ùabË
))

642 
š‹¿ùEngEx™
 = 
Œue
;

643 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
’gEx™
.
cŞlidabË
))

646 
¶ay”X
-=
pV–X
;

647 
¶ay”Y
-=
pV–Y
;

652 
š‹¿ùEngEx™
=
çl£
;

654 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
š‹¿ùabË
))

656 
š‹¿ùB©‹ryA¼ay
 = 
Œue
;

657 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
cŞlidabË
))

660 
¶ay”X
-=
pV–X
;

661 
¶ay”Y
-=
pV–Y
;

666 
š‹¿ùB©‹ryA¼ay
=
çl£
;

668 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
»£¬chDesk
.
š‹¿ùabË
))

670 
š‹¿ùRe£¬chDesk
 = 
Œue
;

671 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
»£¬chDesk
.
cŞlidabË
))

674 
¶ay”X
-=
pV–X
;

675 
¶ay”Y
-=
pV–Y
;

680 
š‹¿ùRe£¬chDesk
=
çl£
;

682 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
’gšeStiÚ
.
š‹¿ùabË
))

684 
š‹¿ùEngšeStiÚ
 = 
Œue
;

685 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
’gšeStiÚ
.
cŞlidabË
))

688 
¶ay”X
-=
pV–X
;

689 
¶ay”Y
-=
pV–Y
;

694 
š‹¿ùEngšeStiÚ
=
çl£
;

696 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
ÿrgoA»a
.
š‹¿ùabË
))

698 
š‹¿ùC¬goA»a
 = 
Œue
;

699 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
ÿrgoA»a
.
cŞlidabË
))

702 
¶ay”X
-=
pV–X
;

703 
¶ay”Y
-=
pV–Y
;

708 
š‹¿ùC¬goA»a
=
çl£
;

710 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
commStiÚ
.
š‹¿ùabË
))

712 
š‹¿ùCommStiÚ
 = 
Œue
;

713 if(
	`cŞlisiÚD‘eùÜ
(
sh
.
’gš“ršg
.
commStiÚ
.
cŞlidabË
))

716 
¶ay”X
-=
pV–X
;

717 
¶ay”Y
-=
pV–Y
;

722 
š‹¿ùCommStiÚ
=
çl£
;

725 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

726 
	}
}

728 
	g¶ay”
::
	$lßdPÏy”
(
SDL_R’d””
* 
»nd””
)

730 
¡d
::
cout
<<"\n„unning…layer::loadPlayer(SDL_Renderer*„enderer)";

732 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

733 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

734 
¶ay”CŞlisiÚBox
.
w
=30;

735 
¶ay”CŞlisiÚBox
.
h
=20;

738 
¡d
::
¡ršg¡»am
 
ss
,
ss2
,
ss3
;

739 
ss3
.
	`¡r
("");

740 
ss3
.
	`ş—r
();

741 
¡d
::
¡ršg
 
¡r
 = 
ss3
.
	`¡r
();

742 
i
 = 0; i<
MOVE_STATES
;i++)

744 if(
i
==
IDLE
)

746 if(
šS·û
)

748 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown1");

752 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown1");

754 
ss2
.
	`¡r
(".png");

756 
j
 = 0; j<
IDLE_TEXTURES
;j++)

758 
ss3
 << 
ss
.
	`¡r
();

760 
ss3
 << 
ss2
.
	`¡r
();

761 
¡r
 = 
ss3
.
	`¡r
();

762 
¶ay”Textu»
[
i
][
j
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

763 
ss3
.
	`¡r
( "" );

764 
ss3
.
	`ş—r
();

767 if(
i
==
WALK_LR
)

769 if(
šS·û
)

771 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRight");

775 
ss
.
	`¡r
("images/sprites/PlayerCharacterRight");

778 
ss2
.
	`¡r
(".png");

779 
k
 = 0; k<
LR_TEXTURES
;k++)

781 
ss3
 << 
ss
.
	`¡r
();

782 
ss3
 << (
k
+1);

783 
ss3
 << 
ss2
.
	`¡r
();

784 
¡r
 = 
ss3
.
	`¡r
();

785 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

786 
ss3
.
	`¡r
("");

787 
ss3
.
	`ş—r
();

790 if(
i
==
WALK_DLDR
)

792 if(
šS·û
)

794 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightDown");

798 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightDown");

801 
ss2
.
	`¡r
(".png");

802 
k
 = 0; k<
DLDR_TEXTURES
;k++)

804 
ss3
 << 
ss
.
	`¡r
();

805 
ss3
 << (
k
+1);

806 
ss3
 << 
ss2
.
	`¡r
();

807 
¡r
 = 
ss3
.
	`¡r
();

808 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

809 
ss3
.
	`¡r
("");

810 
ss3
.
	`ş—r
();

813 if(
i
==
WALK_ULUR
)

815 if(
šS·û
)

817 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightUp");

821 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightUp");

824 
ss2
.
	`¡r
(".png");

825 
k
 = 0; k<
ULUR_TEXTURES
;k++)

827 
ss3
 << 
ss
.
	`¡r
();

828 
ss3
 << (
k
+1);

829 
ss3
 << 
ss2
.
	`¡r
();

830 
¡r
 = 
ss3
.
	`¡r
();

831 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

832 
ss3
.
	`¡r
("");

833 
ss3
.
	`ş—r
();

836 if(
i
==
WALK_D
)

838 if(
šS·û
)

840 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown");

844 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown");

847 
ss2
.
	`¡r
(".png");

848 
k
 = 0; k<
D_TEXTURES
;k++)

850 
ss3
 << 
ss
.
	`¡r
();

851 
ss3
 << (
k
+1);

852 
ss3
 << 
ss2
.
	`¡r
();

853 
¡r
 = 
ss3
.
	`¡r
();

854 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

855 
ss3
.
	`¡r
("");

856 
ss3
.
	`ş—r
();

859 if(
i
==
WALK_U
)

861 if(
šS·û
)

863 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceUp");

867 
ss
.
	`¡r
("images/sprites/PlayerCharacterUp");

870 
ss2
.
	`¡r
(".png");

871 
k
 = 0; k<
U_TEXTURES
;k++)

873 
ss3
 << 
ss
.
	`¡r
();

874 
ss3
 << (
k
+1);

875 
ss3
 << 
ss2
.
	`¡r
();

876 
¡r
 = 
ss3
.
	`¡r
();

877 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

878 
ss3
.
	`¡r
("");

879 
ss3
.
	`ş—r
();

883 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

884 
	}
}

886 
	g¶ay”
::
	$»nd”
(
SDL_R’d””
* 
»nd””
)

888 if(
æHÜizÚl
)

890 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_HORIZONTAL
,
»nd””
);

894 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

897 
	}
}

899 
	g¶ay”
::
	$ä“PÏy”
()

901 
¡d
::
cout
<<"\n„unning…layer::freePlayer()";

902 
i
 = 0; i<
MOVE_STATES
;i++)

904 if(
i
==
IDLE
)

906 
j
 = 0; j<
IDLE_TEXTURES
;j++)

908 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

911 if(
i
==
WALK_LR
)

913 
k
 = 0; k<
LR_TEXTURES
;k++)

915 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

918 if(
i
==
WALK_DLDR
)

920 
k
 = 0; k<
DLDR_TEXTURES
;k++)

922 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

925 if(
i
==
WALK_ULUR
)

927 
k
 = 0; k<
ULUR_TEXTURES
;k++)

929 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

932 if(
i
==
WALK_D
)

934 
k
 = 0; k<
D_TEXTURES
;k++)

936 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

939 if(
i
==
WALK_U
)

941 
k
 = 0; k<
U_TEXTURES
;k++)

943 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

947 
cu¼’tTextu»
.
	`ä“
();

949 
	`ä“N“dsTextu»s
();

950 
	}
}

952 
	g¶ay”
::
	$£tCam”a
(
SDL_Reù
& 
ÿm”a
)

954 
¡d
::
cout
<<"\n„unning…layer::setCamera(SDL_Rect& camera)";

955 
ÿm”a
.
x
 = (
¶ay”CŞlisiÚBox
.x + 
PLAYER_WIDTH
/2è- 
SCREEN_WIDTH
/2;

956 
ÿm”a
.
y
 = (
¶ay”CŞlisiÚBox
.y + 
PLAYER_HEIGHT
/2è- 
SCREEN_HEIGHT
/2;

958 if(
ÿm”a
.
x
 < 0)

960 
ÿm”a
.
x
 = 0;

962 if(
ÿm”a
.
y
 < 0)

964 
ÿm”a
.
y
=0;

967 if(
ÿm”a
.
x
>
SCREEN_WIDTH
-ÿm”a.
w
)

969 
ÿm”a
.
x
=
SCREEN_WIDTH
-ÿm”a.
w
;

971 if(
ÿm”a
.
y
>
SCREEN_HEIGHT
-ÿm”a.
h
)

973 
ÿm”a
.
y
=
SCREEN_HEIGHT
-ÿm”a.
h
;

975 
	}
}

977 
	g¶ay”
::
	$g‘X
()

979  
¶ay”X
;

980 
	}
}

982 
	g¶ay”
::
	$g‘Y
()

984  
¶ay”Y
;

985 
	}
}

987 
	g¶ay”
::
	$g‘PV–X
()

989  
pV–X
;

990 
	}
}

992 
	g¶ay”
::
	$g‘PV–Y
()

994  
pV–Y
;

995 
	}
}

997 
	g¶ay”
::
	$£tX
(
x
)

999 
¶ay”X
 = 
x
;

1000 
	}
}

1002 
	g¶ay”
::
	$£tY
(
y
)

1004 
¶ay”Y
 = 
y
;

1005 
	}
}

1007 
boŞ
 
	g¶ay”
::
	$cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
)

1010 
¶ay”Leá
, 
cŞlidabËLeá
;

1011 
¶ay”Right
, 
cŞlidabËRight
;

1012 
¶ay”Tİ
, 
cŞlidabËTİ
;

1013 
¶ay”BÙtom
, 
cŞlidabËBÙtom
;

1015 
¶ay”Leá
 = 
¶ay”CŞlisiÚBox
.
x
;

1016 
¶ay”Right
 = 
¶ay”CŞlisiÚBox
.
x
 +…Ïy”CŞlisiÚBox.
w
;

1017 
¶ay”Tİ
 = 
¶ay”CŞlisiÚBox
.
y
;

1018 
¶ay”BÙtom
 = 
¶ay”CŞlisiÚBox
.
y
 +…Ïy”CŞlisiÚBox.
h
;

1020 
cŞlidabËLeá
 = 
cŞlidabË
.
x
;

1021 
cŞlidabËRight
 = 
cŞlidabË
.
x
+cŞlidabË.
w
;

1022 
cŞlidabËTİ
 = 
cŞlidabË
.
y
;

1023 
cŞlidabËBÙtom
 = 
cŞlidabË
.
y
 + cŞlidabË.
h
;

1025 ifĞ
¶ay”BÙtom
 <ğ
cŞlidabËTİ
 )

1027  
çl£
;

1030 ifĞ
¶ay”Tİ
 >ğ
cŞlidabËBÙtom
 )

1032  
çl£
;

1035 ifĞ
¶ay”Right
 <ğ
cŞlidabËLeá
 )

1037  
çl£
;

1040 ifĞ
¶ay”Leá
 >ğ
cŞlidabËRight
 )

1042  
çl£
;

1045  
Œue
;

1046 
	}
}

1048 
	g¶ay”
::
	$modifyN“ds
(
modN“dV®ues
[])

1050 
¡d
::
cout
<<"\n„unning…layer::modifyNeeds(int modNeedValues[])";

1053 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

1055 
Ãed
[
i
] +ğ
modN“dV®ues
[i];

1056 if(
Ãed
[
i
] > 100)

1058 
Ãed
[
i
] = 100;

1060 if(
Ãed
[
i
] < 0)

1062 
Ãed
[
i
] = 0;

1065 
	}
}

1067 
	g¶ay”
::
	$ä“N“dsTextu»s
()

1069 
¡d
::
cout
<<"\n„unning…layer::freeNeedsTextures()";

1070 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

1072 
ÃedsTextu»
[
i
].
	`ä“
();

1074 
	}
}

1076 
	g¶ay”
::
	$lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

1078 
¡d
::
cout
<<"\n„unning…layer::loadNeedsTextures(SDL_Renderer*„enderer, TTF_Font* font)";

1079 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

1080 
i
 = 0; i< 
TOTAL_PLAYER_NEEDS
; i++)

1086 
¶ay”N“ds
[
i
] = 
¡d
::
	`to_¡ršg
(
Ãed
[i]);

1087 if(!
ÃedsTextu»
[
i
].
	`lßdFromR’d”edText
(
¶ay”N“ds
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1089 
¡d
::
cout
<<"\ÀuÇbËØlßd…Ïy”N“ds["<<
i
<<"] stringo‚eedsTexture["<<i<<"]";

1092 
	}
}

1094 
	g¶ay”
::
	$»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

1097 
¡d
::
cout
<<"\n„unning…layer::reloadNeedsTextures(SDL_Renderer*„enderer, TTF_Font* font)";

1098 
Ušt8
 
r
,
b
,
g
;

1099 
r
 = 0;

1100 
g
 = 128;

1101 
b
 = 200;

1102 
SDL_CŞÜ
 
‹xtCŞÜ
 = {
r
,
g
,
b
};

1105 
i
 = 0; i< 
TOTAL_PLAYER_NEEDS
; i++)

1107 
r
 = 255 - (
Ãed
[
i
]*2.55);

1108 
g
 = 
Ãed
[
i
]*1.28;

1109 
b
 = 
Ãed
[
i
]*2;

1110 
‹xtCŞÜ
 = {
r
,
g
,
b
};

1111 
ÃedsTextu»
[
i
].
	`ä“
();

1112 
¶ay”N“ds
[
i
] = 
¡d
::
	`to_¡ršg
(
Ãed
[i]);

1113 if(!
ÃedsTextu»
[
i
].
	`lßdFromR’d”edText
(
¶ay”N“ds
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1115 
¡d
::
cout
<<"\ÀuÇbËØlßd…Ïy”N“ds["<<
i
<<"] stringo‚eedsTexture["<<i<<"]";

1118 
	}
}

1120 
	g¶ay”
::
	$»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
)

1122 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

1124 
ÃedsTextu»
[
i
].
	`»nd”
(20+(i*70),40,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1126 
	}
}

1128 
	g¶ay”
::
	$lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[])

1130 
¡d
::
cout
<<"\n„unning†oadSavedPlayerData(Uint32 dataValues[])";

1132 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

1134 
Ãed
[
i
] = 
d©aV®ues
[i];

1136 
	}
}

	@C:\Sojourner\Sojourner\player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"sh.h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 cÚ¡ 
	gTOTAL_PLAYER_NEEDS
 = 5;

41 şas 
	c¶ay”


43 
	mpublic
:

45 
¶ay”
();

46 ~
¶ay”
();

48 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

49 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

50 cÚ¡ 
	mPLAYER_VEL
 = 1;

52 
	m¶ay”BÙ
;

54 
	mmoveS‹
;

56 
	mw®kF¿me
;

58 
	mÃed
[
TOTAL_PLAYER_NEEDS
];

60 
boŞ
 
	mæHÜizÚl
;

62 
boŞ
 
	mšS·û
;

64 
boŞ
 
	mš‹¿ù
;

66 
boŞ
 
	mšRªge
;

68 
boŞ
 
	mš‹¿ùW©”Tªk
;

70 
boŞ
 
	mš‹¿ùBed
;

72 
boŞ
 
	mš‹¿ùPÏÁ”
;

74 
boŞ
 
	mš‹¿ùK™ch’
;

76 
boŞ
 
	mš‹¿ùInfœm¬y
;

78 
boŞ
 
	mš‹¿ùBike
;

80 
boŞ
 
	mš‹¿ùRec
;

82 
boŞ
 
	mš‹¿ùHabEx™
, 
	mš‹¿ùEngEx™
, 
	mš‹¿ùB©‹ryA¼ay
, 
	mš‹¿ùRe£¬chDesk
, 
	mš‹¿ùEngšeStiÚ
, 
	mš‹¿ùC¬goA»a
, 
	mš‹¿ùCommStiÚ
;

84 
boŞ
 
	mš‹¿ùNew¥­”
,
	mš‹¿ùBackdoÜ
;

86 
boŞ
 
	mmovem’tDi§bËd
;

89 
Textu»
 
	mcu¼’tTextu»
;

91 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

93 
	m¡d
::
¡ršg
 
¶ay”N“ds
[
TOTAL_PLAYER_NEEDS
];

95 
modifyN“ds
(
modN“dV®ues
[]);

97 
Textu»
 
	mÃedsTextu»
[
TOTAL_PLAYER_NEEDS
];

99 
lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

101 
»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

103 
»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
);

105 
ä“N“dsTextu»s
();

107 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

109 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

113 
move
(
tick
, 
sh
& sh,
boŞ
 
šhab
, boŞ 
šEng
);

115 
move
(
tick
, 
SDL_Reù
& 
Ãw¥­”IÁ”aùiÚ
, SDL_Reù& 
backdoÜIÁ”aùiÚ
,
boŞ
 
šBacky¬d
);

117 
»nd”
(
SDL_R’d””
* 
»nd””
);

119 
ä“PÏy”
();

121 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

123 
g‘X
();

124 
g‘Y
();

126 
g‘PV–X
();

127 
g‘PV–Y
();

129 
£tX
(
x
);

130 
£tY
(
y
);

132 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

136 
lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[]);

139 
	m´iv©e
:

141 
¶ay”X
,
	m¶ay”Y
;

143 
	mpV–X
,
	mpV–Y
;

145 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@C:\Sojourner\Sojourner\pregameui.cpp

1 
	~"´egameui.h
"

3 
	g´egameui
::
	$´egameui
()

5 
i
 = 0; i<
TOTAL_SAVES
;i++)

7 
exi¡šgSave
[
i
] = 
çl£
;

9 
´om±D–‘e
=
çl£
;

10 
Œigg”D–‘e
 = 
çl£
;

11 
d–‘eCªdid©e
 = 0;

12 
	}
}

14 
	g´egameui
::~
	$´egameui
()

17 
	}
}

19 
´egameui
::
	$lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

21 
İtiÚsBu‰ÚNames
[0]="back";

22 
İtiÚsBu‰ÚNames
[1]="fullScreenToggle";

23 
İtiÚsBu‰ÚNames
[2]="musicToggle";

24 
İtiÚsBu‰ÚNames
[3]="voiceToggle";

26  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

28 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 = 
İtiÚsBu‰ÚNames
[i];

29 
¡d
::
¡ršg¡»am
 
ss
;

30 
ss
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

31 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

32 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

34 if(
i
==0)

36 
¡d
::
¡ršg¡»am
 
ssMO
;

37 
ssMO
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

38 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

39 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

42 
İtiÚsBu‰Ús
[1].
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

43 
İtiÚsBu‰Ús
[2].
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

44 
İtiÚsBu‰Ús
[3].
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

46 
İtiÚsBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

47 
İtiÚsBu‰Ús
[1].
	`£tPos™iÚ
(20,100);

48 
İtiÚsBu‰Ús
[2].
	`£tPos™iÚ
(20,200);

49 
İtiÚsBu‰Ús
[3].
	`£tPos™iÚ
(20,300);

51 
	}
}

53 
	g´egameui
::
	$»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

55 
i
 =0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

57 if(
i
==0)

59 if(
İtiÚsBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

61 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

65 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

70 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

75 
	}
}

77 
	g´egameui
::
	$ä“O±iÚsBu‰Ús
()

79 
i
 = 0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

81 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

83 if(
i
==0)

85 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

88 
	}
}

90 
	g´egameui
::
	$hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

93 
İtiÚsTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

95 
	`»nd”O±iÚsBu‰Ús
(
»nd””
);

98 
	}
}

101 
	g´egameui
::
	$lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

104 
üed™sBu‰ÚNames
[0]="back";

105 
üed™sBu‰Ús
[0].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[0];

107  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

109 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[i];

110 
¡d
::
¡ršg¡»am
 
ss
;

111 
¡d
::
¡ršg¡»am
 
ssMO
;

112 
ss
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

113 
ssMO
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

114 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

115 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

116 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

117 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

120 
üed™sBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

121 
	}
}

123 
	g´egameui
::
	$»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

125 
i
 =0; i<
TOTAL_CREDITS_BUTTONS
;i++)

127 if(
üed™sBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

129 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

133 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

136 
	}
}

138 
	g´egameui
::
	$ä“C»d™sBu‰Ús
()

140 
¡d
::
cout
<<"\n„unning…regameui::freeCreditsButtons()";

141 
i
 = 0; i<
TOTAL_CREDITS_BUTTONS
;i++)

143 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

144 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

146 
	}
}

148 
	g´egameui
::
	$hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

151 
üed™sTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

152 
	`»nd”C»d™sBu‰Ús
(
»nd””
);

153 
	}
}

155 
	g´egameui
::
	$lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

157 
¡d
::
cout
<<"\n„unning…regameui::loadLoadgameButtons(SDL_Renderer*„enderer)";

158 
lßdgameBu‰ÚNames
[0]="back";

159 
lßdgameBu‰ÚNames
[1]="save1";

160 
lßdgameBu‰ÚNames
[2]="save2";

161 
lßdgameBu‰ÚNames
[3]="save3";

162 
lßdgameBu‰ÚNames
[4]="trash1";

163 
lßdgameBu‰ÚNames
[5]="trash2";

164 
lßdgameBu‰ÚNames
[6]="trash3";

165 
lßdgameBu‰ÚNames
[7]="yes";

166 
lßdgameBu‰ÚNames
[8]="no";

167  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

169 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 = 
lßdgameBu‰ÚNames
[i];

170 
¡d
::
¡ršg¡»am
 
ss
;

171 if(
i
<4)

173 
¡d
::
¡ršg¡»am
 
ssMO
;

174 
ssMO
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

175 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

176 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

178 
ss
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

179 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

180 if(
i
!= 7 && i!= 8)

182  
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

186 
lßdgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

187 
lßdgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

188 
lßdgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

189 
lßdgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

190 
lßdgameBu‰Ús
[4].
	`£tPos™iÚ
(14,125);

191 
lßdgameBu‰Ús
[5].
	`£tPos™iÚ
(14,225);

192 
lßdgameBu‰Ús
[6].
	`£tPos™iÚ
(14,325);

193 
lßdgameBu‰Ús
[7].
	`£tPos™iÚ
(320,250);

194 
lßdgameBu‰Ús
[8].
	`£tPos™iÚ
(420,250);

195 
	}
}

197 
	g´egameui
::
	$»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

200 
i
=0;i<
TOTAL_LOADGAME_BUTTONS
;i++)

202 if(
i
<4)

204 if(
lßdgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

206 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

210 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

213 if(
i
<7)

215 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

219 if(
´om±D–‘e
)

221 if(
lßdgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

223 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

227 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

233 
	}
}

235 
	g´egameui
::
	$ä“LßdgameBu‰Ús
()

237 
¡d
::
cout
<<"\n„unning…regameui::freeLoadgameButtons()";

238 
i
 = 0; i<
TOTAL_LOADGAME_BUTTONS
;i++)

240 if(
i
<4)

242 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

243 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

244 
lßdgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

248 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

249 
lßdgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

252 
	}
}

254 
	g´egameui
::
	$hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

257 if(
´om±D–‘e
)

259 
´om±D–‘eBG
.
	`»nd”
(300,200,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

261 
	`»nd”LßdgameBu‰Ús
(
»nd””
);

262 
	}
}

264 
	g´egameui
::
	$lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

266 
¡d
::
cout
<<"\n„unning…regameui::loadNewgameButtons(SDL_Renderer*„enderer)";

267 
ÃwgameBu‰ÚNames
[0]="back";

268 
ÃwgameBu‰ÚNames
[1]="save1";

269 
ÃwgameBu‰ÚNames
[2]="save2";

270 
ÃwgameBu‰ÚNames
[3]="save3";

271 
ÃwgameBu‰ÚNames
[4]="trash1";

272 
ÃwgameBu‰ÚNames
[5]="trash2";

273 
ÃwgameBu‰ÚNames
[6]="trash3";

274 
ÃwgameBu‰ÚNames
[7]="yes";

275 
ÃwgameBu‰ÚNames
[8]="no";

276  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

278 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 = 
ÃwgameBu‰ÚNames
[i];

279 
¡d
::
¡ršg¡»am
 
ss
;

280 if(
i
<4)

282 
¡d
::
¡ršg¡»am
 
ssMO
;

283 
ssMO
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

284 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

285 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

288 
ss
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

289 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

290 if(
i
!= 7 && i !=8)

292  
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

297 
ÃwgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

298 
ÃwgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

299 
ÃwgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

300 
ÃwgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

301 
ÃwgameBu‰Ús
[4].
	`£tPos™iÚ
(14,125);

302 
ÃwgameBu‰Ús
[5].
	`£tPos™iÚ
(14,225);

303 
ÃwgameBu‰Ús
[6].
	`£tPos™iÚ
(14,325);

304 
ÃwgameBu‰Ús
[7].
	`£tPos™iÚ
(320,250);

305 
ÃwgameBu‰Ús
[8].
	`£tPos™iÚ
(420,250);

306 
	}
}

308 
	g´egameui
::
	$»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

310 
i
=0;i<
TOTAL_NEWGAME_BUTTONS
;i++)

312 if(
i
<4)

314 if(
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

316 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

320 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

323 if(
i
<7)

325 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

329 if(
´om±D–‘e
)

331 if(!
ÃwgameBu‰Ús
[
i
].
mou£Ov”
)

333 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

337 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

342 
	}
}

344 
	g´egameui
::
	$ä“NewgameBu‰Ús
()

346 
¡d
::
cout
<<"\n„unning…regameui::freeNewgameButtons()";

347 
i
 = 0; i<
TOTAL_NEWGAME_BUTTONS
;i++)

349 if(
i
<4 || i == 7 || i == 8)

351 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

352 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

353 
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

357 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

358 
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

361 
	}
}

363 
	g´egameui
::
	$hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

366 if(
´om±D–‘e
)

368 
´om±D–‘eBG
.
	`»nd”
(300,200,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

370 
	`»nd”NewgameBu‰Ús
(
»nd””
);

371 
	}
}

373 
	g´egameui
::
	$»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
)

376  
i
 = 0; i < 
TOTAL_PARTICLES
/5; ++i )

378 if(
·¹işes
[
i
].
·¹işeTim”
.
	`g‘Ticks
(è> 
	`Ušt32
(
	`¿nd
() % 2000))

380 ifĞ
·¹işes
[
i
].
	`isD—d
() )

382 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

386  
i
 = 0; i < 
TOTAL_PARTICLES
/5; ++i )

388 
·¹işes
[
i
].
	`»nd”
(
»nd””
,·¹işes[i].
»nd”CŞÜ
,
¡¬
);

391  
i
 = 
TOTAL_PARTICLES
/5; i < TOTAL_PARTICLES/2; ++i )

393 if(
·¹işes
[
i
].
·¹işeTim”
.
	`g‘Ticks
(è> 
	`Ušt32
(
	`¿nd
() % 2000))

395 ifĞ
·¹işes
[
i
].
	`isD—d
() )

397 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

401  
i
 = 
TOTAL_PARTICLES
/5; i < TOTAL_PARTICLES/2; ++i )

403 
·¹işes
[
i
].
	`»nd”
(
»nd””
,·¹işes[i].
»nd”CŞÜ
,
¡¬
);

406  
i
 = 
TOTAL_PARTICLES
/2; i < TOTAL_PARTICLES; ++i )

408 if(
·¹işes
[
i
].
·¹işeTim”
.
	`g‘Ticks
(è> 
	`Ušt32
(
	`¿nd
() % 2000))

410 ifĞ
·¹işes
[
i
].
	`isD—d
() )

412 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

416  
i
 = 
TOTAL_PARTICLES
/2; i < TOTAL_PARTICLES; ++i )

418 
·¹işes
[
i
].
	`»nd”
(
»nd””
,·¹işes[i].
»nd”CŞÜ
,
¡¬
);

420 
	}
}

422 
	g´egameui
::
	$lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

424 
¡d
::
cout
<<"\n„unning…regameui::loadMainButtons(SDL_Renderer*„enderer)";

425 
mašBu‰ÚNames
[0]="new";

426 
mašBu‰ÚNames
[1]="load";

427 
mašBu‰ÚNames
[2]="options";

428 
mašBu‰ÚNames
[3]="credits";

430  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

432 
mašBu‰Ús
[
i
].
bu‰ÚName
 = 
mašBu‰ÚNames
[i];

433 
¡d
::
¡ršg¡»am
 
ss
;

434 
¡d
::
¡ršg¡»am
 
ssMO
;

435 
ss
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

436 
ssMO
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

437 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

438 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

439  
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

440 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

441 
mašBu‰Ús
[ 
i
 ].
	`£tPos™iÚ
Ğ(((i+1)*160)-80), 
SCREEN_HEIGHT
 - 140 );

443 
	}
}

445 
	g´egameui
::
	$»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

448 
i
=0;i<
TOTAL_MAIN_BUTTONS
;i++)

450 if(
mašBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
){

451 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

455 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

458 
	}
}

460 
	g´egameui
::
	$ä“MašBu‰Ús
()

462 
¡d
::
cout
<<"\n„unning…regameui::freeMainButtons()";

463 
i
 = 0; i<
TOTAL_MAIN_BUTTONS
;i++)

465 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

466 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

467 
mašBu‰Ús
[
i
].
mou£Ov”
=
çl£
;

469 
	}
}

471 
	g´egameui
::
	$hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

474 
PGUIBÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

475 
	`»nd”P¬tişes
(
»nd””
);

476 
t™ËTextu»
.
	`»nd”
Ğ0, 0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
 );

478 
t™Ë
.
	`»nd”
(200, 100,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

480 
	`»nd”MašBu‰Ús
(
»nd””
);

481 
	}
}

483 
	g´egameui
::
	$ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
)

485 
¡d
::
cout
<<"\n„unning…regameui::createParticles(SDL_Renderer*„enderer)";

490  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

492 if(
·¹işes
[
i
].
·¹işeTim”
.
	`g‘Ticks
(è> 
	`Ušt32
(
	`¿nd
() % 2000))

494 ifĞ
·¹işes
[
i
].
	`isD—d
() )

496 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

500 
	}
}

503 
boŞ
 
	g´egameui
::
	$lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
)

505 
¡d
::
cout
<<"\n„unning…regameui::loadTitleScreenTextures(SDL_Renderer*„enderer)";

506 
boŞ
 
sucûss
 = 
Œue
;

508 
sucûss
 = 
t™Ë
.
	`lßdFromFe
Ğ"images/t™Ë.²g",
»nd””
 );

509 
sucûss
 = 
t™ËTextu»
.
	`lßdFromFe
Ğ"images/E¬thMoÚ2.²g",
»nd””
 );

510 
sucûss
 = 
PGUIBÏckGround
.
	`lßdFromFe
("images/bÏckground.²g",
»nd””
);

511 if(!
sucûss
)

513 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

517  
sucûss
;

518 
	}
}

520 
boŞ
 
	g´egameui
::
	$lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
)

522 
¡d
::
cout
<<"\n„unning…regameui::loadLoadGameTextures(SDL_Renderer*„enderer)";

523 
boŞ
 
sucûss
 = 
Œue
;

524 
sucûss
 = 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

527 
sucûss
 = 
ch­‹rS–eùTextu»
.
	`lßdFromFe
Ğ"images/Cosmos.²g",
»nd””
 );

528 if(!
sucûss
)

530 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

532  
sucûss
;

533 
	}
}

535 
boŞ
 
	g´egameui
::
	$lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
)

537 
¡d
::
cout
<<"\n„unning…regameui::loadNewGameTextures(SDL_Renderer*„enderer)";

538 
boŞ
 
sucûss
 = 
Œue
;

539 
sucûss
 = 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

540 
sucûss
 = 
ch­‹rS–eùTextu»
.
	`lßdFromFe
Ğ"images/Cosmos.²g",
»nd””
 );

541 if(!
sucûss
)

543 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

545  
sucûss
;

546 
	}
}

548 
boŞ
 
	g´egameui
::
	$lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
)

550 
¡d
::
cout
<<"\n„unning…regameui::loadCreditsTextures(SDL_Renderer*„enderer)";

551 
boŞ
 
sucûss
 = 
Œue
;

552 
sucûss
 = 
üed™sTextu»
.
	`lßdFromFe
Ğ"images/cockp™.²g",
»nd””
 );

553 if(!
sucûss
)

555 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

557  
sucûss
;

558 
	}
}

560 
boŞ
 
	g´egameui
::
	$lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
)

562 
¡d
::
cout
<<"\n„unning…regameui::loadOptionsTextures(SDL_Renderer*„enderer)";

563 
boŞ
 
sucûss
 = 
Œue
;

564 
sucûss
 = 
İtiÚsTextu»
.
	`lßdFromFe
("images/dockšg.²g",
»nd””
 );

565 if(!
sucûss
)

567 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

569  
sucûss
;

570 
	}
}

572 
boŞ
 
	g´egameui
::
	$lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,
boŞ
 
sucûss
)

574 
¡d
::
cout
<<"\n„unning…regameui::loadPregameUI(SDL_Renderer*„enderer,bool success)";

576 
	`lßdMašBu‰Ús
(
»nd””
);

577 
sucûss
 = 
	`lßdT™ËSü“nTextu»s
(
»nd””
);

579 
i
 = 0; i<
TOTAL_FRAMES
;i++)

581 
a
 = 
i
;

582 
¡d
::
¡ršg¡»am
 
ss
;

583 
ss
 << "images/ªim©iÚs/¡¬/¡¬" << 
a
 << ".png";

584 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

585 
¡¬
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

588  
sucûss
;

589 
	}
}

591 
	g´egameui
::
	$ä“
()

593 
¡d
::
cout
<<"\n„unning…regameui::free()";

595 
	`ä“MašBu‰Ús
();

596 
	`ä“NewgameBu‰Ús
();

597 
	`ä“LßdgameBu‰Ús
();

598 
	`ä“O±iÚsBu‰Ús
();

599 
	`ä“C»d™sBu‰Ús
();

601 
	`ä“T™ËSü“nTextu»s
();

602 
	`ä“NewGameTextu»s
();

603 
	`ä“LßdGameTextu»s
();

604 
	`ä“O±iÚsTextu»s
();

605 
	`ä“C»d™sTextu»s
();

606 
	}
}

608 
	g´egameui
::
	$ä“T™ËSü“nTextu»s
()

610 
¡d
::
cout
<<"\n„unning…regameui::freeTitleScreenTextures()";

612 
t™Ë
.
	`ä“
();

614 
t™ËTextu»
.
	`ä“
();

615 
PGUIBÏckGround
.
	`ä“
();

616 
	}
}

618 
	g´egameui
::
	$ä“NewGameTextu»s
()

620 
¡d
::
cout
<<"\n„unning…regameui::freeNewGameTextures()";

621 
ch­‹rS–eùTextu»
.
	`ä“
();

622 
´om±D–‘eBG
.
	`ä“
();

623 
	}
}

625 
	g´egameui
::
	$ä“LßdGameTextu»s
()

627 
¡d
::
cout
<<"\n„unning…regameui::freeLoadGameTextures()";

628 
ch­‹rS–eùTextu»
.
	`ä“
();

629 
´om±D–‘eBG
.
	`ä“
();

630 
	}
}

632 
	g´egameui
::
	$ä“O±iÚsTextu»s
()

634 
¡d
::
cout
<<"\n„unning…regameui::freeOptionsTextures()";

635 
İtiÚsTextu»
.
	`ä“
();

636 
	}
}

638 
	g´egameui
::
	$ä“C»d™sTextu»s
()

640 
¡d
::
cout
<<"\n„unning…regameui::freeCreditsTextures()";

641 
üed™sTextu»
.
	`ä“
();

642 
	}
}

644 
	g´egameui
::
	$hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 )

649 
ŞdGameS‹
 = 
gameS‹
;

651 if(
gameS‹
==0)

653  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

656 
gameS‹
 = 
mašBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

658 if(
gameS‹
!=-1)

660 
i
+=
TOTAL_MAIN_BUTTONS
;

664 if(
gameS‹
==1)

666  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

668 
gameS‹
 = 
ÃwgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

670 if(
gameS‹
!=-1)

672 if(
gameS‹
==0)

674 
i
+=
TOTAL_NEWGAME_BUTTONS
;

676 if(
gameS‹
==5)

678 if(!
exi¡šgSave
[
ÃwgameBu‰Ús
[
i
].
cho£nSave
])

680 
cho£nSave
 = 
ÃwgameBu‰Ús
[
i
].chosenSave;

681 
exi¡šgSave
[
cho£nSave
] = 
Œue
;

682 
i
+=
TOTAL_NEWGAME_BUTTONS
;

685 if(
gameS‹
 == 1 || gameState == 2 || gameState == 3)

687 if(
exi¡šgSave
[
gameS‹
-1])

689 if(!
´om±D–‘e
)

691 
´om±D–‘e
 = 
Œue
;

692 
¡d
::
cout
<<"\n PromptDelete was false,‚ow it'srue (trashcan was clicked)";

693 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

694 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ"images/bu‰Ús/yes.²g",
»nd””
 );

695 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/no.²g",
»nd””
);

696 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/yesMO.²g",
»nd””
);

697 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/noMO.²g",
»nd””
);

699 
d–‘eCªdid©e
 = 
gameS‹
-1;

700 
cho£nSave
 = 
d–‘eCªdid©e
;

702 
gameS‹
=-1;

706 if(
gameS‹
==4)

709 
´om±D–‘e
=
çl£
;

710 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (yes was clicked)";

711 
Œigg”D–‘e
 = 
Œue
;

712 
¡d
::
cout
<<"\nrigger delete is‚owrue";

713 
gameS‹
=-1;

714 
´om±D–‘eBG
.
	`ä“
();

715 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

716 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

717 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

718 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

721 if(
gameS‹
 == 6)

723 
´om±D–‘e
=
çl£
;

724 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (no was clicked)";

725 
gameS‹
=-1;

726 
´om±D–‘eBG
.
	`ä“
();

727 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

728 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

729 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

730 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

735 if(
gameS‹
 == 5)

737 
gameS‹
 = 6;

740 if(
gameS‹
==2)

742  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

744 
gameS‹
 = 
lßdgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

746 if(
gameS‹
!=-1)

748 if(
gameS‹
==0)

750 
i
+=
TOTAL_LOADGAME_BUTTONS
;

752 if(
gameS‹
==5)

754 if(
exi¡šgSave
[
lßdgameBu‰Ús
[
i
].
cho£nSave
])

756 
cho£nSave
 = 
lßdgameBu‰Ús
[
i
].chosenSave;

757 
i
+=
TOTAL_LOADGAME_BUTTONS
;

760 if(
gameS‹
 == 1 || gameState == 2 || gameState == 3)

762 if(
exi¡šgSave
[
gameS‹
-1])

764 if(!
´om±D–‘e
)

766 
´om±D–‘e
 = 
Œue
;

767 
¡d
::
cout
<<"\n PromptDelete was false,‚ow it'srue (trashcan was clicked)";

768 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

769 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ"images/bu‰Ús/yes.²g",
»nd””
 );

770 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/no.²g",
»nd””
);

771 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/yesMO.²g",
»nd””
);

772 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/noMO.²g",
»nd””
);

774 
d–‘eCªdid©e
 = 
gameS‹
-1;

775 
cho£nSave
 = 
d–‘eCªdid©e
;

777 
gameS‹
=-1;

779 if(
gameS‹
==4)

781 
´om±D–‘e
=
çl£
;

782 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (yes was clicked)";

783 
Œigg”D–‘e
 = 
Œue
;

784 
¡d
::
cout
<<"\nrigger delete is‚owrue";

785 
gameS‹
=-1;

786 
´om±D–‘eBG
.
	`ä“
();

787 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

788 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

789 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

790 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

792 if(
gameS‹
 == 6)

794 
´om±D–‘e
=
çl£
;

795 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (no was clicked)";

796 
gameS‹
=-1;

797 
´om±D–‘eBG
.
	`ä“
();

798 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

799 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

800 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

801 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

806 if(
gameS‹
==3)

808  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

810 
gameS‹
 = 
İtiÚsBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

812 if(
gameS‹
!=-1)

814 
i
+=
TOTAL_OPTIONS_BUTTONS
;

818 if(
gameS‹
==4)

820  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

822 
gameS‹
 = 
üed™sBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

824 if(
gameS‹
!=-1)

826 
i
+=
TOTAL_CREDITS_BUTTONS
;

830 if(
gameS‹
<0)

832 
gameS‹
=
ŞdGameS‹
;

834 
ÃwGameS‹
 = 
gameS‹
;

836 if(
ŞdGameS‹
 !ğ
ÃwGameS‹
)

838 
	`lßdS‹
(
ŞdGameS‹
,
ÃwGameS‹
,
»nd””
);

840  
ÃwGameS‹
;

841 
	}
}

843 
	g´egameui
::
	$lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
)

846 
¡d
::
cout
<<"\n„unning…regameui::loadState(int oldGameState, int‚ewGameState, SDL_Renderer*„enderer)";

847 
¡d
::
cout
<<"\À oldGameS‹: "<<
ŞdGameS‹
<<"‚ewGameS‹: "<<
ÃwGameS‹
;

848  
ŞdGameS‹
 )

850 0: 
	`ä“T™ËSü“nTextu»s
();

851 
	`ä“MašBu‰Ús
();

853 1: 
	`ä“NewGameTextu»s
();

854 
	`ä“NewgameBu‰Ús
();

856 2: 
	`ä“LßdGameTextu»s
();

857 
	`ä“LßdgameBu‰Ús
();

859 3: 
	`ä“O±iÚsTextu»s
();

860 
	`ä“O±iÚsBu‰Ús
();

862 4: 
	`ä“C»d™sTextu»s
();

863 
	`ä“C»d™sBu‰Ús
();

866  
ÃwGameS‹
 )

868 0: 
	`lßdT™ËSü“nTextu»s
(
»nd””
);

869 
	`lßdMašBu‰Ús
(
»nd””
);

871 1: 
	`lßdNewGameTextu»s
(
»nd””
);

872 
	`lßdNewgameBu‰Ús
(
»nd””
);

874 2: 
	`lßdLßdGameTextu»s
(
»nd””
);

875 
	`lßdLßdgameBu‰Ús
(
»nd””
);

877 3: 
	`lßdO±iÚsTextu»s
(
»nd””
);

878 
	`lßdO±iÚsBu‰Ús
(
»nd””
);

880 4: 
	`lßdC»d™sTextu»s
(
»nd””
);

881 
	`lßdC»d™sBu‰Ús
(
»nd””
);

884 
	}
}

	@C:\Sojourner\Sojourner\pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

19 
boŞ
 
	m´om±D–‘e
;

20 
	md–‘eCªdid©e
;

21 
boŞ
 
	mŒigg”D–‘e
;

24 
Textu»
 
	mt™Ë
;

25 
Textu»
 
	mt™ËTextu»
;

26 
Textu»
 
	müed™sTextu»
;

27 
Textu»
 
	mİtiÚsTextu»
;

28 
Textu»
 
	mlßdGameTextu»
;

29 
Textu»
 
	mch­‹rS–eùTextu»
;

30 
Textu»
 
	m´om±D–‘eBG
;

32 
Textu»
 
	mPGUIBÏckGround
;

34 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

40 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

41 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

42 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

43 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

44 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

47 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

48 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

49 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

50 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

51 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

54 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

57 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

58 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

61 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

63 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

64 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

65 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

68 
ä“MašBu‰Ús
();

69 
ä“NewgameBu‰Ús
();

70 
ä“LßdgameBu‰Ús
();

71 
ä“O±iÚsBu‰Ús
();

72 
ä“C»d™sBu‰Ús
();

74 
	mcho£nSave
;

76 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

79 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

84 
boŞ
 
lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
);

85 
boŞ
 
lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
);

86 
boŞ
 
lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
);

87 
boŞ
 
lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
);

88 
boŞ
 
lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
);

92 
ä“T™ËSü“nTextu»s
();

93 
ä“NewGameTextu»s
();

94 
ä“LßdGameTextu»s
();

95 
ä“O±iÚsTextu»s
();

96 
ä“C»d™sTextu»s
();

99 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

101 
£tBu‰ÚNames
();

103 
ä“Bu‰Ús
();

105 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

107 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

109 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

111 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

113 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

116 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

118 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

120 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

122 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

124 
ä“
();

126 
	m´iv©e
:

	@C:\Sojourner\Sojourner\saveGame.cpp

1 
	~"§veGame.h
"

3 
	g§veGame
::
	$»adP»fsFe
()

5 
¡d
::
cout
<<"\n„unning saveGame::readPrefsFile()";

7 ifĞ
´efsFe
 =ğ
NULL
 )

9 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’…»ã»nû fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

11 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

12 ifĞ
´efsFe
 !ğ
NULL
 )

14 
	`´štf
( "\n New…references file created!\n" );

16  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

18 
´efsD©a
[ 
i
 ] = 0;

19 if(
i
==1 || i==2)

21 
´efsD©a
[
i
]=1;

23 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

26 
	`SDL_RWşo£
Ğ
´efsFe
 );

30 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

36 
	`´štf
( "\n Loading Saved Preferences Data...!\n" );

37  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

39 
	`SDL_RW»ad
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

40 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

45 
	`SDL_RWşo£
Ğ
´efsFe
 );

47 
	}
}

49 
	g§veGame
::
	$»adSaveFe
(
feNum
)

51 
¡d
::
cout
<<"\n„unning saveGame::readSaveFile(int fileNum)";

55 
¡d
::
cout
<<"\Àcho£nSave/feNum = "<<
feNum
;

56 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "r+b" );

57 ifĞ
§veFe
 =ğ
NULL
 )

59 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

63 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

64 ifĞ
§veFe
 !ğ
NULL
 )

66 
	`´štf
Ğ"\ÀNew savf%d c»©ed!\n", 
feNum
 );

68  
i
 = 0; i < 
TOTAL_DATA
; ++i )

70 if(
i
<7)

72 
d©a
[ 
i
 ] = 0;

74 if(
i
<18)

76 
d©a
[
i
] = 100;

78 if(
i
<19)

80 
d©a
[
i
] = 1;

82 if(
i
<20)

84 
d©a
[
i
] = 0;

86 if(
i
<21)

88 
d©a
[
i
] = 0;

90 if(
i
<22)

92 
d©a
[
i
] = -1;

94 if(
i
<23)

96 
d©a
[
i
] = 0;

98 if(
i
<24)

100 
d©a
[
i
] = 0;

102 if(
i
<25)

104 
d©a
[
i
] = 0;

106 if(
i
<26)

108 
d©a
[
i
] = 0;

110 if(
i
<27)

112 
d©a
[
i
] = 0;

114 if(
i
<28)

116 
d©a
[
i
] = 1;

118 if(
i
<29)

120 
d©a
[
i
] = 0;

122 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

125 
	`SDL_RWşo£
Ğ
§veFe
 );

129 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

135 
	`´štf
Ğ"\ÀLßdšg SavGamf%d D©a...!\n", 
feNum
 );

137  
i
 = 0; i < 
TOTAL_DATA
; ++i )

139 
	`SDL_RW»ad
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

140 
¡d
::
cout
<<"\À»adšg "<<
d©a
[
i
]<<" from feNum "<<
feNum
;

142 if(
d©a
[0])

144 
§vedD©e
[
feNum
].
	`¡r
("");

145 
§vedD©e
[
feNum
].
	`ş—r
();

146 
time_t
 
§ved
 = 
d©a
[1];

147 * 
sdt
 = 
	`ùime
(&
§ved
);

148 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

149 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

151 
hours
,
mšu‹s
,
£cÚds
;

152 if(
d©a
[2]/1000 < 0)

154 
£cÚds
 = 0;

158 
£cÚds
 = 
d©a
[2]/1000;

161 ifĞ(
d©a
[2]/1000)/60 < 0 )

163 
mšu‹s
 = 0;

167 
mšu‹s
 = (
d©a
[2]/1000)/60;

170 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

172 
hours
 = 0;

176 
hours
 = ((
d©a
[2]/1000)/60)/60;

179 
§vedPÏyTime
[
feNum
].
	`¡r
("");

180 
§vedPÏyTime
[
feNum
].
	`ş—r
();

181 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

183 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

185 
	`SDL_RWşo£
Ğ
§veFe
 );

187 
	}
}

189 
	g§veGame
::
	$wr™eSaveFe
(
feNum
,
¡age
& sge,
Ušt32
 
¶ayedTime
)

191 
¡d
::
cout
<<"\n„unning saveGame::writeSaveFile(int fileNum,stage stage,Uint32…layedTime)";

194 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

195 ifĞ
§veFe
 !ğ
NULL
 )

197 
time_t
 
now
 = 
	`time
(0);

198 * 
dt
 = 
	`ùime
(&
now
);

199 
¡d
::
cout
<<"\Ànow = "<<
now
;

200 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

202 
d©a
[0] = 
Œue
;

203 
d©a
[1] = 
now
;

204 
d©a
[2] = 
¶ayedTime
;

205 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

206 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

207 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

208 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

210 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

212 
d©a
[
i
+7] = 
¡age
.
¶ay”1
.
Ãed
[i];

214  
i
 = 0; i<
TOTAL_SHIP_GAUGES
;i++)

216 
d©a
[
i
+12] = 
¡age
.
sh
.
gauge
[i];

218 
d©a
[18] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0];

219 
d©a
[19] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1];

220 
d©a
[20] = 
¡age
.
timeSurvived
;

221 
d©a
[21] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rS‹
;

222 
d©a
[22] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rDaysS‹
;

223 
d©a
[23] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rTimeW©”ed
;

224 
d©a
[24] = 
¡age
.
’gIÁ”ÇlY1
;

225 
d©a
[25] = 
¡age
.
’gIÁ”ÇlY2
;

226 
d©a
[26] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[2];

227 
d©a
[27] = 
¡age
.
šHab
;

228 
d©a
[28] = 
¡age
.
šEng
;

230  
i
 = 0; i < 
TOTAL_DATA
; ++i )

232 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

233 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

236 
	`SDL_RWşo£
Ğ
§veFe
 );

240 
	`´štf
Ğ"E¼Ü: UÇbËØ§vf%d! %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

242 
	}
}

244 
	g§veGame
::
	$d–‘eSave
(
feNum
)

246 
¡d
::
cout
<<"\n„unning saveGame::deleteSave(int fileNum)";

248 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "r+b" );

249 ifĞ
§veFe
 !ğ
NULL
 )

251 
	`´štf
Ğ"\ÀRefÜm©tšg savef%d", 
feNum
 );

253  
i
 = 0; i < 
TOTAL_DATA
; ++i )

256 if(
i
<7)

258 
d©a
[ 
i
 ] = 0;

260 if(
i
<18)

262 
d©a
[
i
] = 100;

264 if(
i
<19)

266 
d©a
[
i
] = 1;

268 if(
i
<20)

270 
d©a
[
i
] = 0;

272 if(
i
<21)

274 
d©a
[
i
] = 0;

276 if(
i
<22)

278 
d©a
[
i
] = -1;

280 if(
i
<23)

282 
d©a
[
i
] = 0;

284 if(
i
<24)

286 
d©a
[
i
] = 0;

288 if(
i
<25)

290 
d©a
[
i
] = 0;

292 if(
i
<26)

294 
d©a
[
i
] = 0;

296 if(
i
<27)

298 
d©a
[
i
] = 0;

300 if(
i
<28)

302 
d©a
[
i
] = 1;

304 if(
i
<29)

306 
d©a
[
i
] = 0;

308 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

311 
	`SDL_RWşo£
Ğ
§veFe
 );

313 
§vedPÏyTime
[
feNum
].
	`¡r
() = "";

314 
§vedD©e
[
feNum
].
	`¡r
() = "";

315 
	}
}

317 
	g§veGame
::
	$wr™eP»fsFe
(
´egameui
&…regameui)

319 
¡d
::
cout
<<"\n„unning saveGame::writePrefsFile(pregameui…regameui)";

322 
´efsD©a
[0] = 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
;

323 
´efsD©a
[1] = 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
;

324 
´efsD©a
[2] = 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
;

328 
SDL_RWİs
* 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

329 ifĞ
´efsFe
 !ğ
NULL
 )

332  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

334 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

335 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

339 
	`SDL_RWşo£
Ğ
´efsFe
 );

344 
	`´štf
Ğ"E¼Ü: UÇbËØ§vfe! %s\n", 
	`SDL_G‘E¼Ü
() );

346 
¡d
::
cout
<<"\n write…refs function complete";

348 
	}
}

350 
	g§veGame
::
	$upd©eSaveD©a
(
feNum
,
¡age
& sge,
Ušt32
 
¶ayedTime
)

352 
¡d
::
cout
<<"\n„unning saveGame::updateSaveData(stage stage,Uint32…layedTime)";

353 
time_t
 
now
 = 
	`time
(0);

354 * 
dt
 = 
	`ùime
(&
now
);

355 
¡d
::
cout
<<"\Ànow = "<<
now
;

356 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

358 
d©a
[0] = 
Œue
;

359 
d©a
[1] = 
now
;

360 
d©a
[2] = 
¶ayedTime
;

361 
¡d
::
cout
<<"\À¶ayedTimğ"<<
¶ayedTime
;

362 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

363 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘X(èğ"<<
¡age
.
¶ay”1
.
	`g‘X
();

364 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

365 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘Y(èğ"<<
¡age
.
¶ay”1
.
	`g‘Y
();

366 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

367 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY1 = "<<
¡age
.
habIÁ”ÇlY1
;

368 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

369 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY2 = "<<
¡age
.
habIÁ”ÇlY2
;

372 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

374 
d©a
[
i
+7] = 
¡age
.
¶ay”1
.
Ãed
[i];

376 
i
 = 0; i <
TOTAL_SHIP_GAUGES
;i++ )

378 
d©a
[
i
+12] = 
¡age
.
sh
.
gauge
[i];

381 
d©a
[18] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0];

382 
d©a
[19] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1];

383 
d©a
[20] = 
¡age
.
timeSurvived
;

384 
d©a
[21] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rS‹
;

385 
d©a
[22] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rDaysS‹
;

386 
d©a
[23] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rTimeW©”ed
;

387 
d©a
[24] = 
¡age
.
’gIÁ”ÇlY1
;

388 
d©a
[25] = 
¡age
.
’gIÁ”ÇlY2
;

389 
d©a
[26] = 
¡age
.
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[2];

390 
d©a
[27] = 
¡age
.
šHab
;

391 
d©a
[28] = 
¡age
.
šEng
;

393 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "w+b");

394  
i
 = 0; i < 
TOTAL_DATA
; ++i )

396 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

397 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

400 
	`SDL_RWşo£
Ğ
§veFe
 );

401 
	}
}

403 
	g§veGame
::
	$upd©eSavedM‘aD©a
(
feNum
, 
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

406 
¡d
::
cout
<<"\n„unning saveGame::updateSavedMetaData(int fileNum, SDL_Renderer*„enderer,TTF_Font* font)";

407 
§vedD©e
[
feNum
].
	`¡r
("");

408 
§vedD©e
[
feNum
].
	`ş—r
();

409 
time_t
 
§ved
 = 
d©a
[1];

410 * 
sdt
 = 
	`ùime
(&
§ved
);

411 
¡d
::
cout
<<"\Àsdt: "<<
sdt
;

412 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

415 
¡d
::
¡ršg
 
s
 = 
§vedD©e
[
feNum
].
	`¡r
();

416 
s
.
	`”a£
(36,2);

417 
§vedD©e
[
feNum
].
	`¡r
(
s
);

418 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

419 
¡d
::
cout
<<"\Àd©a[2] (¶ayedTimeèğ"<<
d©a
[2];

420 
hours
,
mšu‹s
,
£cÚds
;

421 if(
d©a
[2]/1000 < 0)

423 
£cÚds
 = 0;

427 
£cÚds
 = 
d©a
[2]/1000;

429 ifĞ(
d©a
[2]/1000)/60 < 0 )

431 
mšu‹s
 = 0;

435 
mšu‹s
 = (
d©a
[2]/1000)/60;

437 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

439 
hours
 = 0;

443 
hours
 = ((
d©a
[2]/1000)/60)/60;

445 
§vedPÏyTime
[
feNum
].
	`¡r
("");

446 
§vedPÏyTime
[
feNum
].
	`ş—r
();

447 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

448 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

449 
¡d
::
cout
<<"\n";

450 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

455 
‹xtCŞÜ
 = {0,128,200};

456 
	}
}

458 
	g§veGame
::
	$lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

460 
¡d
::
cout
<<"\n„unning saveGame::loadSaveTextTextures(SDL_Renderer*„enderer, TTF_Font* font)";

461 
i
 =0; i<
TOTAL_SAVES
;i++)

464 
§vedD©eTextu»
[
i
].
	`ä“
();

465 
§vedPÏyTimeTextu»
[
i
].
	`ä“
();

468 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

469 
i
=0; i<
TOTAL_SAVES
;i++)

471 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<"]: "<<
§vedD©e
[i].
	`¡r
().
	`c_¡r
();

472 if(
§vedD©e
[
i
].
	`¡r
() == "")

474 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<".str() = \"\"";

475 
§vedD©e
[
i
].
	`¡r
("Empty");

477 if(!
§vedD©eTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedD©e
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

479 
¡d
::
cout
<<"\ÀuÇbËØlßd savedD©e["<<
i
<<"] streamstringo savedDateTexture["<<i<<"]";

483 
¡d
::
cout
<<"\À§vedD©eTextu»["<<
i
<<"] is†oaded from streamstring";

484 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<"]: "<<
§vedD©e
[i].
	`¡r
();

486 if(
§vedPÏyTime
[
i
].
	`¡r
() == "")

488 
§vedPÏyTime
[
i
].
	`¡r
("Empty");

490 if(!
§vedPÏyTimeTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedPÏyTime
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

492 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedPÏyTime["<<
i
<<"] streamstringo savedPlayTimeTexture["<<i<<"]";

496 
¡d
::
cout
<<"\À§vedPÏyTimeTextu»["<<
i
<<"] is†oaded from streamstring";

497 
¡d
::
cout
<<"\À§vedPÏyTime["<<
i
<<"]: "<<
§vedPÏyTime
[i].
	`¡r
();

500 
	}
}

502 
	g§veGame
::
	$hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
)

504 
i
; i<
TOTAL_SAVES
;i++)

506 
§vedPÏyTimeTextu»
[
i
].
	`»nd”
(160,(110+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

507 
§vedD©eTextu»
[
i
].
	`»nd”
(160,(130+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

509 
	}
}

511 
	g§veGame
::
	$ä“TextTextu»s
()

513 
¡d
::
cout
<<"\n freeing savedMetaDataTextTextures";

514 
i
; i<
TOTAL_SAVES
; i++)

516 
§vedPÏyTimeTextu»
[
i
].
	`ä“
();

517 
§vedD©eTextu»
[
i
].
	`ä“
();

519 
	}
}

521 
	g§veGame
::
	$£tD©aV®ues
()

524 
i
 = 0; i < 4; i++)

526 
d©aV®ues1
[
i
] = 
d©a
[i+3];

528 
d©aV®ues1
[4] = 
d©a
[24];

529 
d©aV®ues1
[5] = 
d©a
[25];

531 
j
 = 0; j < 
TOTAL_PLAYER_NEEDS
; j++)

533 
d©aV®ues2
[
j
] = 
d©a
[j+7];

536 
k
 = 0; k < 
TOTAL_SHIP_GAUGES
; k++)

538 
d©aV®ues3
[
k
] = 
d©a
[k+12];

540 
	}
}

	@C:\Sojourner\Sojourner\saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 29;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

40 
»adP»fsFe
();

43 
»adSaveFe
(
feNum
);

49 
wr™eP»fsFe
(
´egameui
&…regameui);

51 
wr™eSaveFe
(
feNum
,
¡age
& sge,
Ušt32
 
¶ayedTime
);

53 
upd©eSaveD©a
(
feNum
,
¡age
& sge, 
Ušt32
 
¶ayedTime
);

55 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

57 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

59 
lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

61 
ä“TextTextu»s
();

63 
d–‘eSave
(
feNum
);

68 
Ušt32
 
	gd©aV®ues1
[6];

70 
Ušt32
 
	gd©aV®ues2
[5];

72 
Ušt32
 
	gd©aV®ues3
[6];

74 
£tD©aV®ues
();

77 
	g´iv©e
:

	@C:\Sojourner\Sojourner\ship.cpp

1 
	~"sh.h
"

3 
	gsh
::
	$sh
()

5 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

7 
gauge
[
i
] = 100;

9 
	}
}

11 
	gsh
::~
	$sh
()

14 
	}
}

16 
sh
::
	$modifyGauges
(
modGaugeV®ues
[])

18 
¡d
::
cout
<<"\n„unning ship::modifyGauges(int modGaugeValues[])";

21 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

23 
gauge
[
i
] +ğ
modGaugeV®ues
[i];

24 if(
gauge
[
i
] > 100)

26 
gauge
[
i
] = 100;

28 if(
gauge
[
i
] < 0)

30 
gauge
[
i
] = 0;

33 
	}
}

36 
	gsh
::
	$lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

39 
¡d
::
cout
<<"\n„unning ship::loadGaugesTextures(SDL_Renderer*„enderer, TTF_Font* font)";

40 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

41 
i
 = 0; i< 
TOTAL_SHIP_GAUGES
; i++)

44 
shGauges
[
i
] = 
¡d
::
	`to_¡ršg
(
gauge
[i]);

45 if(!
gaugesTextu»
[
i
].
	`lßdFromR’d”edText
(
shGauges
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

47 
¡d
::
cout
<<"\ÀuÇbËØlßd shGauges["<<
i
<<"] stringo gaugesTexture["<<i<<"]";

50 
	}
}

52 
	gsh
::
	$»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

54 
	`ä“GaugesTextu»s
();

57 
¡d
::
cout
<<"\n„unning ship::reloadGaugesTextures(SDL_Renderer*„enderer,TTF_Font* font)";

60 
Ušt8
 
r
,
b
,
g
;

61 
r
 = 0;

62 
g
 = 128;

63 
b
 = 200;

64 
SDL_CŞÜ
 
‹xtCŞÜ
 = {
r
,
g
,
b
};

66 
i
 = 0; i< 
TOTAL_SHIP_GAUGES
; i++)

68 
r
 = 255 - (
gauge
[
i
]*2.55);

69 
g
 = 
gauge
[
i
]*1.28;

70 
b
 = 
gauge
[
i
]*2;

71 
‹xtCŞÜ
 = {
r
,
g
,
b
};

72 
shGauges
[
i
] = 
¡d
::
	`to_¡ršg
(
gauge
[i]);

74 if(!
gaugesTextu»
[
i
].
	`lßdFromR’d”edText
(
shGauges
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

76 
¡d
::
cout
<<"\ÀuÇbËØlßd shGauges["<<
i
<<"] stringo gaugesTexture["<<i<<"]";

79 
	}
}

81 
	gsh
::
	$»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
)

83 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

85 
gaugesTextu»
[
i
].
	`»nd”
(450+(i*60),40,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

87 
	}
}

89 
	gsh
::
	$ä“GaugesTextu»s
()

91 
¡d
::
cout
<<"\n„unning ship::freeGaugesTextures()";

92 
i
 = 0; i < 
TOTAL_SHIP_GAUGES
; i++)

94 
gaugesTextu»
[
i
].
	`ä“
();

96 
	}
}

98 
	gsh
::
	$ä“
()

100 
hab™©iÚ
.
	`ä“Hab
();

101 
’gš“ršg
.
	`ä“Eng
();

102 
	`ä“GaugesTextu»s
();

103 
	}
}

105 
	gsh
::
	$lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[])

107 
¡d
::
cout
<<"\n„unning ship::loadSavedShipData(Uint32 dataValues[])";

109 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

111 
gauge
[
i
] = 
d©aV®ues
[i];

114 
	}
}

116 
	gsh
::
	$lßdHab™©iÚModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[])

118 
hab™©iÚ
.
	`lßdHab™©iÚ
(
»nd””
,
fÚt
,
gauge
,
Ãed
);

119 
	}
}

121 
	gsh
::
	$lßdEngš“ršgModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[])

123 
’gš“ršg
.
	`lßdEngš“ršg
(
»nd””
,
fÚt
,
gauge
,
Ãed
);

124 
	}
}

	@C:\Sojourner\Sojourner\ship.h

1 #iâdeà
SHIP_H


2 
	#SHIP_H


	)

4 
	~"moduË.h
"

7 cÚ¡ 
	gTOTAL_SHIP_GAUGES
 = 6;

9 şas 
	csh


11 
	mpublic
:

13 
sh
();

14 ~
sh
();

16 
moduË
 
	mhab™©iÚ
;

17 
moduË
 
	m’gš“ršg
;

20 
	mgauge
[
TOTAL_SHIP_GAUGES
];

22 
	m¡d
::
¡ršg
 
shGauges
[
TOTAL_SHIP_GAUGES
];

24 
modifyGauges
(
modGaugeV®ues
[]);

26 
Textu»
 
	mgaugesTextu»
[
TOTAL_SHIP_GAUGES
];

28 
lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

30 
»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

32 
»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
);

34 
ä“GaugesTextu»s
();

36 
ä“
();

38 
lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[]);

40 
lßdHab™©iÚModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[]);

42 
lßdEngš“ršgModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[]);

44 
	m´iv©e
:

	@C:\Sojourner\Sojourner\stage.cpp

1 
	~"¡age.h
"

3 
	g¡age
::
	$¡age
()

5 
š‹º®V›w
=
çl£
;

6 
ex‹º®V›w
=
Œue
;

7 
showPÏy”
=
çl£
;

8 
habIÁ”ÇlY1
=0;

9 
habIÁ”ÇlY2
=-600;

10 
’gIÁ”ÇlY1
 = 0;

11 
’gIÁ”ÇlY2
 = -600;

12 
timeSurvived
 = 0;

14 
šHab
 = 
Œue
;

16 
šEng
 = 
çl£
;

18 
bu‰ÚsF»ed
 = 
Œue
;

20 
	}
}

22 
	g¡age
::~
	$¡age
()

25 
	}
}

27 
¡age
::
	$ä“Bu‰Ús
()

29 
¡d
::
cout
<<"\n„unning stage::freeButtons()";

31 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

33 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

34 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

36 
	}
}

38 
boŞ
 
	g¡age
::
	$£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
sucûss
)

40 
¡d
::
cout
<<"\n„unning stage::setStageButtonTextures(SDL_Renderer*„enderer, bool success)";

42  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

44 if(
i
<1)

46 
¡d
::
¡ršg¡»am
 
ss
;

47 
¡d
::
¡ršg¡»am
 
ssMO
;

48 
ss
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << ".png";

49 
ssMO
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

50 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

51 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

52 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

53 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
Ğ
¡r2
,
»nd””
 );

57 
bu‰Ús
[0].
	`£tPos™iÚ
(600,80);

59  
sucûss
;

60 
	}
}

62 
	g¡age
::
	$£tBu‰ÚNames
()

64 
¡d
::
cout
<<"\n„unning stage::setButtonNames()";

66 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

68 
bu‰Ús
[
i
].
	`£tSgeBu‰ÚName
(i);

70 
	}
}

72 
boŞ
 
	g¡age
::
	$£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
)

74 
¡d
::
cout
<<"\n„unning stage::setStageTextures(SDL_Renderer*„enderer)";

76 
boŞ
 
sucûss
 = 
Œue
;

77 
	`£tFeNames
();

78 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

80 
sucûss
 = 
¡age1BG
[
i
].
	`lßdFromFe
Ğ
bgFeName
[i],
»nd””
 );

82 
i
 = 0; i < 
TOTAL_STAGE_UI
; i++)

84 
sucûss
 = 
UI
[
i
].
	`lßdFromFe
(
uiFeName
[i],
»nd””
);

86 
sucûss
 = 
¡¬sFÜe
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬ÏxfÜe.²g",
»nd””
);

87 
sucûss
 = 
¡¬sMid
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxmid.²g",
»nd””
);

88 
sucûss
 = 
¡¬sBack
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxback.²g",
»nd””
);

90 
cou¿ge
 = "Courage is freedom in…ractice.";

92 
¡d
::
cout
<<"\n courage functionƒxecuted";

93 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

94 if(!
cou¿geTextu»
.
	`lßdFromR’d”edText
(
cou¿ge
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

96 
¡d
::
cout
<<"\n unableo„ender courage stringo courageTexture!";

99  
sucûss
;

100 
	}
}

102 
	g¡age
::
	$£tFeNames
()

104 
¡d
::
cout
<<"\n„unning stage::setFileNames()";

106 
bgFeName
[0] = "images/blackground.png";

107 
bgFeName
[1] = "images/outerShip1.png";

108 
bgFeName
[2] = "images/habitation1.png";

109 
bgFeName
[3] = "images/habitation2.png";

110 
bgFeName
[4] = "images/engineering1.png";

111 
bgFeName
[5] = "images/engineering2.png";

113 
uiFeName
[0] = "images/UI.png";

115 
	}
}

117 
	g¡age
::
	$ä“BGTextu»s
()

119 
¡d
::
cout
<<"\n„unning stage::freeBGTextures()";

121 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

123 
¡age1BG
[
i
].
	`ä“
();

125 
cou¿geTextu»
.
	`ä“
();

126 
¡¬sFÜe
.
	`ä“P¬®ÏxTextu»
();

127 
¡¬sMid
.
	`ä“P¬®ÏxTextu»
();

128 
¡¬sBack
.
	`ä“P¬®ÏxTextu»
();

129 
	}
}

131 
	g¡age
::
	$ä“UITextu»s
()

133 
¡d
::
cout
<<"\n„unning stage::freeUITextures()";

134 
i
 = 0; i < 
TOTAL_STAGE_UI
; i++)

136 
UI
[
i
].
	`ä“
();

138 
	}
}

140 
	g¡age
::
	$lßdFÚt
()

142 
¡d
::
cout
<<"\n„unning stage::loadFont()";

144 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 12 );

146 
	}
}

148 
	g¡age
::
	$lßdO³nšgSequ’û
(
SDL_R’d””
* 
»nd””
)

150 
¡d
::
cout
<<"\n„unning stage::loadOpeningSequence(SDL_Renderer*„enderer)";

152 
	`lßdFÚt
();

154 
İ’šgSequ’ûHou£
.
	`lßdFromFe
("images/İ’šgSequ’ûHou£.²g",
»nd””
);

155 
İ’šgSequ’ûNew¥­”
.
	`lßdFromFe
("images/ÃwsP­”.²g",
»nd””
);

156 
İ’šgSequ’ûSh
.
	`lßdFromFe
("images/backy¬dSh.²g",
»nd””
);

158 
doÜ
.
	`lßdFromFe
("images/doÜ.²g",
»nd””
);

159 
obscu»
.
	`lßdFromFe
("images/obscu».²g",
»nd””
);

160 
¿mp
.
	`lßdFromFe
("images/¿mp.²g",
»nd””
);

162 
asûnsiÚ
.
	`lßdFromFe
("images/asûnsiÚBG.²g",
»nd””
);

163 
şoud
.
	`lßdFromFe
("images/şoud.²g",
»nd””
);

164 
liáOffSh
.
	`lßdFromFe
("images/liáOffSh.²g",
»nd””
);

167 
šHab
 = 
çl£
;

168 
šEng
 = 
çl£
;

170 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

172 
Ãw¥­”
 = "Maybe I should checkhe‚ewspaper? (press 'e')";

174 if(!
Ãw¥­”Textu»
.
	`lßdFromR’d”edText
(
Ãw¥­”
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

176 
¡d
::
cout
<<"\n unableo„ender‚ewspaper stringo‚ewspaperTexture!";

179 
iDÚtWªtToLiveOnThisPÏÃtAnymÜe
 = "I don't wanto†ive onhis…lanet‡nymore.";

181 if(!
iDÚtWªtToLiveOnThisPÏÃtAnymÜeTextu»
.
	`lßdFromR’d”edText
(
iDÚtWªtToLiveOnThisPÏÃtAnymÜe
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

183 
¡d
::
cout
<<"\n unableo„ender idontwanttoliveonthisplanetanymore stringo idontwanttoliveonthisplanetanymoreTexture!";

186 
backy¬d
 = "Timeo headohe backyard.";

188 if(!
backy¬dTextu»
.
	`lßdFromR’d”edText
(
backy¬d
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

190 
¡d
::
cout
<<"\n unableo„ender backyard stringo backyardTexture!";

193 
gtfo
 = "I'm gettinghe fuck out of here.";

195 if(!
gtfoTextu»
.
	`lßdFromR’d”edText
(
gtfo
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

197 
¡d
::
cout
<<"\n unableo„ender gtfo stringo gtfoTexture!";

201 
Ãw¥­”IÁ”aùiÚ
.
x
 = 470;

202 
Ãw¥­”IÁ”aùiÚ
.
y
 = 525;

203 
Ãw¥­”IÁ”aùiÚ
.
w
 = 165;

204 
Ãw¥­”IÁ”aùiÚ
.
h
 = 75;

206 
backdoÜIÁ”aùiÚ
.
x
 = 210;

207 
backdoÜIÁ”aùiÚ
.
y
 = 430;

208 
backdoÜIÁ”aùiÚ
.
w
 = 50;

209 
backdoÜIÁ”aùiÚ
.
h
 = 120;

212 
doÜX
 = 331;

213 
doÜY
 = 166;

214 
¿mpX
 = 338;

215 
¿mpY
 = 503;

217 
™”©iÚs
 = 62;

218 
™”©iÚs2
 = 170;

220 
·³rR—d
 = 
çl£
;

221 
šBacky¬d
 = 
çl£
;

222 
backy¬dF»e
 = 
çl£
;

224 
·³rO³n
 = 
çl£
;

226 
¶ay”1
.
šS·û
 = 
çl£
;

228 
¶ay”1
.
	`lßdPÏy”
(
»nd””
);

230 
¶ay”1
.
	`£tX
(750);

231 
¶ay”1
.
	`£tY
(420);

233 
İ’šgSequ’ûTim”
.
	`¡¬t
();

235 
ÿm”a
.
x
 = 0;

236 
ÿm”a
.
y
 = 1200;

237 
ÿm”a
.
w
 = 800;

238 
ÿm”a
.
y
 = 600;

240 
asûnsiÚY
 = -1200;

242 
şoudY
 = 200;

243 
şoudY2
 = -300;

245 
com¶‘e
 = 
çl£
;

247 
	}
}

249 
boŞ
 
	g¡age
::
	$lßdSge
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
šHab
, boŞ 
šEng
, boŞ 
sucûss
)

251 
¡d
::
cout
<<"\n„unning stage::loadStage(SDL_Renderer*„enderer, bool inHab, bool inEng, bool success)";

253 
	`£tBu‰ÚNames
();

255 
	`lßdFÚt
();

257 
sucûss
 = 
	`£tSgeBu‰ÚTextu»s
(
»nd””
,success);

259 
sucûss
 = 
	`£tSgeTextu»s
(
»nd””
);

261 
	`lßdTimeSurvivedTextu»s
(
»nd””
);

266 
¶ay”1
.
šS·û
 = 
Œue
;

268 
¶ay”1
.
	`lßdPÏy”
(
»nd””
);

271 
¶ay”1
.
	`lßdN“dsTextu»s
(
»nd””
,
fÚt
);

273 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

274 if(
šHab
)

276 
sh
.
	`lßdHab™©iÚModuË
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
);

278 if(
šEng
)

280 
sh
.
	`lßdEngš“ršgModuË
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
);

285 
sh
.
	`lßdGaugesTextu»s
(
»nd””
,
fÚt
);

286  
sucûss
;

287 
	}
}

289 
	g¡age
::
	$ä“
()

291 
¡d
::
cout
<<"\n„unning stage::free()";

293 
	`ä“TimeSurvivedTextu»s
();

294 
	`ä“Bu‰Ús
();

295 
	`ä“BGTextu»s
();

296 
	`ä“UITextu»s
();

297 
¶ay”1
.
	`ä“PÏy”
();

299 
sh
.
	`ä“
();

301 
	}
}

303 
	g¡age
::
	$ä“O³nšgSequ’û
()

305 
¡d
::
cout
<<"\n„unning stage::freeOpeningSequence()";

306 
Ãw¥­”Textu»
.
	`ä“
();

307 
İ’šgSequ’ûHou£
.
	`ä“
();

308 
İ’šgSequ’ûNew¥­”
.
	`ä“
();

309 
	}
}

311 
	g¡age
::
	$hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
bu‰ÚClicked
)

314 if(
bu‰ÚClicked
==1)

317 
š‹º®V›w
 = 
çl£
;

318 
showPÏy”
 = 
çl£
;

319 
ex‹º®V›w
 = 
Œue
;

321 if(
bu‰ÚClicked
==2)

323 
š‹º®V›w
=
Œue
;

324 
showPÏy”
=
Œue
;

325 
ex‹º®V›w
=
çl£
;

327 if(
bu‰ÚClicked
 == 3)

332 if(
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0])

334 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1] = 
Œue
;

335 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0] = 
çl£
;

336 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

337 
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rDaysS‹
 = 0;

338 
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rS‹
 = 0;

339 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁTextu»
(
»nd””
);

340 
¡d
::
cout
<<"\À¶ªtOkay: "<<
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0];

341 
timeSurvived
 += 30;

342 
	`»äeshTS
(
»nd””
);

344 
¶ªt
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,-5};

345 
¶ay”1
.
	`modifyN“ds
(
¶ªt
);

346 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

349 if(
bu‰ÚClicked
 == 4)

352 if(
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1])

354 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1] = 
çl£
;

355 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

356 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁTextu»
(
»nd””
);

357 
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rTimeW©”ed
 = 
timeSurvived
;

358 
¡d
::
cout
<<"\Àw©”PÏÁsOkay: "<<
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1];

360 
timeSurvived
 +=30;

361 
	`»äeshTS
(
»nd””
);

364 
w©”
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,-5};

365 
¶ay”1
.
	`modifyN“ds
(
w©”
);

366 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

367 
w©”Deüem’t
[6] = {0,0,0,-2,0,0};

368 
sh
.
	`modifyGauges
(
w©”Deüem’t
);

369 
sh
.
	`»lßdGaugesTextu»s
(
»nd””
,
fÚt
);

371 
sh
.
hab™©iÚ
.
w©”Tªk
.
	`lßdW©”Tªk
(
»nd””
,
fÚt
,sh.
gauge
[3]);

374 if(
bu‰ÚClicked
 == 5)

376 if(
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[2])

378 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[0]=
Œue
;

379 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[1]=
çl£
;

380 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚAvaabË
[2]=
çl£
;

382 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

384 
sh
.
hab™©iÚ
.
¶ª‹r
.
¶ª‹rS‹
 = -1;

386 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁTextu»
(
»nd””
);

388 
timeSurvived
 +=60;

389 
	`»äeshTS
(
»nd””
);

392 
h¬ve¡
[
TOTAL_PLAYER_NEEDS
] = {0,-10,-10,-10,-10};

393 
¶ay”1
.
	`modifyN“ds
(
h¬ve¡
);

394 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

399 if(
bu‰ÚClicked
 == 6)

401 if(
¶ay”1
.
Ãed
[3] != 100)

404 
¦umb”Bag
[
TOTAL_PLAYER_NEEDS
] = {0,-33,-33,100,-33};

405 
¶ay”1
.
	`modifyN“ds
(
¦umb”Bag
);

406 
sh
.
hab™©iÚ
.
bed
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[3]);

407 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

409 
timeSurvived
 +=480;

410 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁ
(
»nd””
,
timeSurvived
);

412 
	`»äeshTS
(
»nd””
);

415 if(
bu‰ÚClicked
 == 7)

417 if(
¶ay”1
.
Ãed
[2] != 100)

420 
k™ch’
[
TOTAL_PLAYER_NEEDS
] = {0,-5,100,-2,0};

421 
¶ay”1
.
	`modifyN“ds
(
k™ch’
);

422 
sh
.
hab™©iÚ
.
k™ch’
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[2]);

423 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

425 
timeSurvived
 +=30;

426 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁ
(
»nd””
, 
timeSurvived
);

427 
	`»äeshTS
(
»nd””
);

430 if(
bu‰ÚClicked
 == 8)

432 if(
¶ay”1
.
Ãed
[0] != 100)

435 
šfœm
[
TOTAL_PLAYER_NEEDS
] = {100,-5,-5,-5,-5};

436 
¶ay”1
.
	`modifyN“ds
(
šfœm
);

437 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[0]);

438 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

440 
timeSurvived
 +=60;

441 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁ
(
»nd””
, 
timeSurvived
);

442 
	`»äeshTS
(
»nd””
);

445 if(
bu‰ÚClicked
 == 9)

447 if(
¶ay”1
.
Ãed
[1] != 100)

450 
bike
[
TOTAL_PLAYER_NEEDS
] = {0,100,-5,-5,-5};

451 
¶ay”1
.
	`modifyN“ds
(
bike
);

452 
sh
.
hab™©iÚ
.
bike
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[1]);

453 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

455 
timeSurvived
 +=120;

456 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁ
(
»nd””
, 
timeSurvived
);

457 
	`»äeshTS
(
»nd””
);

460 if(
bu‰ÚClicked
 == 10)

462 if(
¶ay”1
.
Ãed
[4] != 100)

465 
»ü—tiÚ
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,100};

466 
¶ay”1
.
	`modifyN“ds
(
»ü—tiÚ
);

467 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[4]);

468 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

470 
timeSurvived
 +=60;

471 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©ePÏÁ
(
»nd””
, 
timeSurvived
);

472 
	`»äeshTS
(
»nd””
);

475 if(
bu‰ÚClicked
 == 11)

477 
¡d
::
cout
<<"\n„esearch button‡ction should happen here.";

479 if(
bu‰ÚClicked
 == 12)

481 
¡d
::
cout
<<"\n should display ship's inventory";

482 
sh
.
’gš“ršg
.
ÿrgoA»a
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

483 if(!
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
)

485 
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
 = 
Œue
;

487 
¡d
::
cout
<<"\Àšv’tÜy di¥Ïyšg: "<<
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
;

490 if(
bu‰ÚClicked
 == 13)

492 
¡d
::
cout
<<"\n should close ship's inventory";

493 if(
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
)

495 
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
 = 
çl£
;

498 
	}
}

500 
	g¡age
::
	$hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 )

504 
bu‰ÚClicked
 = 0;

508 if(
¶ay”1
.
š‹¿ù
 && 
bu‰ÚsF»ed
)

510 if(
¶ay”1
.
š‹¿ùPÏÁ”
)

512 
¡d
::
cout
<<"\n creating…lanter buttons";

513 
bu‰Ús
[1].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚTextTextu»
[0];

514 
bu‰Ús
[1].
bu‰ÚName
 = "plant";

515 
bu‰Ús
[1].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

517 
bu‰Ús
[2].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚTextTextu»
[1];

518 
bu‰Ús
[2].
bu‰ÚName
 = "waterPlants";

519 
bu‰Ús
[2].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
());

521 
bu‰Ús
[3].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
¶ª‹r
.
bu‰ÚTextTextu»
[2];

522 
bu‰Ús
[3].
bu‰ÚName
 = "harvest";

523 
bu‰Ús
[3].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()+20);

525 
bu‰ÚsF»ed
 = 
çl£
;

527 if(
¶ay”1
.
š‹¿ùBed
)

529 
¡d
::
cout
<<"\n creating bed buttons";

530 
bu‰Ús
[4].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
bed
.
bu‰ÚTextTextu»
[0];

531 
bu‰Ús
[4].
bu‰ÚName
 = "sleep";

532 
bu‰Ús
[4].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

533 
bu‰ÚsF»ed
 = 
çl£
;

535 if(
¶ay”1
.
š‹¿ùK™ch’
)

537 
¡d
::
cout
<<"\n creating kitchen buttons";

538 
bu‰Ús
[5].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
k™ch’
.
bu‰ÚTextTextu»
[0];

539 
bu‰Ús
[5].
bu‰ÚName
 = "eat";

540 
bu‰Ús
[5].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

541 
bu‰ÚsF»ed
 = 
çl£
;

543 if(
¶ay”1
.
š‹¿ùInfœm¬y
)

545 
¡d
::
cout
<<"\n creating infirmary buttons";

546 
bu‰Ús
[6].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
šfœm¬y
.
bu‰ÚTextTextu»
[0];

547 
bu‰Ús
[6].
bu‰ÚName
 = "heal";

548 
bu‰Ús
[6].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

549 
bu‰ÚsF»ed
 = 
çl£
;

551 if(
¶ay”1
.
š‹¿ùBike
)

553 
¡d
::
cout
<<"\n creating bike buttons";

554 
bu‰Ús
[7].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
bike
.
bu‰ÚTextTextu»
[0];

555 
bu‰Ús
[7].
bu‰ÚName
 = "exercise";

556 
bu‰Ús
[7].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

557 
bu‰ÚsF»ed
=
çl£
;

560 if(
¶ay”1
.
š‹¿ùRec
)

562 
¡d
::
cout
<<"\n creating Rec buttons";

563 
bu‰Ús
[8].
bu‰ÚTextu»
 = 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
bu‰ÚTextTextu»
[0];

564 
bu‰Ús
[8].
bu‰ÚName
 = "relax";

565 
bu‰Ús
[8].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

566 
bu‰ÚsF»ed
 = 
çl£
;

568 if(
¶ay”1
.
š‹¿ùRe£¬chDesk
)

570 
¡d
::
cout
<<"\n creating„esearchDesk buttons";

571 
bu‰Ús
[9].
bu‰ÚTextu»
 = 
sh
.
’gš“ršg
.
»£¬chDesk
.
bu‰ÚTextTextu»
[0];

572 
bu‰Ús
[9].
bu‰ÚName
 = "research";

573 
bu‰Ús
[9].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

574 
bu‰ÚsF»ed
 = 
çl£
;

576 if(
¶ay”1
.
š‹¿ùC¬goA»a
)

578 
¡d
::
cout
<<"\n creating cargoArea buttons";

579 
bu‰Ús
[10].
bu‰ÚTextu»
 = 
sh
.
’gš“ršg
.
ÿrgoA»a
.
bu‰ÚTextTextu»
[0];

580 
bu‰Ús
[10].
bu‰ÚName
 = "inventory";

581 
bu‰Ús
[10].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

582 
bu‰ÚsF»ed
 = 
çl£
;

585 if(
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
 && !
bu‰ÚsF»ed
)

587 
¡d
::
cout
<<"\n creating close inventory button";

588 
bu‰Ús
[11].
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/šv’tÜyClo£.²g",
»nd””
);

589 
bu‰Ús
[11].
bu‰ÚName
 = "closeInventory";

590 
bu‰Ús
[11].
	`£tPos™iÚ
(710,165);

594  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

596 
bu‰ÚClicked
 = 
bu‰Ús
[ 
i
 ].
	`hªdËSgeEv’t
(
š‹º®V›w
,bu‰Ús[i].
bu‰ÚName
, 
e
 );

597 if(
bu‰ÚClicked
 != 0)

599 
i
+=
TOTAL_STAGE_BUTTONS
;

602 
	`hªdËSgeBu‰ÚP»s£s
(
»nd””
,
bu‰ÚClicked
);

603 if(
bu‰ÚClicked
 == 1)

611 
	}
}

613 
	g¡age
::
	$ä“StiÚBu‰Ús
()

615 
¡d
::
cout
<<"\n„unning stage::freeStationButtons()";

616 
i
 = 1; i<
TOTAL_STAGE_BUTTONS
; i++)

618 
bu‰Ús
[
i
].
	`ä“
();

620 
sh
.
hab™©iÚ
.
¶ª‹r
.
¡©iÚO±iÚsLßded
 = 
çl£
;

621 
sh
.
hab™©iÚ
.
bed
.
¡©iÚO±iÚsLßded
 = 
çl£
;

622 
sh
.
hab™©iÚ
.
k™ch’
.
¡©iÚO±iÚsLßded
 = 
çl£
;

623 
sh
.
hab™©iÚ
.
šfœm¬y
.
¡©iÚO±iÚsLßded
 = 
çl£
;

624 
sh
.
hab™©iÚ
.
bike
.
¡©iÚO±iÚsLßded
 = 
çl£
;

625 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
¡©iÚO±iÚsLßded
 =
çl£
;

626 
sh
.
’gš“ršg
.
»£¬chDesk
.
¡©iÚO±iÚsLßded
 = 
çl£
;

627 
bu‰ÚsF»ed
 = 
Œue
;

628 
	}
}

630 
	g¡age
::
	$»nd”O³nšgSequ’û
(
SDL_R’d””
* 
»nd””
)

633 
İ’šgSequ’ûHou£
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

635 if(!
backdoÜIÁ”aùed
)

637 
¶ay”1
.
	`»nd”
(
»nd””
);

641 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
(è< 3000 && o³nšgSequ’ûTim”.
	`isS¹ed
(è&& !
·³rR—d
)

643 
Ãw¥­”Textu»
.
	`»nd”
(150,
¶ay”1
.
	`g‘Y
()-20,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

645 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
(è>ğ3000 && !
·³rR—d
)

647 
İ’šgSequ’ûTim”
.
	`¡İ
();

651 if(
¶ay”1
.
š‹¿ù
)

653 if(
·³rR—d
)

655 if(
¶ay”1
.
š‹¿ùBackdoÜ
)

658 
¡d
::
cout
<<"\n backDoor interacted";

659 
	`ä“Hou£
();

660 
backdoÜIÁ”aùed
 = 
Œue
;

661 
šBacky¬d
 = 
Œue
;

662 
¶ay”1
.
	`£tX
(380);

663 
¶ay”1
.
	`£tY
(520);

666 if(
¶ay”1
.
š‹¿ùNew¥­”
)

668 if(
·³rO³n
)

670 
·³rO³n
 = 
çl£
;

671 
·³rR—d
 = 
Œue
;

672 
İ’šgSequ’ûTim”
.
	`¡¬t
();

673 
¶ay”1
.
š‹¿ù
 = 
çl£
;

677 
·³rO³n
 = 
Œue
;

678 
¶ay”1
.
š‹¿ù
 = 
çl£
;

689 if(
·³rO³n
)

691 
İ’šgSequ’ûNew¥­”
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

693 if(
·³rR—d
)

695 if(!
¶ay”1
.
š‹¿ù
 && !
·³rO³n
)

697 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
() < 3000)

699 
iDÚtWªtToLiveOnThisPÏÃtAnymÜeTextu»
.
	`»nd”
(50,
¶ay”1
.
	`g‘Y
(è- 40,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

701 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
() > 2000 && openingSequenceTimer.getTicks() < 5000)

703 
backy¬dTextu»
.
	`»nd”
(50,
¶ay”1
.
	`g‘Y
()-20,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

707 if(
backdoÜIÁ”aùed
)

710 
İ’šgSequ’ûSh
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

711 
¿mp
.
	`»nd”
(338,
¿mpY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

712 
obscu»
.
	`»nd”
(338,405,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

713 if(!
backy¬dF»e
)

715 
¶ay”1
.
	`»nd”
(
»nd””
);

717 
doÜ
.
	`»nd”
(
doÜX
,
doÜY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

718 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
() < 3000)

720 
gtfoTextu»
.
	`»nd”
(50,
¶ay”1
.
	`g‘Y
()-20,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

722 if(
¶ay”1
.
	`g‘Y
() == 420)

725 
¶ay”1
.
movem’tDi§bËd
 = 
Œue
;

726 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
(è% 25 =ğ0 && 
™”©iÚs
 >= 0)

728 
¿mpY
--;

729 
™”©iÚs
--;

731 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
(è%25 =ğ0 && 
™”©iÚs2
 >=0)

733 
doÜY
++;

734 
™”©iÚs2
--;

737 if(
™”©iÚs
 <ğ0 && 
™”©iÚs2
 <= 0)

740 if(!
backy¬dF»e
)

742 
	`ä“Backy¬d
();

743 
backy¬dF»e
 = 
Œue
;

744 
¶ay”1
.
movem’tDi§bËd
 = 
çl£
;

745 
¶ay”1
.
šS·û
 = 
Œue
;

748 
asûnsiÚ
.
	`»nd”
(0,
asûnsiÚY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

749 
şoud
.
	`»nd”
(50,
şoudY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

750 
şoud
.
	`»nd”
(400,
şoudY
-25,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

751 
şoud
.
	`»nd”
(450,
şoudY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

752 
şoud
.
	`»nd”
(100,
şoudY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

753 
liáOffSh
.
	`»nd”
(300,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

754 
şoud
.
	`»nd”
(150,
şoudY
-600,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

755 
şoud
.
	`»nd”
(250,
şoudY
-250,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

756 
şoud
.
	`»nd”
(25,
şoudY2
-300,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

757 
şoud
.
	`»nd”
(500,
şoudY2
+150,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

760 if(
İ’šgSequ’ûTim”
.
	`g‘Ticks
(è%10 =ğ0 && 
asûnsiÚY
 <=0)

762 
asûnsiÚY
++;

763 
şoudY
++;

764 
şoudY2
++;

766 if(
asûnsiÚY
 >ğ0 && 
com¶‘e
 =ğ
çl£
)

768 
	`ä“Sky
();

769 
com¶‘e
 = 
Œue
;

774 
	}
}

776 
	g¡age
::
	$»£tO³nšgSequ’ûV¬ŸbËs
()

778 
¡d
::
cout
<<"\n„unning stage::resetOpeningSequenceVariables()";

779 
com¶‘e
 = 
çl£
;

780 
backdoÜIÁ”aùed
 = 
çl£
;

781 
·³rR—d
 = 
çl£
;

782 
šBacky¬d
 = 
çl£
;

783 
İ’šgSequ’ûTim”
.
	`¡İ
();

784 
doÜX
 = 331;

785 
doÜY
 = 166;

786 
¿mpX
 = 338;

787 
¿mpY
 = 503;

788 
™”©iÚs
 = 62;

789 
™”©iÚs2
 = 170;

790 
šHab
 = 
Œue
;

791 
	}
}

793 
	g¡age
::
	$ä“Hou£
()

795 
¡d
::
cout
<<"\n„unning stage::freeHouse()";

797 
iDÚtWªtToLiveOnThisPÏÃtAnymÜeTextu»
.
	`ä“
();

798 
İ’šgSequ’ûTim”
.
	`»¡¬t
();

799 
İ’šgSequ’ûNew¥­”
.
	`ä“
();

800 
Ãw¥­”Textu»
.
	`ä“
();

801 
İ’šgSequ’ûHou£
.
	`ä“
();

802 
Ãw¥­”IÁ”aùiÚ
.
x
 = 0;

803 
Ãw¥­”IÁ”aùiÚ
.
y
 = 0;

804 
Ãw¥­”IÁ”aùiÚ
.
w
 = 0;

805 
Ãw¥­”IÁ”aùiÚ
.
h
 = 0;

806 
backdoÜIÁ”aùiÚ
.
x
 = 0;

807 
backdoÜIÁ”aùiÚ
.
y
 = 0;

808 
backdoÜIÁ”aùiÚ
.
w
 = 0;

809 
backdoÜIÁ”aùiÚ
.
h
 = 0;

811 
	}
}

813 
	g¡age
::
	$ä“Backy¬d
()

815 
¡d
::
cout
<<"\n„unning stage::freeBackyard()";

816 
backy¬dTextu»
.
	`ä“
();

817 
İ’šgSequ’ûSh
.
	`ä“
();

818 
gtfoTextu»
.
	`ä“
();

819 
doÜ
.
	`ä“
();

820 
obscu»
.
	`ä“
();

821 
¿mp
.
	`ä“
();

822 
	}
}

824 
	g¡age
::
	$ä“Sky
()

826 
¡d
::
cout
<<"\n„unning stage::freeSky()";

827 
asûnsiÚ
.
	`ä“
();

828 
şoud
.
	`ä“
();

829 
liáOffSh
.
	`ä“
();

830 
	}
}

832 
	g¡age
::
	$»nd”Sge1
(
SDL_R’d””
* 
»nd””
)

834 
¡age1BG
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

835 
	`¡¬sHªdËP¬®Ïx
(
»nd””
);

836 if(
ex‹º®V›w
)

838 
¡age1BG
[1].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

839 
cou¿geTextu»
.
	`»nd”
(10,580,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

841 if(
š‹º®V›w
)

843 if(
šHab
)

845 
	`habIÁ”ÇlHªdËP¬®Ïx
(
»nd””
);

847 if(
šEng
)

849 
	`’gIÁ”ÇlHªdËP¬®Ïx
(
»nd””
);

853 if(
š‹º®V›w
)

856 if(
šHab
)

858 
sh
.
hab™©iÚ
.
w©”Tªk
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

859 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

860 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

861 
sh
.
hab™©iÚ
.
k™ch’
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

862 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

863 
sh
.
hab™©iÚ
.
bike
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

864 
sh
.
hab™©iÚ
.
bed
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

866 if(
šEng
)

869 
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

870 
sh
.
’gš“ršg
.
»£¬chDesk
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

871 
sh
.
’gš“ršg
.
’gšeStiÚ
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

872 
sh
.
’gš“ršg
.
ÿrgoA»a
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

873 
sh
.
’gš“ršg
.
commStiÚ
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

876 if(
showPÏy”
)

878 
¶ay”1
.
	`»nd”
(
»nd””
);

879 if(
šHab
)

881 
sh
.
hab™©iÚ
.
w©”Tªk
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

882 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

883 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

884 
sh
.
hab™©iÚ
.
k™ch’
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

885 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

886 
sh
.
hab™©iÚ
.
bike
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

887 
sh
.
hab™©iÚ
.
bed
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

889 if(
¶ay”1
.
š‹¿ù
)

891 if(
¶ay”1
.
š‹¿ùW©”Tªk
)

893 
sh
.
hab™©iÚ
.
w©”Tªk
.
	`»nd”IÁ”aùStiÚ
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

895 if(
¶ay”1
.
š‹¿ùBed
)

897 
sh
.
hab™©iÚ
.
bed
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

899 if(
¶ay”1
.
š‹¿ùRec
)

901 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

903 if(
¶ay”1
.
š‹¿ùBike
)

905 
sh
.
hab™©iÚ
.
bike
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

907 if(
¶ay”1
.
š‹¿ùInfœm¬y
)

909 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

911 if(
¶ay”1
.
š‹¿ùK™ch’
)

913 
sh
.
hab™©iÚ
.
k™ch’
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

915 if(
¶ay”1
.
š‹¿ùPÏÁ”
)

917 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

919 if(
¶ay”1
.
š‹¿ùHabEx™
)

921 if(
šHab
)

923 
¶ay”1
.
š‹¿ùHabEx™
 = 
çl£
;

924 
¶ay”1
.
	`£tX
(60);

925 
šHab
 = 
çl£
;

926 
šEng
 = 
Œue
;

927 
sh
.
hab™©iÚ
.
	`ä“Hab
();

928 
sh
.
	`lßdEngš“ršgModuË
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
);

929 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùHabEx™ = "<<
¶ay”1
.
š‹¿ùHabEx™
;

930 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

935 if(
šEng
)

938 
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

939 
sh
.
’gš“ršg
.
»£¬chDesk
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

940 
sh
.
’gš“ršg
.
’gšeStiÚ
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

941 
sh
.
’gš“ršg
.
ÿrgoA»a
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

942 
sh
.
’gš“ršg
.
commStiÚ
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

944 if(
¶ay”1
.
š‹¿ù
)

946 if(
¶ay”1
.
š‹¿ùEngEx™
)

948 
¶ay”1
.
š‹¿ùEngEx™
 = 
çl£
;

949 
¶ay”1
.
	`£tX
(720);

950 
šHab
 = 
Œue
;

951 
šEng
 = 
çl£
;

952 
sh
.
’gš“ršg
.
	`ä“Eng
();

953 
sh
.
	`lßdHab™©iÚModuË
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
);

954 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùEngEx™ = "<<
¶ay”1
.
š‹¿ùEngEx™
;

955 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

957 if(
¶ay”1
.
š‹¿ùB©‹ryA¼ay
)

959 
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
	`»nd”IÁ”aùStiÚ
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

961 if(
¶ay”1
.
š‹¿ùRe£¬chDesk
)

963 
sh
.
’gš“ršg
.
»£¬chDesk
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

965 if(
¶ay”1
.
š‹¿ùEngšeStiÚ
)

967 
sh
.
’gš“ršg
.
’gšeStiÚ
.
	`»nd”IÁ”aùStiÚ
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

969 if(
¶ay”1
.
š‹¿ùC¬goA»a
)

971 
sh
.
’gš“ršg
.
ÿrgoA»a
.
	`»nd”IÁ”aùStiÚBu‰Ús
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

973 if(
¶ay”1
.
š‹¿ùCommStiÚ
)

975 
sh
.
’gš“ršg
.
commStiÚ
.
	`»nd”IÁ”aùStiÚ
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

980 if(
š‹º®V›w
)

982 
UI
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

983 
	`»nd”TimeSurvivedTextTextu»s
(
»nd””
);

984 
¶ay”1
.
	`»nd”N“dsTextu»s
(
»nd””
);

985 
sh
.
	`»nd”GaugesTextu»s
(
»nd””
);

986 if(
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyDi¥Ïyšg
)

988 
sh
.
’gš“ršg
.
ÿrgoA»a
.
šv’tÜyBG
.
	`»nd”
(50,150,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

990 
bu‰Ús
[11].
bu‰ÚTextu»
.
	`»nd”
(710,165,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

993 if(
bu‰Ús
[0].
mou£Ov”
==
çl£
)

995 
bu‰Ús
[0].
bu‰ÚTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

999 
bu‰Ús
[0].
bu‰ÚMOTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1001 
	}
}

1003 
	g¡age
::
	$¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

1008 
¡¬sBack
.
	`·¿ÎaxR’d”
(
»nd””
);

1009 
¡¬sMid
.
	`·¿ÎaxR’d”
(
»nd””
);

1010 
¡¬sFÜe
.
	`·¿ÎaxR’d”
(
»nd””
);

1012 
¡¬sFÜe
.
	`šüem’tFÜe
();

1013 
¡¬sMid
.
	`šüem’tMid
();

1014 
¡¬sBack
.
	`šüem’tBack
();

1015 
	}
}

1017 
	g¡age
::
	$habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

1019 
¡age1BG
[2].
	`»nd”
(0,
habIÁ”ÇlY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1020 
¡age1BG
[3].
	`»nd”
(0,
habIÁ”ÇlY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1021 
	}
}

1023 
	g¡age
::
	$’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

1025 
¡age1BG
[4].
	`»nd”
(0,
’gIÁ”ÇlY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1026 
¡age1BG
[5].
	`»nd”
(0,
’gIÁ”ÇlY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1027 
	}
}

1029 
	g¡age
::
	$move
(
couÁedF¿mes
)

1031 if(
šHab
 || 
šEng
)

1033 ifĞ
¶ay”1
.
	`g‘Y
(è=ğ360 &&…Ïy”1.
	`g‘PV–Y
() > 0 )

1035 if(
šHab
)

1038 if(
habIÁ”ÇlY1
 < -599)

1040 
habIÁ”ÇlY1
 = 600;

1042 if(
habIÁ”ÇlY2
 < -599)

1044 
habIÁ”ÇlY2
 = 600;

1046 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

1047 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

1049 if(
šEng
)

1052 if(
’gIÁ”ÇlY1
 < -599)

1054 
’gIÁ”ÇlY1
 = 600;

1056 if(
’gIÁ”ÇlY2
 < -599)

1058 
’gIÁ”ÇlY2
 = 600;

1061 
’gIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

1062 
’gIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

1066 if(
šHab
 || 
šEng
)

1068 if(
¶ay”1
.
	`g‘Y
()==160 &&…Ïy”1.
	`g‘PV–Y
()<0)

1071 if(
šHab
)

1073 if(
habIÁ”ÇlY1
 > 599)

1075 
habIÁ”ÇlY1
 = -600;

1077 if(
habIÁ”ÇlY2
 > 599)

1079 
habIÁ”ÇlY2
 = -600;

1082 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

1083 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

1085 if(
šEng
)

1087 if(
’gIÁ”ÇlY1
 > 599)

1089 
’gIÁ”ÇlY1
 = -600;

1091 if(
’gIÁ”ÇlY2
 > 599)

1093 
’gIÁ”ÇlY2
 = -600;

1096 
’gIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

1097 
’gIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

1101 if(
šHab
 || 
šEng
)

1103 
¶ay”1
.
	`move
(
couÁedF¿mes
,
sh
,
šHab
,
šEng
);

1107 
¶ay”1
.
	`move
(
couÁedF¿mes
,
Ãw¥­”IÁ”aùiÚ
,
backdoÜIÁ”aùiÚ
,
šBacky¬d
);

1110 if(
šHab
)

1113 
sh
.
hab™©iÚ
.
w©”Tªk
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1114 
sh
.
hab™©iÚ
.
k™ch’
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1115 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1116 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1117 
sh
.
hab™©iÚ
.
bed
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1118 
sh
.
hab™©iÚ
.
habEx™
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

1120 
sh
.
hab™©iÚ
.
bike
.
	`upd©eHabPos™iÚ2
(
habIÁ”ÇlY2
);

1121 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`upd©eHabPos™iÚ2
(
habIÁ”ÇlY2
);

1123 if(
šEng
)

1125 
sh
.
’gš“ršg
.
’gEx™
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1126 
sh
.
’gš“ršg
.
b©‹ryA¼ay
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1127 
sh
.
’gš“ršg
.
»£¬chDesk
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1128 
sh
.
’gš“ršg
.
’gšeStiÚ
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1129 
sh
.
’gš“ršg
.
ÿrgoA»a
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1130 
sh
.
’gš“ršg
.
commStiÚ
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

1134 
	}
}

1136 
	g¡age
::
	$£tNewgameV¬s
()

1138 
¡d
::
cout
<<"\n„unning stage::setNewgameVars()";

1139 
¶ay”1
.
	`£tX
(380);

1140 
¶ay”1
.
	`£tY
(260);

1141 
habIÁ”ÇlY1
 = 0;

1142 
habIÁ”ÇlY2
 = -600;

1143 
’gIÁ”ÇlY1
 = 0;

1144 
’gIÁ”ÇlY2
 = -600;

1146 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

1148 
¶ay”1
.
Ãed
[
i
] = 100;

1151 
i
=0; i<
TOTAL_SHIP_GAUGES
; i++)

1153 
sh
.
gauge
[
i
] = 100;

1155 
	}
}

1158 
	g¡age
::
	$lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[])

1160 
¡d
::
cout
<<"\n„unning stage::loadSavedGameData(Uint32 dataValues[])";

1161 
¶ay”1
.
	`£tX
(
d©aV®ues
[0]);

1162 
¶ay”1
.
	`£tY
(
d©aV®ues
[1]);

1164 
habIÁ”ÇlY1
 = 
d©aV®ues
[2];

1165 
habIÁ”ÇlY2
 = 
d©aV®ues
[3];

1167 
’gIÁ”ÇlY1
 = 
d©aV®ues
[4];

1168 
’gIÁ”ÇlY2
 = 
d©aV®ues
[5];

1169 
	}
}

1171 
	g¡age
::
	$hªdËStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

1174 if(
bu‰ÚsF»ed
)

1176 if(
¶ay”1
.
š‹¿ùPÏÁ”
 && !
sh
.
hab™©iÚ
.
¶ª‹r
.
¡©iÚO±iÚsLßded
)

1178 
sh
.
hab™©iÚ
.
¶ª‹r
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

1180 if(
¶ay”1
.
š‹¿ùBed
 && !
sh
.
hab™©iÚ
.
bed
.
¡©iÚO±iÚsLßded
)

1182 
sh
.
hab™©iÚ
.
bed
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[3]);

1184 if(
¶ay”1
.
š‹¿ùK™ch’
 && !
sh
.
hab™©iÚ
.
k™ch’
.
¡©iÚO±iÚsLßded
)

1186 
sh
.
hab™©iÚ
.
k™ch’
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[2]);

1188 if(
¶ay”1
.
š‹¿ùInfœm¬y
 && !
sh
.
hab™©iÚ
.
šfœm¬y
.
¡©iÚO±iÚsLßded
)

1190 
sh
.
hab™©iÚ
.
šfœm¬y
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[0]);

1192 if(
¶ay”1
.
š‹¿ùBike
 && !
sh
.
hab™©iÚ
.
bike
.
¡©iÚO±iÚsLßded
)

1194 
sh
.
hab™©iÚ
.
bike
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[1]);

1196 if(
¶ay”1
.
š‹¿ùRec
 && !
sh
.
hab™©iÚ
.
»ü—tiÚ
.
¡©iÚO±iÚsLßded
)

1198 
sh
.
hab™©iÚ
.
»ü—tiÚ
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
¶ay”1
.
Ãed
[4]);

1200 if(
¶ay”1
.
š‹¿ùRe£¬chDesk
 && !
sh
.
’gš“ršg
.
»£¬chDesk
.
¡©iÚO±iÚsLßded
)

1202 
sh
.
’gš“ršg
.
»£¬chDesk
.
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

1206 
	}
}

1208 
	g¡age
::
	$lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
)

1210 
¡d
::
cout
<<"\n„unning stage::loadTimeSurvivedTextures(SDL_Renderer*„enderer)";

1212 
mS
,
hS
,
dS
;

1214 
mS
 = 
timeSurvived
%60;

1215 
hS
 = (
timeSurvived
/60)%24;

1216 
dS
 = ((
timeSurvived
/60)/24);

1219 
¡d
::
¡ršg
 
mSurvived
 = std::
	`to_¡ršg
(
mS
);

1220 
¡d
::
¡ršg
 
hSurvived
 = std::
	`to_¡ršg
(
hS
);

1221 
¡d
::
¡ršg
 
dSurvived
 = std::
	`to_¡ršg
(
dS
);

1224 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

1225 if(!
mšu‹sSurvived
.
	`lßdFromR’d”edText
(
mSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1227 
¡d
::
cout
<<"\n unableo„ender mSurvived stringo minutesSurvived Texture!";

1229 if(!
hoursSurvived
.
	`lßdFromR’d”edText
(
hSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1231 
¡d
::
cout
<<"\n unableo„ender hSurvived stringo hoursSurvived Texture!";

1233 if(!
daysSurvived
.
	`lßdFromR’d”edText
(
dSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1235 
¡d
::
cout
<<"\n unableo„ender dSurvived stringo daysSurvived Texture!";

1237 
	}
}

1239 
	g¡age
::
	$»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
)

1241 
daysSurvived
.
	`»nd”
(420,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1242 
hoursSurvived
.
	`»nd”
(420,25,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1243 
mšu‹sSurvived
.
	`»nd”
(420,50,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

1244 
	}
}

1246 
	g¡age
::
	$ä“TimeSurvivedTextu»s
()

1248 
daysSurvived
.
	`ä“
();

1249 
hoursSurvived
.
	`ä“
();

1250 
mšu‹sSurvived
.
	`ä“
();

1251 
	}
}

1253 
	g¡age
::
	$»äeshTS
(
SDL_R’d””
* 
»nd””
)

1256 
	`ä“TimeSurvivedTextu»s
();

1257 
¡d
::
cout
<<"\n„unning stage::refreshTS(SDL_Renderer*„enderer)";

1259 
mS
,
hS
,
dS
;

1260 
mS
 = 
timeSurvived
%60;

1261 
hS
 = (
timeSurvived
/60)%24;

1262 
dS
 = ((
timeSurvived
/60)/24);

1264 
¡d
::
¡ršg
 
mSurvived
 = std::
	`to_¡ršg
(
mS
);

1265 
¡d
::
¡ršg
 
hSurvived
 = std::
	`to_¡ršg
(
hS
);

1266 
¡d
::
¡ršg
 
dSurvived
 = std::
	`to_¡ršg
(
dS
);

1268 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

1269 if(!
mšu‹sSurvived
.
	`lßdFromR’d”edText
(
mSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1271 
¡d
::
cout
<<"\n unableo„ender mSurvived stringo minutesSurvived Texture!";

1273 if(!
hoursSurvived
.
	`lßdFromR’d”edText
(
hSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1275 
¡d
::
cout
<<"\n unableo„ender hSurvived stringo hoursSurvived Texture!";

1277 if(!
daysSurvived
.
	`lßdFromR’d”edText
(
dSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

1279 
¡d
::
cout
<<"\n unableo„ender dSurvived stringo daysSurvived Texture!";

1281 
	}
}

	@C:\Sojourner\Sojourner\stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

11 
	~"sh.h
"

14 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 6;

16 cÚ¡ 
	gTOTAL_STAGE_UI
 = 1;

18 şas 
	c¡age


20 
	mpublic
:

22 
¡age
();

24 ~
¡age
();

26 
boŞ
 
	mex‹º®V›w
;

28 
boŞ
 
	mš‹º®V›w
;

30 
boŞ
 
	mshowPÏy”
;

32 
boŞ
 
	mšHab
, 
	mšEng
;

34 
boŞ
 
	mbu‰ÚsF»ed
;

38 
	mhabIÁ”ÇlY1
;

39 
	mhabIÁ”ÇlY2
;

41 
	m’gIÁ”ÇlY1
;

42 
	m’gIÁ”ÇlY2
;

44 
	mtimeSurvived
;

46 
Textu»
 
	mdaysSurvived
;

47 
Textu»
 
	mhoursSurvived
;

48 
Textu»
 
	mmšu‹sSurvived
;

51 
Textu»
 
	mİ’šgSequ’ûHou£
;

53 
Textu»
 
	mİ’šgSequ’ûNew¥­”
, 
	miDÚtWªtToLiveOnThisPÏÃtAnymÜeTextu»
,
	mbacky¬dTextu»
;

55 
Textu»
 
	mİ’šgSequ’ûSh
;

58 
TTF_FÚt
 *
	mfÚt
;

60 
Textu»
 
	mthªksTextu»
;

62 
·¿Îax
 
	m¡¬sFÜe
;

63 
·¿Îax
 
	m¡¬sMid
;

64 
·¿Îax
 
	m¡¬sBack
;

66 
tim”
 
	mİ’šgSequ’ûTim”
;

68 
SDL_Reù
 
	mÃw¥­”IÁ”aùiÚ
;

69 
SDL_Reù
 
	mbackdoÜIÁ”aùiÚ
;

71 
boŞ
 
	m·³rR—d
,
	mbackdoÜIÁ”aùed
,
	mšBacky¬d
;

72 
boŞ
 
	m·³rO³n
;

74 
	mdoÜX
,
	mdoÜY
,
	m¿mpX
,
	m¿mpY
;

76 
Textu»
 
	mdoÜ
,
	m¿mp
,
	mobscu»
;

78 
Textu»
 
	masûnsiÚ
, 
	mşoud
, 
	mliáOffSh
;

80 
	m™”©iÚs
;

81 
	m™”©iÚs2
;

83 
boŞ
 
	mbacky¬dF»e
;

85 
SDL_Reù
 
	mÿm”a
;

87 
	masûnsiÚY
,
	mşoudY
,
	mşoudY2
;

89 
boŞ
 
	mcom¶‘e
;

92 
	m¡d
::
¡ršg
 
cou¿ge
, 
	mÃw¥­”
,
	mbacky¬d
, 
	miDÚtWªtToLiveOnThisPÏÃtAnymÜe
,
	mgtfo
;

94 
Textu»
 
	mcou¿geTextu»
, 
	mÃw¥­”Textu»
, 
	mgtfoTextu»
;

96 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

98 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

100 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

102 
	m¡d
::
¡ršg
 
uiFeName
[
TOTAL_STAGE_UI
];

104 
Textu»
 
	mUI
[
TOTAL_STAGE_UI
];

106 
ä“Bu‰Ús
();

107 
ä“BGTextu»s
();

108 
ä“UITextu»s
();

110 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

112 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

114 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

116 
£tFeNames
();

118 
£tBu‰ÚNames
();

120 
hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
gameS‹
);

122 
hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 );

125 
¶ay”
 
	m¶ay”1
;

129 
sh
 
	msh
;

131 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
šHab
, boŞ 
šEng
, boŞ 
sucûss
);

133 
ä“
();

135 
ä“O³nšgSequ’û
();

137 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

139 
lßdFÚt
();

141 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

143 
’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

145 
move
(
couÁedF¿mes
);

147 
£tNewgameV¬s
();

149 
lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[]);

151 
hªdËStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

153 
ä“StiÚBu‰Ús
();

155 
lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
);

157 
»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
);

159 
ä“TimeSurvivedTextu»s
();

161 
»äeshTS
(
SDL_R’d””
* 
»nd””
);

163 
lßdO³nšgSequ’û
(
SDL_R’d””
* 
»nd””
);

165 
ä“Hou£
();

167 
ä“Backy¬d
();

169 
ä“Sky
();

171 
»£tO³nšgSequ’ûV¬ŸbËs
();

173 
»nd”O³nšgSequ’û
(
SDL_R’d””
* 
»nd””
);

175 
	m´iv©e
:

	@C:\Sojourner\Sojourner\station.cpp

1 
	~"¡©iÚ.h
"

3 
	g¡©iÚ
::
	$¡©iÚ
()

5 
¶ª‹rTimeW©”ed
=0;

6 
¶ª‹rDaysS‹
=0;

7 
¶ª‹rS‹
=-1;

8 
¡©iÚO±iÚsLßded
=
çl£
;

9 
	}
}

11 
	g¡©iÚ
::~
	$¡©iÚ
()

14 
	}
}

16 
¡©iÚ
::
	$lßdW©”Tªk
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
shGaugeV®ues
)

18 
¡d
::
cout
<<"\n„unning station::loadWaterTank(SDL_Renderer*„enderer, TTF_Font* font, int shipGaugeValues[])";

21 
¡©iÚX
 = 100;

22 
¡©iÚY
 = 25;

23 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

24 
¡©iÚH
 = 34;

25 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

26 
cŞlidabË
.
x
 = 
¡©iÚX
;

27 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

28 
cŞlidabË
.
w
 = 87;

29 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

30 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

31 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

32 
š‹¿ùabË
.
w
=
cŞlidabË
.w+6;

33 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

35 
w©”Gauge
 = 
shGaugeV®ues
;

36 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/W©”Tªk.²g",
»nd””
);

37 
¡©iÚDeçuÉIÁ”aùiÚText
 = 
¡d
::
	`to_¡ršg
(
w©”Gauge
);

38 
¡©iÚDeçuÉIÁ”aùiÚText
 = stationDefaultInteractionText + " Liters";

39 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

40 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

42 
¡d
::
cout
<<"\n unableo„ender waterLevel stringo waterLevelTexture!";

44 
	}
}

46 
	g¡©iÚ
::
	$lßdEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

48 
¡d
::
cout
<<"\n„unning station::loadEngExit(SDL_Renderer*„enderer, TTF_Font* font)";

49 
¡©iÚX
 = 10;

50 
¡©iÚY
 = 390;

51 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

52 
¡©iÚH
 = 10;

53 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

54 
cŞlidabË
.
x
 = 
¡©iÚX
;

55 
cŞlidabË
.
y
 = 
¡©iÚY
 + (
¡©iÚH
/2);

56 
cŞlidabË
.
w
 = 10;

57 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

58 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x-3;

59 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y - 3;

60 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w + 6;

61 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h + 6;

62 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/’gEx™.²g",
»nd””
);

63 
¡©iÚDeçuÉIÁ”aùiÚText
 = "Leaving Engineering Module";

64 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

65 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

67 
¡d
::
cout
<<"\n unableo„enderƒngExitDefault stringoƒngExitDefaultTexture!";

69 
	}
}

71 
	g¡©iÚ
::
	$lßdB©‹ryA¼ay
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
shGaugeV®ues
)

73 
¡d
::
cout
<<"\n„unning station::loadBatteryArray(SDL_Renderer*„enderer, TTF_Font* font, int shipGaugeValues)";

76 
¡©iÚX
 = 100;

77 
¡©iÚY
 = 25;

78 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

79 
¡©iÚH
 = 34;

80 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

81 
cŞlidabË
.
x
 = 
¡©iÚX
;

82 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

83 
cŞlidabË
.
w
 = 87;

84 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

85 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

86 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

87 
š‹¿ùabË
.
w
=
cŞlidabË
.w+6;

88 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

90 
b©‹ryGauge
 = 
shGaugeV®ues
;

91 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/b©‹ryA¼ay.²g",
»nd””
);

92 
¡©iÚDeçuÉIÁ”aùiÚText
 = 
¡d
::
	`to_¡ršg
(
b©‹ryGauge
);

93 
¡©iÚDeçuÉIÁ”aùiÚText
 = stationDefaultInteractionText + "…ercent charge";

94 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

95 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

97 
¡d
::
cout
<<"\n unableo„ender stationDefaultInteractionText stringo stationDefaultInteractionTextTexture!";

99 
	}
}

101 
	g¡©iÚ
::
	$lßdC¬goA»a
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

104 
¡d
::
cout
<<"\n„unning station::loadCargoArea(SDL_Renderer*„enderer, TTF_Font* font)";

107 
¡©iÚX
 = 500;

108 
¡©iÚY
 = 250;

109 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

110 
¡©iÚH
 = 100;

111 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

112 
cŞlidabË
.
x
 = 
¡©iÚX
+6;

113 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

114 
cŞlidabË
.
w
 = 187;

115 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

116 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

117 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

118 
š‹¿ùabË
.
w
=
cŞlidabË
.w+6;

119 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

122 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/ÿrgoA»a.²g",
»nd””
);

131 
šv’tÜyBG
.
	`lßdFromFe
("images/šv’tÜy.²g",
»nd””
);

133 
bu‰ÚSŒšg
.
	`push_back
("inventory");

134 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

135 
Textu»
 
‹mpTextTextu»
;

136 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

137 if(
bu‰ÚAvaabË
.
	`size
() == 0)

139 
bu‰ÚAvaabË
.
	`push_back
(
Œue
);

141 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

142 
	}
}

144 
	g¡©iÚ
::
	$lßdCommStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

146 
¡d
::
cout
<<"\n„unning station::loadCommStation(SDL_Renderer*„enderer, TTF_Font* font)";

149 
¡©iÚX
 = 600;

150 
¡©iÚY
 = 25;

151 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

152 
¡©iÚH
 = 40;

153 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

154 
cŞlidabË
.
x
 = 
¡©iÚX
+6;

155 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

156 
cŞlidabË
.
w
 = 87;

157 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

158 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

159 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

160 
š‹¿ùabË
.
w
=
cŞlidabË
.w+6;

161 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

164 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/commStiÚ.²g",
»nd””
);

165 
¡©iÚDeçuÉIÁ”aùiÚText
 = "comm station still in development";

166 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

167 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

169 
¡d
::
cout
<<"\n unableo„ender stationDefaultInteractionText stringo stationDefaultInteractionTextTexture!";

171 
	}
}

173 
	g¡©iÚ
::
	$lßdEngšeStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
shGaugeV®ues
)

175 
¡d
::
cout
<<"\n„unning station::loadEngineStation(SDL_Renderer*„enderer, TTF_Font* font, int shipGaugeValues)";

178 
¡©iÚX
 = 100;

179 
¡©iÚY
 = 250;

180 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

181 
¡©iÚH
 = 100;

182 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

183 
cŞlidabË
.
x
 = 
¡©iÚX
+40;

184 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

185 
cŞlidabË
.
w
 = 105;

186 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

187 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x-2;

188 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y-3;

189 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w+4;

190 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h+6;

192 
fu–Gauge
 = 
shGaugeV®ues
;

193 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/’gšeStiÚ.²g",
»nd””
);

194 
¡©iÚDeçuÉIÁ”aùiÚText
 = 
¡d
::
	`to_¡ršg
(
fu–Gauge
);

195 
¡©iÚDeçuÉIÁ”aùiÚText
 = stationDefaultInteractionText + "…ercent fuel";

196 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

197 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

199 
¡d
::
cout
<<"\n unableo„ender stationDefaultInteractionText stringo stationDefaultInteractionTextTexture!";

201 
	}
}

203 
	g¡©iÚ
::
	$lßdRe£¬chDesk
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

205 
¡d
::
cout
<<"\n„unning station::loadResearchDesk(SDL_Renderer*„enderer, TTF_Font* font)";

208 
¡©iÚX
 = 100;

209 
¡©iÚY
 = 500;

210 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

211 
¡©iÚH
 = 45;

212 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

213 
cŞlidabË
.
x
 = 
¡©iÚX
;

214 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

215 
cŞlidabË
.
w
 = 90;

216 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

217 
š‹¿ùabË
.
x
=
cŞlidabË
.x-3;

218 
š‹¿ùabË
.
y
=
cŞlidabË
.y-3;

219 
š‹¿ùabË
.
w
=
cŞlidabË
.w+6;

220 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

222 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/»£¬chDesk.²g",
»nd””
);

223 
bu‰ÚSŒšg
.
	`push_back
("Research");

224 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

225 
Textu»
 
‹mpTextTextu»
;

226 if(
bu‰ÚTextTextu»
.
	`size
() == 0)

228 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

231 if(
bu‰ÚAvaabË
.
	`size
() == 0)

233 
bu‰ÚAvaabË
.
	`push_back
(
Œue
);

235 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

244 
	}
}

246 
	g¡©iÚ
::
	$lßdHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

248 
¡d
::
cout
<<"\n„unning station::loadHabExit(SDL_Renderer*„enderer, TTF_Font* font)";

249 
¡©iÚX
 = 790;

250 
¡©iÚY
 = 395;

251 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

252 
¡©iÚH
 = 10;

253 
¡©iÚBÙ
 = 
¡©iÚY
 +
¡©iÚH
;

254 
cŞlidabË
.
x
 = 
¡©iÚX
;

255 
cŞlidabË
.
y
 = 
¡©iÚY
 + (
¡©iÚH
/2);

256 
cŞlidabË
.
w
 = 10;

257 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

258 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x - 3;

259 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y - 3;

260 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w + 6;

261 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h + 6;

262 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/habEx™.²g",
»nd””
);

263 
¡©iÚDeçuÉIÁ”aùiÚText
 = "Leaving Habitation Module";

264 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

265 if(!
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`lßdFromR’d”edText
(
¡©iÚDeçuÉIÁ”aùiÚText
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

267 
¡d
::
cout
<<"\n unableo„ender habExitDefault stringo habExitDefaultTexture!";

269 
	}
}

271 
	g¡©iÚ
::
	$lßdRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
)

273 
¡d
::
cout
<<"\n„unning station::loadRec(SDL_Renderer*„enderer, TTF_Font* font)";

274 
¡©iÚX
 = 510;

275 
¡©iÚY
 = 850;

276 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

277 
¡©iÚH
 = 100;

278 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

279 
cŞlidabË
.
x
 = 
¡©iÚX
;

280 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

281 
cŞlidabË
.
w
 = 120;

282 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

283 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x-2;

284 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y-2;

285 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w+4;

286 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h+4;

287 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/»ü—tiÚ.²g",
»nd””
);

288 
bu‰ÚSŒšg
.
	`push_back
("Relax");

289 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

290 
Textu»
 
‹mpTextTextu»
;

291 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

292 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
Ãed
);

293 
	}
}

295 
	g¡©iÚ
::
	$lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
Ãed
)

297 
¡d
::
cout
<<"\n„unning station::loadStationButtonTextTextures(SDL_Renderer*„enderer,TTF_Font* font,int‚eed)";

298 
¡d
::
cout
<<"\Àbu‰ÚTextTextu».size(èğ"<<
bu‰ÚTextTextu»
.
	`size
();

299 if(
bu‰ÚTextTextu»
.
	`size
()>0)

301 
Ušt32
 
i
 = 0; i<
bu‰ÚTextTextu»
.
	`size
(); i++)

303 if(
Ãed
 == 100)

305 
¡d
::
cout
<<"\n unavailable";

306 if(!
bu‰ÚTextTextu»
[
i
].
	`lßdFromR’d”edText
(
bu‰ÚSŒšg
[i],
uÇvaabË
,
fÚt
,
»nd””
))

308 
¡d
::
cout
<<"\n unableo„ender station buttonexto station buttonextexture!";

313 
¡d
::
cout
<<"\n‡vailable";

314 if(!
bu‰ÚTextTextu»
[
i
].
	`lßdFromR’d”edText
(
bu‰ÚSŒšg
[i],
avaabË
,
fÚt
,
»nd””
))

316 
¡d
::
cout
<<"\n unableo„ender station buttonexto station buttonextexture!";

322 
¡©iÚO±iÚsLßded
 = 
Œue
;

323 
	}
}

325 
	g¡©iÚ
::
	$lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

327 
¡d
::
cout
<<"\n„unning station::loadStationButtonTextTextures(SDL_Renderer*„enderer,TTF_Font* font)";

328 
¡d
::
cout
<<"\Àbu‰ÚTextTextu».size(èğ"<<
bu‰ÚTextTextu»
.
	`size
();

329 if(
bu‰ÚTextTextu»
.
	`size
()>0)

331 
Ušt32
 
i
 = 0; i<
bu‰ÚTextTextu»
.
	`size
(); i++)

333 if(!
bu‰ÚAvaabË
[
i
])

335 
¡d
::
cout
<<"\n unavailable";

336 if(!
bu‰ÚTextTextu»
[
i
].
	`lßdFromR’d”edText
(
bu‰ÚSŒšg
[i],
uÇvaabË
,
fÚt
,
»nd””
))

338 
¡d
::
cout
<<"\n unableo„ender station buttonexto station buttonextexture!";

343 
¡d
::
cout
<<"\n‡vailable";

344 if(!
bu‰ÚTextTextu»
[
i
].
	`lßdFromR’d”edText
(
bu‰ÚSŒšg
[i],
avaabË
,
fÚt
,
»nd””
))

346 
¡d
::
cout
<<"\n unableo„ender station buttonexto station buttonextexture!";

352 
¡©iÚO±iÚsLßded
 = 
Œue
;

353 
	}
}

355 
	g¡©iÚ
::
	$lßdBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
)

357 
¡d
::
cout
<<"\n„unning station::loadBike(SDL_Renderer*„enderer, TTF_Font* font)";

358 
¡©iÚX
 = 100;

359 
¡©iÚY
 = 850;

360 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

361 
¡©iÚH
 = 100;

362 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

363 
cŞlidabË
.
x
 = 
¡©iÚX
 + 40;

364 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

365 
cŞlidabË
.
w
 = 100;

366 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

367 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x-2;

368 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y-2;

369 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w+4;

370 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h+4;

372 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¡©iÚ¬yBicyşe.²g", 
»nd””
);

373 
bu‰ÚSŒšg
.
	`push_back
("Exercise");

374 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

375 
Textu»
 
‹mpTextTextu»
;

376 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

377 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
Ãed
);

378 
	}
}

380 
	g¡©iÚ
::
	$lßdInfœm¬y
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
Ãed
)

382 
¡d
::
cout
<<"\n„unning station::loadInfirmary(SDL_Renderer*„enderer,TTF_Font* font)";

384 
¡©iÚX
 = 500;

385 
¡©iÚY
 = 250;

386 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

387 
¡©iÚH
 = 80;

388 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

389 
cŞlidabË
.
x
 = 
¡©iÚX
+40;

390 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

391 
cŞlidabË
.
w
 = 105;

392 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

393 
š‹¿ùabË
.
x
 = 
cŞlidabË
.x-2;

394 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y-3;

395 
š‹¿ùabË
.
w
 = 
cŞlidabË
.w+4;

396 
š‹¿ùabË
.
h
 = 
cŞlidabË
.h+6;

399 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/šfœm¬y.²g",
»nd””
);

400 
bu‰ÚSŒšg
.
	`push_back
("Heal");

401 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

402 
Textu»
 
‹mpTextTextu»
;

403 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

404 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
Ãed
);

405 
	}
}

407 
	g¡©iÚ
::
	$lßdK™ch’
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
)

409 
¡d
::
cout
<<"\n„unning station::loadKitchen(SDL_Renderer*„enderer,TTF_Font* font)";

411 
¡©iÚX
 = 100;

412 
¡©iÚY
 = 250;

413 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

414 
¡©iÚH
 = 100;

415 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

416 
cŞlidabË
.
x
 = 
¡©iÚX
;

417 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

418 
cŞlidabË
.
w
 = 200;

419 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

420 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

421 
š‹¿ùabË
.
y
=
cŞlidabË
.y-3;

422 
š‹¿ùabË
.
w
=
cŞlidabË
.w+4;

423 
š‹¿ùabË
.
h
=
cŞlidabË
.h+6;

424 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/k™ch’.²g",
»nd””
);

425 
bu‰ÚSŒšg
.
	`push_back
("Eat");

426 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

427 
Textu»
 
‹mpTextTextu»
;

428 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

429 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
Ãed
);

430 
	}
}

432 
	g¡©iÚ
::
	$lßdPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

434 
¡d
::
cout
<<"\n„unning station::loadPlanter(SDL_Renderer*„enderer,TTF_Font* font)";

436 
¡©iÚX
 = 600;

437 
¡©iÚY
 = 25;

438 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

439 
¡©iÚH
 = 50;

440 
¡©iÚBÙ
 = 
¡©iÚY
+
¡©iÚH
;

441 
cŞlidabË
.
x
 = 
¡©iÚX
;

442 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

443 
cŞlidabË
.
w
 = 100;

444 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

445 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

446 
š‹¿ùabË
.
y
=
cŞlidabË
.y-2;

447 
š‹¿ùabË
.
w
=
cŞlidabË
.w+4;

448 
š‹¿ùabË
.
h
=
cŞlidabË
.h+4;

449 if(
¶ª‹rS‹
 == -1)

451 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹r.²g",
»nd””
);

453 if(
bu‰ÚSŒšg
.
	`size
() == 0)

455 
bu‰ÚSŒšg
.
	`push_back
("Plant");

456 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

458 if(
bu‰ÚSŒšg
.
	`size
()==1)

460 
bu‰ÚSŒšg
.
	`push_back
("Water Plants");

461 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[1]: "<<
bu‰ÚSŒšg
[1];

463 if(
bu‰ÚSŒšg
.
	`size
()==2)

465 
bu‰ÚSŒšg
.
	`push_back
("Harvest");

466 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[2]: "<<
bu‰ÚSŒšg
[2];

468 
Textu»
 
‹mpTextTextu»
;

469 if(
bu‰ÚTextTextu»
.
	`size
()==0)

471 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

472 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

473 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

475 
¡d
::
cout
<<"\Àbu‰ÚTextTextu».size(èğ"<<
bu‰ÚTextTextu»
.
	`size
();

476 if(
bu‰ÚAvaabË
.
	`size
() == 0)

478 
bu‰ÚAvaabË
.
	`push_back
(
Œue
);

479 
bu‰ÚAvaabË
.
	`push_back
(
çl£
);

480 
bu‰ÚAvaabË
.
	`push_back
(
çl£
);

482 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
);

483 
	}
}

485 
	g¡©iÚ
::
	$lßdBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
Ãed
)

487 
¡d
::
cout
<<"\n„unning station::loadBed(SDL_Renderer*„enderer,TTF_Font* font)";

489 
¡©iÚX
 = 100;

490 
¡©iÚY
 = 500;

491 
¡©iÚIn™ŸlY
 = 
¡©iÚY
;

492 
¡©iÚH
 = 37;

493 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

494 
cŞlidabË
.
x
 = 
¡©iÚX
;

495 
cŞlidabË
.
y
 = 
¡©iÚY
+(
¡©iÚH
/2);

496 
cŞlidabË
.
w
 = 85;

497 
cŞlidabË
.
h
 = 
¡©iÚH
/2;

498 
š‹¿ùabË
.
x
=
cŞlidabË
.x-2;

499 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

500 
š‹¿ùabË
.
w
=
cŞlidabË
.w+4;

501 
š‹¿ùabË
.
h
=
cŞlidabË
.h+10;

502 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¦“pšgbag.²g",
»nd””
);

503 
bu‰ÚSŒšg
.
	`push_back
("Sleep");

504 
¡d
::
cout
<<"\Àbu‰ÚSŒšg[0]: "<<
bu‰ÚSŒšg
[0];

505 
Textu»
 
‹mpTextTextu»
;

506 
bu‰ÚTextTextu»
.
	`push_back
(
‹mpTextTextu»
);

507 
	`lßdStiÚBu‰ÚTextTextu»s
(
»nd””
,
fÚt
,
Ãed
);

508 
	}
}

510 
	g¡©iÚ
::
	$upd©eHabPos™iÚ
(
y
)

513 
¡©iÚY
 = 
y
 + 
¡©iÚIn™ŸlY
;

514 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

515 
cŞlidabË
.
y
=
¡©iÚY
 + (
¡©iÚH
/2);

516 
š‹¿ùabË
.
y
=
cŞlidabË
.y-4;

517 
	}
}

519 
	g¡©iÚ
::
	$upd©eEngPos™iÚ
(
y
)

521 
¡©iÚY
 = 
y
 + 
¡©iÚIn™ŸlY
;

522 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

523 
cŞlidabË
.
y
 = 
¡©iÚY
 + (
¡©iÚH
/2);

524 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y -4;

525 
	}
}

527 
	g¡©iÚ
::
	$upd©eHabPos™iÚ2
(
y
)

529 
¡©iÚY
 = 
y
 + (
¡©iÚIn™ŸlY
 - 600);

530 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

531 
cŞlidabË
.
y
 = 
¡©iÚY
 + (
¡©iÚH
/2);

532 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y - 2;

533 
	}
}

535 
	g¡©iÚ
::
	$upd©eEngPos™iÚ2
(
y
)

537 
¡©iÚY
 = 
y
 + 
¡©iÚIn™ŸlY
;

538 
¡©iÚBÙ
 = 
¡©iÚY
 + 
¡©iÚH
;

539 
cŞlidabË
.
y
 = 
¡©iÚY
 + (
¡©iÚH
/2);

540 
š‹¿ùabË
.
y
 = 
cŞlidabË
.y -4;

541 
	}
}

543 
	g¡©iÚ
::
	$»nd”IÁ”aùStiÚ
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

547 
y
-=20;

549 if(
x
+
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`g‘Width
() < 800)

551 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

555 if(
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`g‘Width
(è< 
x
)

557 
‹mp
 = 
x
 - 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`g‘Width
();

558 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`»nd”
(
‹mp
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

563 
‹mp2
 = 800 - 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`g‘Width
();

564 if(
‹mp2
<0)

566 
‹mp2
 = 0;

568 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`»nd”
(
‹mp2
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

573 
	}
}

575 
	g¡©iÚ
::
	$»nd”IÁ”aùStiÚBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

577 if(
bu‰ÚTextTextu»
.
	`size
() > 0)

579 
x
+=50;

580 
y
-=20;

581 
bu‰ÚTextTextu»
[0].
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

582 if(
bu‰ÚTextTextu»
.
	`size
() > 1)

584 
Ušt32
 
i
 = 1; i<
bu‰ÚTextTextu»
.
	`size
(); i++)

586 
y
+=20;

587 
bu‰ÚTextTextu»
[
i
].
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

591 
	}
}

593 
	g¡©iÚ
::
	$»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
)

595 if(
¶ay”BÙ
>
¡©iÚBÙ
)

597 
¡©iÚTextu»
.
	`»nd”
(
¡©iÚX
,
¡©iÚY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

599 
	}
}

601 
	g¡©iÚ
::
	$»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
)

603 if(
¶ay”BÙ
>
¡©iÚBÙ
)

605 
¡©iÚTextu»
.
	`»nd”
(
¡©iÚX
,
¡©iÚY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

607 
	}
}

609 
	g¡©iÚ
::
	$»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
)

611 if(
¶ay”BÙ
<=
¡©iÚBÙ
)

613 
¡©iÚTextu»
.
	`»nd”
(
¡©iÚX
,
¡©iÚY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

615 
	}
}

617 
	g¡©iÚ
::
	$»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
)

619 if(
¶ay”BÙ
<=
¡©iÚBÙ
)

621 
¡©iÚTextu»
.
	`»nd”
(
¡©iÚX
,
¡©iÚY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

623 
	}
}

624 
	g¡©iÚ
::
	$ä“
()

626 
¡d
::
cout
<<"\n„unning station::free()";

627 
¡©iÚTextu»
.
	`ä“
();

628 
¡©iÚDeçuÉIÁ”aùiÚTextTextu»
.
	`ä“
();

629 
bu‰ÚSŒšg
.
	`size
()>0)

631 
bu‰ÚSŒšg
.
	`pİ_back
();

633 
bu‰ÚTextTextu»
.
	`size
()>0)

635 
bu‰ÚTextTextu»
.
	`pİ_back
();

637 
bu‰ÚAvaabË
.
	`size
()>0)

639 
bu‰ÚAvaabË
.
	`pİ_back
();

641 
	}
}

643 
	g¡©iÚ
::
	$upd©ePÏÁ
(
SDL_R’d””
* 
»nd””
, 
timeSurvived
)

645 
¡d
::
cout
<<"\n„unning station::updatePlant(intimeSurvived)";

646 if(
¶ª‹rS‹
<4)

648 if(
timeSurvived
-
¶ª‹rTimeW©”ed
 > 1440 && !
bu‰ÚAvaabË
[1] && !buttonAvailable[2])

653 
bu‰ÚAvaabË
[1] = 
Œue
;

654 
¶ª‹rDaysS‹
++;

655 if(
¶ª‹rDaysS‹
 >= 5)

659 
¶ª‹rS‹
++;

660 
¶ª‹rDaysS‹
 = 0;

661 if(
¶ª‹rS‹
 == 4)

663 
bu‰ÚAvaabË
[2] = 
Œue
;

664 
bu‰ÚAvaabË
[1] = 
çl£
;

669 
¡d
::
cout
<<"\Àw©”PÏÁsOkay: "<<
bu‰ÚAvaabË
[1];

670 
¡d
::
cout
<<"\À¶ª‹rDaysS‹: "<<
¶ª‹rDaysS‹
;

671 
¡d
::
cout
<<"\À¶ª‹rS‹: "<<
¶ª‹rS‹
;

672 
¡d
::
cout
<<"\Àh¬ve¡Okay: "<<
bu‰ÚAvaabË
[2];

673 
	`upd©ePÏÁTextu»
(
»nd””
);

674 
	}
}

676 
	g¡©iÚ
::
	$upd©ePÏÁTextu»
(
SDL_R’d””
* 
»nd””
)

678 
¡d
::
cout
<<"\n„unning station::updatePlantTexture(SDL_Renderer*„enderer)";

679 
¡©iÚTextu»
.
	`ä“
();

680 
¡d
::
cout
<<"\Àw©”PÏÁsOkay: "<<
bu‰ÚAvaabË
[1];

681 
¡d
::
cout
<<"\À¶ª‹rS‹: "<<
¶ª‹rS‹
;

682 if(
bu‰ÚAvaabË
[1])

684 
¶ª‹rS‹
)

687 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rSown.²g",
»nd””
);

690 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rS“dlšg.²g",
»nd””
);

693 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rVeg‘©ive.²g",
»nd””
);

696 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rFlow”šg.²g",
»nd””
);

699 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rRe.²g",
»nd””
);

705 
¶ª‹rS‹
)

708 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rSownW©”ed.²g",
»nd””
);

711 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rS“dlšgW©”ed.²g",
»nd””
);

714 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rVeg‘©iveW©”ed.²g",
»nd””
);

717 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rFlow”šgW©”ed.²g",
»nd””
);

720 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rReW©”ed.²g",
»nd””
);

724 if(
¶ª‹rS‹
 == -1)

726 
¡©iÚTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹r.²g",
»nd””
);

728 
	}
}

730 
	g¡©iÚ
::
	$di¥ÏyInv’tÜy
(
SDL_R’d””
* 
»nd””
)

733 if(
šv’tÜyDi¥Ïyšg
)

735 
šv’tÜyBG
.
	`»nd”
(50,50,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

737 
	}
}

739 
	g¡©iÚ
::
	$ä“Inv’tÜy
()

741 
¡d
::
cout
<<"\n„unning station::freeInventory()";

742 
šv’tÜyBG
.
	`ä“
();

743 
	}
}

	@C:\Sojourner\Sojourner\station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~<veùÜ
>

8 şas 
	c¡©iÚ


10 
	mpublic
:

12 
¡©iÚ
();

14 ~
¡©iÚ
();

16 
	m¡©iÚX
,
	m¡©iÚY
,
	m¡©iÚH
,
	m¡©iÚBÙ
;

18 
	m¡©iÚIn™ŸlY
;

20 
	m¶ª‹rTimeW©”ed
, 
	m¶ª‹rDaysS‹
, 
	m¶ª‹rS‹
;

22 cÚ¡ 
	mSTATIONS
 = 10;

24 
	m¡d
::
¡ršg
 
¡©iÚDeçuÉIÁ”aùiÚText
;

27 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
bu‰ÚSŒšg
;

29 
	m¡d
::
veùÜ
<
boŞ
> 
bu‰ÚAvaabË
;

33 
boŞ
 
	m¡©iÚO±iÚsLßded
;

36 
Textu»
 
	m¡©iÚDeçuÉIÁ”aùiÚTextTextu»
;

38 
Textu»
 
	mšv’tÜyBG
;

40 
boŞ
 
	mšv’tÜyDi¥Ïyšg
;

43 
SDL_CŞÜ
 
	mavaabË
 = {255,255,255};

44 
SDL_CŞÜ
 
	guÇvaabË
 = {0,0,0};

46 
	g¡d
::
veùÜ
<
Textu»
> 
bu‰ÚTextTextu»
;

52 
Textu»
 
	g¡©iÚTextu»
;

55 
SDL_Reù
 
	gcŞlidabË
;

57 
SDL_Reù
 
	gš‹¿ùabË
;

60 
lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

61 
lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

64 
lßdHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

65 
lßdRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

66 
lßdBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
);

67 
lßdInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
);

68 
lßdW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
w©”Gauge
);

69 
lßdBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
);

70 
lßdPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

71 
lßdK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

73 
lßdEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

74 
lßdB©‹ryA¼ay
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
pow”Gauge
);

75 
lßdRe£¬chDesk
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

76 
lßdEngšeStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
fu–Gauge
);

77 
lßdC¬goA»a
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

78 
lßdCommStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

80 
»nd”IÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

81 
»nd”IÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

83 
»nd”IÁ”aùStiÚ
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

85 
»nd”IÁ”aùStiÚBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
x
,
y
);

87 
upd©eHabPos™iÚ
(
y
);

89 
upd©eHabPos™iÚ2
(
y
);

91 
upd©eEngPos™iÚ
(
y
);

93 
upd©eEngPos™iÚ2
(
y
);

95 
»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

97 
»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

99 
»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

101 
»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

103 
ä“
();

105 
upd©ePÏÁ
(
SDL_R’d””
* 
»nd””
, 
timeSurvived
);

107 
upd©ePÏÁTextu»
(
SDL_R’d””
* 
»nd””
);

109 
di¥ÏyInv’tÜy
(
SDL_R’d””
* 
»nd””
);

111 
ä“Inv’tÜy
();

113 
	g´iv©e
:

	@C:\Sojourner\Sojourner\text.cpp

1 
	~"‹xt.h
"

3 
	g‹xt
::
	$‹xt
()

8 
	}
}

10 
‹xt
::~
	$‹xt
()

13 
	}
}

15 
‹xt
::
	$lßdText
(
SDL_R’d””
* 
»nd””
)

17 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 16 );

18 
fÚt2
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 12 );

23 
	`SDL_S¹TextIÅut
();

24 
	}
}

26 
	g‹xt
::
	$lßdNemoy
(
SDL_R’d””
* 
»nd””
)

28 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/", 12);

29 
	`SDL_S¹TextIÅut
();

30 
	}
}

32 
	g‹xt
::
	$ä“
()

34 
	`TTF_Clo£FÚt
Ğ
fÚt
 );

35 
fÚt
 = 
NULL
;

36 
	}
}

	@C:\Sojourner\Sojourner\text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

15 
TTF_FÚt
* 
	mfÚt
;

17 
TTF_FÚt
* 
	mfÚt2
;

19 
lßdText
(
SDL_R’d””
* 
»nd””
);

21 
lßdNemoy
(
SDL_R’d””
* 
»nd””
);

23 
ä“
();

26 
	m´iv©e
:

	@C:\Sojourner\Sojourner\texture.cpp

1 
	~"Textu».h
"

3 
	gTextu»
::
	$Textu»
()

6 
‹xtu»
 = 
NULL
;

7 
width
 = 0;

8 
height
 = 0;

9 
	}
}

11 
	gTextu»
::~
	$Textu»
()

15 
	`ä“
();

16 
	}
}

29 
boŞ
 
	gTextu»
::
	$lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
)

32 
	`ä“
();

35 
SDL_Textu»
* 
ÃwTextu»
 = 
NULL
;

38 
SDL_Surçû
* 
lßdedSurçû
 = 
	`IMG_Lßd
Ğ
·th
.
	`c_¡r
() );

39 ifĞ
lßdedSurçû
 =ğ
NULL
 )

41 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

46 
	`SDL_S‘CŞÜKey
Ğ
lßdedSurçû
, 
SDL_TRUE
, 
	`SDL_M­RGB
ĞlßdedSurçû->
fÜm©
, 0, 0xFF, 0xFF ) );

49 
ÃwTextu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
lßdedSurçû
 );

50 ifĞ
ÃwTextu»
 =ğ
NULL
 )

52 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

57 
width
 = 
lßdedSurçû
->
w
;

58 
height
 = 
lßdedSurçû
->
h
;

62 
	`SDL_F»eSurçû
Ğ
lßdedSurçû
 );

66 
‹xtu»
 = 
ÃwTextu»
;

67  
‹xtu»
 !ğ
NULL
;

68 
	}
}

70 #ià
defšed
(
SDL_TTF_MAJOR_VERSION
)

71 
boŞ
 
	gTextu»
::
	$lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
)

74 
	`ä“
();

77 
SDL_Surçû
* 
tSurçû
 = 
	`TTF_R’d”Text_SŞid
Ğ
fÚt
, 
‹xt
.
	`c_¡r
(), 
cŞÜ
 );

78 ifĞ
tSurçû
 !ğ
NULL
 )

81 
‹xtu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
tSurçû
 );

82 ifĞ
‹xtu»
 =ğ
NULL
 )

84 
	`´štf
Ğ"UÇbËØü—‹extu» from„’d”edext! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

89 
width
 = 
tSurçû
->
w
;

90 
height
 = 
tSurçû
->
h
;

94 
	`SDL_F»eSurçû
Ğ
tSurçû
 );

98 
	`´štf
Ğ"UÇbËØ»nd”exˆsurçû! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

103  
‹xtu»
 !ğ
NULL
;

104 
	}
}

107 
	gTextu»
::
	$ä“
()

110 ifĞ
‹xtu»
 !ğ
NULL
 )

112 
	`SDL_De¡royTextu»
Ğ
‹xtu»
 );

113 
‹xtu»
 = 
NULL
;

114 
width
 = 0;

115 
height
 = 0;

117 
	}
}

119 
	gTextu»
::
	$£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 )

122 
	`SDL_S‘Textu»CŞÜMod
Ğ
‹xtu»
, 
»d
, 
g»’
, 
blue
 );

123 
	}
}

125 
	gTextu»
::
	$£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 )

128 
	`SDL_S‘Textu»BËndMode
Ğ
‹xtu»
, 
bËndšg
 );

129 
	}
}

131 
	gTextu»
::
	$£tAÍha
Ğ
Ušt8
 
®pha
 )

134 
	`SDL_S‘Textu»AÍhaMod
Ğ
‹xtu»
, 
®pha
 );

135 
	}
}

137 
	gTextu»
::
	$»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
, 
ªgË
, 
SDL_Pošt
* 
ûÁ”
, 
SDL_R’d””Fl
 
æ
, 
SDL_R’d””
* 
»nd””
 )

140 
SDL_Reù
 
»nd”Quad
 = { 
x
, 
y
, 
width
, 
height
 };

143 ifĞ
ş
 !ğ
NULL
 )

145 
»nd”Quad
.
w
 = 
ş
->w;

146 
»nd”Quad
.
h
 = 
ş
->h;

150 
	`SDL_R’d”CİyEx
Ğ
»nd””
, 
‹xtu»
, 
ş
, &
»nd”Quad
, 
ªgË
, 
ûÁ”
, 
æ
 );

151 
	}
}

153 
	gTextu»
::
	$timedR’d”
(
ticks
, 
x
, 
y
, 
Textu»
& 
‹mpTextu»
, 
SDL_R’d””
* 
»nd””
)

156 
tim”
 
‹mpTim”
;

157 
‹mpTim”
.
	`¡¬t
();

158 if(
ticks
 > 
‹mpTim”
.
	`g‘Ticks
())

160 
‹mpTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

163 
‹mpTextu»
.
	`ä“
();

167 
	}
}

169 
	gTextu»
::
	$g‘Width
()

171  
width
;

172 
	}
}

174 
	gTextu»
::
	$g‘Height
()

176  
height
;

177 
	}
}

180 
SDL_Textu»
* 
	$lßdTextu»
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
,
SDL_R’d””
* 
»nd””
 )

182 
SDL_Textu»
* 
‹xtu»
 = 
NULL
;

185 
SDL_Surçû
* 
surçû
 = 
	`IMG_Lßd
Ğ
feLoÿtiÚ
.
	`c_¡r
() );

186 ifĞ
surçû
 =ğ
NULL
 )

188 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
feLoÿtiÚ
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

193 
‹xtu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
surçû
 );

194 ifĞ
‹xtu»
 =ğ
NULL
 )

196 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
feLoÿtiÚ
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

200 
	`SDL_F»eSurçû
Ğ
surçû
 );

203  
‹xtu»
;

204 
	}
}

	@C:\Sojourner\Sojourner\texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

19 
	~"tim”.h
"

21 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

22 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

25 şas 
	cTextu»


27 
	mpublic
:

29 
Textu»
();

32 ~
Textu»
();

35 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

40 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

42 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

44 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

48 
	`ä“
();

51 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

54 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

57 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

60 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`timedR’d”
(
ticks
, 
x
, 
y
, 
Textu»
& 
‹mpTextu»
, 
SDL_R’d””
* 
»nd””
=
NULL
);

65 
	`g‘Width
();

66 
	`g‘Height
();

70 
´iv©e
:

72 
SDL_Textu»
* 
‹xtu»
;

75 
width
;

76 
height
;

	@C:\Sojourner\Sojourner\timer.cpp

1 
	~"tim”.h
"

3 
	gtim”
::
	$tim”
()

6 
¡¬tTicks
 = 0;

7 
·u£dTicks
 = 0;

9 
·u£d
 = 
çl£
;

10 
¡¬‹d
 = 
çl£
;

11 
	}
}

13 
	gtim”
::
	$¡¬t
()

17 
¡¬‹d
 = 
Œue
;

20 
·u£d
 = 
çl£
;

23 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

24 
·u£dTicks
 = 0;

25 
	}
}

27 
	gtim”
::
	$»¡¬t
()

31 
¡¬‹d
 = 
çl£
;

34 
·u£d
 = 
çl£
;

37 
¡¬tTicks
 = 0;

38 
·u£dTicks
 = 0;

40 
¡¬‹d
 = 
Œue
;

43 
·u£d
 = 
çl£
;

46 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

47 
·u£dTicks
 = 0;

48 
	}
}

50 
	gtim”
::
	$¡İ
()

52 
¡d
::
cout
<<"\n„unningimer::stop()";

54 
¡¬‹d
 = 
çl£
;

57 
·u£d
 = 
çl£
;

60 
¡¬tTicks
 = 0;

61 
·u£dTicks
 = 0;

62 
	}
}

64 
	gtim”
::
	$·u£
()

66 
¡d
::
cout
<<"\n„unningimer::pause()";

68 ifĞ
¡¬‹d
 && !
·u£d
 )

71 
·u£d
 = 
Œue
;

79 
·u£dTicks
 = 
¡¬tTicks
;

84 
¡¬tTicks
 = 0;

85 
¡¬‹d
 = 
çl£
;

88 
	}
}

90 
	gtim”
::
	$uÅau£
()

92 
¡d
::
cout
<<"\n„unningimer::unpause()";

94 ifĞ!
¡¬‹d
 && 
·u£d
 )

97 
·u£d
 = 
çl£
;

104 
¡¬tTicks
 = 
·u£dTicks
;

110 
·u£dTicks
 = 0;

112 
¡¬‹d
 = 
Œue
;

114 
	}
}

116 
Ušt32
 
	gtim”
::
	$g‘Ticks
()

119 
Ušt32
 
time
 = 0;

122 ifĞ
¡¬‹d
 )

125 ifĞ
·u£d
 )

128 
time
 = 
·u£dTicks
;

133 
time
 = 
	`SDL_G‘Ticks
(è- 
¡¬tTicks
;

137  
time
;

138 
	}
}

140 
	gtim”
::
	$£tTicks
(
Ušt32
 
x
)

142 
¡d
::
cout
<<"\n„unningimer::setTicks(Uint32 x)";

143 
¡d
::
cout
<<"\Àx: "<<
x
;

144 
¡d
::
cout
<<"\À·u£d: "<<
·u£d
<<" s¹ed: "<<
¡¬‹d
;

145 
¡d
::
cout
<<"\À¡¬tTicks: "<<
¡¬tTicks
<<"…au£dTicks: "<<
·u£dTicks
;

146 if(
¡¬‹d
)

148 
¡¬tTicks
 = 
x
;

151 if(
·u£d
)

153 
·u£dTicks
 = 
x
;

155 
¡d
::
cout
<<"\Àaá” s‘tšgicks: s¹Ticks: "<<
¡¬tTicks
<<"…au£dTicks: "<<
·u£dTicks
;

156 
	}
}

158 
boŞ
 
	gtim”
::
	$isS¹ed
()

161  
¡¬‹d
;

162 
	}
}

164 
boŞ
 
	gtim”
::
	$isPau£d
()

167  
·u£d
 && 
¡¬‹d
;

168 
	}
}

170 
	gtim”
::
	$£tPau£d
()

172 
¡d
::
cout
<<"\n„unningimer::setPaused()";

173 
·u£d
 = 
Œue
;

174 
¡¬‹d
 = 
çl£
;

175 
	}
}

177 
	gtim”
::
	$£tUÅau£d
()

179 
¡d
::
cout
<<"\n„unningimer::setUnpaused()";

180 
·u£d
 = 
çl£
;

181 
¡¬‹d
 = 
Œue
;

182 
	}
}

184 
	gtim”
::
	$upd©ePÏyedTime
()

188 
timePÏyed
 +ğ
	`g‘Ticks
()-
·u£dTicks
;

189 
	}
}

191 
	gtim”
::
	$»¡¬tPÏyedTime
()

193 
¡d
::
cout
<<"\n„unningimer::restartPlayedTime()";

194 
timePÏyed
=0;

195 
	`¡¬t
();

196 
	}
}

198 
	gtim”
::
	$lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
)

200 
¡d
::
cout
<<"\n„unningimer::loadSavedPlayedTimeData(Uint32 saved)";

201 
¡d
::
cout
<<"\ÀtimePÏyed befÜlßdšg: "<<
timePÏyed
;

202 
timePÏyed
=
§ved
;

203 
¡d
::
cout
<<"\ÀtimePÏyed‡á”†ßdšg: "<<
timePÏyed
;

204 
	`¡¬t
();

205 
	}
}

	@C:\Sojourner\Sojourner\timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

41 
£tUÅau£d
();

44 
	m´iv©e
:

46 
Ušt32
 
¡¬tTicks
;

49 
Ušt32
 
	m·u£dTicks
;

52 
boŞ
 
	m·u£d
;

53 
boŞ
 
	m¡¬‹d
;

	@Texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

19 
	~"tim”.h
"

21 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

22 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

25 şas 
	cTextu»


27 
	mpublic
:

29 
Textu»
();

32 ~
Textu»
();

35 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

40 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

42 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

44 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

48 
	`ä“
();

51 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

54 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

57 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

60 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`timedR’d”
(
ticks
, 
x
, 
y
, 
Textu»
& 
‹mpTextu»
, 
SDL_R’d””
* 
»nd””
=
NULL
);

65 
	`g‘Width
();

66 
	`g‘Height
();

70 
´iv©e
:

72 
SDL_Textu»
* 
‹xtu»
;

75 
width
;

76 
height
;

	@animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

7 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

8 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

10 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

12 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

14 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

16 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

18 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

21 şas 
	cªim©iÚs


23 
	mpublic
:

25 
ªim©iÚs
();

27 ~
ªim©iÚs
();

30 
tim”
 
	mªim©iÚTim”
;

33 
tim”
 
	mªim©iÚTim”2
;

35 
tim”
 
	mªim©iÚTim”3
;

38 
tim”
 
	mªim©iÚTim”4
;

39 
tim”
 
	mªim©iÚTim”5
;

40 
tim”
 
	mªim©iÚTim”6
;

41 
tim”
 
	mªim©iÚTim”7
;

44 
tim”
 
	mªim©iÚTim”8
;

46 
tim”
 
	mªim©iÚTim”9
;

48 
tim”
 
	mªim©iÚTim”10
;

50 
boŞ
 
	mªiCouÁUp
;

53 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

56 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

58 
	mªiF¿me8
;

60 
	mªiF¿me9
;

62 
	mªiF¿me10
;

64 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

67 
	mpÜlY
;

68 
	mtß¡”2X
;

71 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

72 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

74 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

75 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

76 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

77 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

80 
boŞ
 
lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

82 
ä“C»d™sAnim©iÚTextu»s
();

87 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

94 
cyşeAnim©iÚs
();

95 
oscÏ‹CouÁ
();

99 
tß¡”Anim©iÚProg»ss
();

107 
´og»ss
();

113 
	m´iv©e
:

	@audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 9;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 9;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

24 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 12;

26 şas 
	cbu‰Ú


28 
	mpublic
:

30 
bu‰Ú
();

31 ~
bu‰Ú
();

34 
£tPos™iÚ
Ğ
x
, 
y
 );

36 
g‘Pos™iÚX
();

37 
g‘Pos™iÚY
();

39 
boŞ
 
	mfuÎSü“nToggË
;

40 
boŞ
 
	mmusicToggË
;

41 
boŞ
 
	mvoiûToggË
;

43 
boŞ
 
	mmou£Ov”
;

46 
	mcho£nSave
;

49 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

53 
hªdËSgeEv’t
Ğ
boŞ
 
š‹º®V›w
, 
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

56 
Textu»
 
	mbu‰ÚTextu»
;

57 
Textu»
 
	mbu‰ÚMOTextu»
;

59 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

62 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

63 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

65 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

66 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

68 
	m¡d
::
¡ršg
 
bu‰ÚName
;

70 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

72 
£tSgeBu‰ÚName
(
i
);

75 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

76 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

77 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

79 
ä“
();

81 
	m´iv©e
:

83 
SDL_Pošt
 
pos™iÚ
;

	@module.h

1 #iâdeà
MODULE_H


2 
	#MODULE_H


	)

4 
	~"¡©iÚ.h
"

7 şas 
	cmoduË


9 
	mpublic
:

10 
moduË
();

11 ~
moduË
();

14 
¡©iÚ
 
	mw©”Tªk
, 
	mk™ch’
, 
	mšfœm¬y
, 
	mbed
, 
	mbike
, 
	m¶ª‹r
, 
	m»ü—tiÚ
, 
	mhabEx™
;

17 
¡©iÚ
 
	m’gEx™
, 
	mb©‹ryA¼ay
, 
	m»£¬chDesk
, 
	m’gšeStiÚ
, 
	mÿrgoA»a
, 
	mcommStiÚ
;

19 
lßdHab™©iÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[], 
Ãed
[]);

21 
lßdEngš“ršg
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[], 
Ãed
[]);

23 
ä“Hab
();

25 
ä“Eng
();

27 
	m´iv©e
:

	@parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

44 
¥ecŸlRe£tP¬®Ïx
();

46 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

48 
ä“P¬®ÏxTextu»
();

50 
	m´iv©e
:

52 
»£tP¬®Ïx
();

53 
upd©eReùs
();

55 
	m·¿X
,
	m·¿Y
;

56 
	m·¿X2
,
	m·¿Y2
;

57 
	m·¿V–X
;

	@particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gTOTAL_PARTICLES
 = 50;

8 cÚ¡ 
	gTOTAL_FRAMES
 = 5;

10 şas 
	cP¬tişe


12 
	mpublic
:

15 
tim”
 
·¹işeTim”
;

17 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

20 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

23 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
, 
Textu»
 
¡¬
[]);

26 
boŞ
 
isD—d
();

28 
	m»nd”CŞÜ
;

30 
šüem’tF¿me
();

33 
	m´iv©e
:

35 
·¹X
, 
	m·¹Y
;

38 
	mäame
;

	@player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"sh.h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 cÚ¡ 
	gTOTAL_PLAYER_NEEDS
 = 5;

41 şas 
	c¶ay”


43 
	mpublic
:

45 
¶ay”
();

46 ~
¶ay”
();

48 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

49 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

50 cÚ¡ 
	mPLAYER_VEL
 = 1;

52 
	m¶ay”BÙ
;

54 
	mmoveS‹
;

56 
	mw®kF¿me
;

58 
	mÃed
[
TOTAL_PLAYER_NEEDS
];

60 
boŞ
 
	mæHÜizÚl
;

62 
boŞ
 
	mšS·û
;

64 
boŞ
 
	mš‹¿ù
;

66 
boŞ
 
	mšRªge
;

68 
boŞ
 
	mš‹¿ùW©”Tªk
;

70 
boŞ
 
	mš‹¿ùBed
;

72 
boŞ
 
	mš‹¿ùPÏÁ”
;

74 
boŞ
 
	mš‹¿ùK™ch’
;

76 
boŞ
 
	mš‹¿ùInfœm¬y
;

78 
boŞ
 
	mš‹¿ùBike
;

80 
boŞ
 
	mš‹¿ùRec
;

82 
boŞ
 
	mš‹¿ùHabEx™
, 
	mš‹¿ùEngEx™
, 
	mš‹¿ùB©‹ryA¼ay
, 
	mš‹¿ùRe£¬chDesk
, 
	mš‹¿ùEngšeStiÚ
, 
	mš‹¿ùC¬goA»a
, 
	mš‹¿ùCommStiÚ
;

84 
boŞ
 
	mš‹¿ùNew¥­”
,
	mš‹¿ùBackdoÜ
;

86 
boŞ
 
	mmovem’tDi§bËd
;

89 
Textu»
 
	mcu¼’tTextu»
;

91 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

93 
	m¡d
::
¡ršg
 
¶ay”N“ds
[
TOTAL_PLAYER_NEEDS
];

95 
modifyN“ds
(
modN“dV®ues
[]);

97 
Textu»
 
	mÃedsTextu»
[
TOTAL_PLAYER_NEEDS
];

99 
lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

101 
»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

103 
»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
);

105 
ä“N“dsTextu»s
();

107 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

109 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

113 
move
(
tick
, 
sh
& sh,
boŞ
 
šhab
, boŞ 
šEng
);

115 
move
(
tick
, 
SDL_Reù
& 
Ãw¥­”IÁ”aùiÚ
, SDL_Reù& 
backdoÜIÁ”aùiÚ
,
boŞ
 
šBacky¬d
);

117 
»nd”
(
SDL_R’d””
* 
»nd””
);

119 
ä“PÏy”
();

121 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

123 
g‘X
();

124 
g‘Y
();

126 
g‘PV–X
();

127 
g‘PV–Y
();

129 
£tX
(
x
);

130 
£tY
(
y
);

132 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

136 
lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[]);

139 
	m´iv©e
:

141 
¶ay”X
,
	m¶ay”Y
;

143 
	mpV–X
,
	mpV–Y
;

145 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

19 
boŞ
 
	m´om±D–‘e
;

20 
	md–‘eCªdid©e
;

21 
boŞ
 
	mŒigg”D–‘e
;

24 
Textu»
 
	mt™Ë
;

25 
Textu»
 
	mt™ËTextu»
;

26 
Textu»
 
	müed™sTextu»
;

27 
Textu»
 
	mİtiÚsTextu»
;

28 
Textu»
 
	mlßdGameTextu»
;

29 
Textu»
 
	mch­‹rS–eùTextu»
;

30 
Textu»
 
	m´om±D–‘eBG
;

32 
Textu»
 
	mPGUIBÏckGround
;

34 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

40 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

41 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

42 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

43 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

44 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

47 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

48 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

49 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

50 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

51 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

54 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

57 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

58 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

61 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

63 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

64 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

65 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

68 
ä“MašBu‰Ús
();

69 
ä“NewgameBu‰Ús
();

70 
ä“LßdgameBu‰Ús
();

71 
ä“O±iÚsBu‰Ús
();

72 
ä“C»d™sBu‰Ús
();

74 
	mcho£nSave
;

76 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

79 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

84 
boŞ
 
lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
);

85 
boŞ
 
lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
);

86 
boŞ
 
lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
);

87 
boŞ
 
lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
);

88 
boŞ
 
lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
);

92 
ä“T™ËSü“nTextu»s
();

93 
ä“NewGameTextu»s
();

94 
ä“LßdGameTextu»s
();

95 
ä“O±iÚsTextu»s
();

96 
ä“C»d™sTextu»s
();

99 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

101 
£tBu‰ÚNames
();

103 
ä“Bu‰Ús
();

105 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

107 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

109 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

111 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

113 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

116 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

118 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

120 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

122 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

124 
ä“
();

126 
	m´iv©e
:

	@saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 29;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

40 
»adP»fsFe
();

43 
»adSaveFe
(
feNum
);

49 
wr™eP»fsFe
(
´egameui
&…regameui);

51 
wr™eSaveFe
(
feNum
,
¡age
& sge,
Ušt32
 
¶ayedTime
);

53 
upd©eSaveD©a
(
feNum
,
¡age
& sge, 
Ušt32
 
¶ayedTime
);

55 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

57 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

59 
lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

61 
ä“TextTextu»s
();

63 
d–‘eSave
(
feNum
);

68 
Ušt32
 
	gd©aV®ues1
[6];

70 
Ušt32
 
	gd©aV®ues2
[5];

72 
Ušt32
 
	gd©aV®ues3
[6];

74 
£tD©aV®ues
();

77 
	g´iv©e
:

	@ship.h

1 #iâdeà
SHIP_H


2 
	#SHIP_H


	)

4 
	~"moduË.h
"

7 cÚ¡ 
	gTOTAL_SHIP_GAUGES
 = 6;

9 şas 
	csh


11 
	mpublic
:

13 
sh
();

14 ~
sh
();

16 
moduË
 
	mhab™©iÚ
;

17 
moduË
 
	m’gš“ršg
;

20 
	mgauge
[
TOTAL_SHIP_GAUGES
];

22 
	m¡d
::
¡ršg
 
shGauges
[
TOTAL_SHIP_GAUGES
];

24 
modifyGauges
(
modGaugeV®ues
[]);

26 
Textu»
 
	mgaugesTextu»
[
TOTAL_SHIP_GAUGES
];

28 
lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

30 
»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

32 
»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
);

34 
ä“GaugesTextu»s
();

36 
ä“
();

38 
lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[]);

40 
lßdHab™©iÚModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[]);

42 
lßdEngš“ršgModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
[]);

44 
	m´iv©e
:

	@stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

11 
	~"sh.h
"

14 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 6;

16 cÚ¡ 
	gTOTAL_STAGE_UI
 = 1;

18 şas 
	c¡age


20 
	mpublic
:

22 
¡age
();

24 ~
¡age
();

26 
boŞ
 
	mex‹º®V›w
;

28 
boŞ
 
	mš‹º®V›w
;

30 
boŞ
 
	mshowPÏy”
;

32 
boŞ
 
	mšHab
, 
	mšEng
;

34 
boŞ
 
	mbu‰ÚsF»ed
;

38 
	mhabIÁ”ÇlY1
;

39 
	mhabIÁ”ÇlY2
;

41 
	m’gIÁ”ÇlY1
;

42 
	m’gIÁ”ÇlY2
;

44 
	mtimeSurvived
;

46 
Textu»
 
	mdaysSurvived
;

47 
Textu»
 
	mhoursSurvived
;

48 
Textu»
 
	mmšu‹sSurvived
;

51 
Textu»
 
	mİ’šgSequ’ûHou£
;

53 
Textu»
 
	mİ’šgSequ’ûNew¥­”
, 
	miDÚtWªtToLiveOnThisPÏÃtAnymÜeTextu»
,
	mbacky¬dTextu»
;

55 
Textu»
 
	mİ’šgSequ’ûSh
;

58 
TTF_FÚt
 *
	mfÚt
;

60 
Textu»
 
	mthªksTextu»
;

62 
·¿Îax
 
	m¡¬sFÜe
;

63 
·¿Îax
 
	m¡¬sMid
;

64 
·¿Îax
 
	m¡¬sBack
;

66 
tim”
 
	mİ’šgSequ’ûTim”
;

68 
SDL_Reù
 
	mÃw¥­”IÁ”aùiÚ
;

69 
SDL_Reù
 
	mbackdoÜIÁ”aùiÚ
;

71 
boŞ
 
	m·³rR—d
,
	mbackdoÜIÁ”aùed
,
	mšBacky¬d
;

72 
boŞ
 
	m·³rO³n
;

74 
	mdoÜX
,
	mdoÜY
,
	m¿mpX
,
	m¿mpY
;

76 
Textu»
 
	mdoÜ
,
	m¿mp
,
	mobscu»
;

78 
Textu»
 
	masûnsiÚ
, 
	mşoud
, 
	mliáOffSh
;

80 
	m™”©iÚs
;

81 
	m™”©iÚs2
;

83 
boŞ
 
	mbacky¬dF»e
;

85 
SDL_Reù
 
	mÿm”a
;

87 
	masûnsiÚY
,
	mşoudY
,
	mşoudY2
;

89 
boŞ
 
	mcom¶‘e
;

92 
	m¡d
::
¡ršg
 
cou¿ge
, 
	mÃw¥­”
,
	mbacky¬d
, 
	miDÚtWªtToLiveOnThisPÏÃtAnymÜe
,
	mgtfo
;

94 
Textu»
 
	mcou¿geTextu»
, 
	mÃw¥­”Textu»
, 
	mgtfoTextu»
;

96 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

98 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

100 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

102 
	m¡d
::
¡ršg
 
uiFeName
[
TOTAL_STAGE_UI
];

104 
Textu»
 
	mUI
[
TOTAL_STAGE_UI
];

106 
ä“Bu‰Ús
();

107 
ä“BGTextu»s
();

108 
ä“UITextu»s
();

110 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

112 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

114 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

116 
£tFeNames
();

118 
£tBu‰ÚNames
();

120 
hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
gameS‹
);

122 
hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 );

125 
¶ay”
 
	m¶ay”1
;

129 
sh
 
	msh
;

131 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
šHab
, boŞ 
šEng
, boŞ 
sucûss
);

133 
ä“
();

135 
ä“O³nšgSequ’û
();

137 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

139 
lßdFÚt
();

141 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

143 
’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

145 
move
(
couÁedF¿mes
);

147 
£tNewgameV¬s
();

149 
lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[]);

151 
hªdËStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

153 
ä“StiÚBu‰Ús
();

155 
lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
);

157 
»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
);

159 
ä“TimeSurvivedTextu»s
();

161 
»äeshTS
(
SDL_R’d””
* 
»nd””
);

163 
lßdO³nšgSequ’û
(
SDL_R’d””
* 
»nd””
);

165 
ä“Hou£
();

167 
ä“Backy¬d
();

169 
ä“Sky
();

171 
»£tO³nšgSequ’ûV¬ŸbËs
();

173 
»nd”O³nšgSequ’û
(
SDL_R’d””
* 
»nd””
);

175 
	m´iv©e
:

	@station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~<veùÜ
>

8 şas 
	c¡©iÚ


10 
	mpublic
:

12 
¡©iÚ
();

14 ~
¡©iÚ
();

16 
	m¡©iÚX
,
	m¡©iÚY
,
	m¡©iÚH
,
	m¡©iÚBÙ
;

18 
	m¡©iÚIn™ŸlY
;

20 
	m¶ª‹rTimeW©”ed
, 
	m¶ª‹rDaysS‹
, 
	m¶ª‹rS‹
;

22 cÚ¡ 
	mSTATIONS
 = 10;

24 
	m¡d
::
¡ršg
 
¡©iÚDeçuÉIÁ”aùiÚText
;

27 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
bu‰ÚSŒšg
;

29 
	m¡d
::
veùÜ
<
boŞ
> 
bu‰ÚAvaabË
;

33 
boŞ
 
	m¡©iÚO±iÚsLßded
;

36 
Textu»
 
	m¡©iÚDeçuÉIÁ”aùiÚTextTextu»
;

38 
Textu»
 
	mšv’tÜyBG
;

40 
boŞ
 
	mšv’tÜyDi¥Ïyšg
;

43 
SDL_CŞÜ
 
	mavaabË
 = {255,255,255};

44 
SDL_CŞÜ
 
	guÇvaabË
 = {0,0,0};

46 
	g¡d
::
veùÜ
<
Textu»
> 
bu‰ÚTextTextu»
;

52 
Textu»
 
	g¡©iÚTextu»
;

55 
SDL_Reù
 
	gcŞlidabË
;

57 
SDL_Reù
 
	gš‹¿ùabË
;

60 
lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

61 
lßdStiÚBu‰ÚTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

64 
lßdHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

65 
lßdRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

66 
lßdBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
);

67 
lßdInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
Ãed
);

68 
lßdW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
w©”Gauge
);

69 
lßdBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
Ãed
);

70 
lßdPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

71 
lßdK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
,
Ãed
);

73 
lßdEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

74 
lßdB©‹ryA¼ay
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
pow”Gauge
);

75 
lßdRe£¬chDesk
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

76 
lßdEngšeStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
, 
fu–Gauge
);

77 
lßdC¬goA»a
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

78 
lßdCommStiÚ
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

80 
»nd”IÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

81 
»nd”IÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

83 
»nd”IÁ”aùStiÚ
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

85 
»nd”IÁ”aùStiÚBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
x
,
y
);

87 
upd©eHabPos™iÚ
(
y
);

89 
upd©eHabPos™iÚ2
(
y
);

91 
upd©eEngPos™iÚ
(
y
);

93 
upd©eEngPos™iÚ2
(
y
);

95 
»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

97 
»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

99 
»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

101 
»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

103 
ä“
();

105 
upd©ePÏÁ
(
SDL_R’d””
* 
»nd””
, 
timeSurvived
);

107 
upd©ePÏÁTextu»
(
SDL_R’d””
* 
»nd””
);

109 
di¥ÏyInv’tÜy
(
SDL_R’d””
* 
»nd””
);

111 
ä“Inv’tÜy
();

113 
	g´iv©e
:

	@text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

15 
TTF_FÚt
* 
	mfÚt
;

17 
TTF_FÚt
* 
	mfÚt2
;

19 
lßdText
(
SDL_R’d””
* 
»nd””
);

21 
lßdNemoy
(
SDL_R’d””
* 
»nd””
);

23 
ä“
();

26 
	m´iv©e
:

	@texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

19 
	~"tim”.h
"

21 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

22 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

25 şas 
	cTextu»


27 
	mpublic
:

29 
Textu»
();

32 ~
Textu»
();

35 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

40 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

42 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

44 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

48 
	`ä“
();

51 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

54 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

57 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

60 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`timedR’d”
(
ticks
, 
x
, 
y
, 
Textu»
& 
‹mpTextu»
, 
SDL_R’d””
* 
»nd””
=
NULL
);

65 
	`g‘Width
();

66 
	`g‘Height
();

70 
´iv©e
:

72 
SDL_Textu»
* 
‹xtu»
;

75 
width
;

76 
height
;

	@timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

41 
£tUÅau£d
();

44 
	m´iv©e
:

46 
Ušt32
 
¡¬tTicks
;

49 
Ušt32
 
	m·u£dTicks
;

52 
boŞ
 
	m·u£d
;

53 
boŞ
 
	m¡¬‹d
;

	@
1
.
1
/usr/include
48
1224
C:\Sojourner\Sojourner\Main.cpp
C:\Sojourner\Sojourner\animations.cpp
C:\Sojourner\Sojourner\animations.h
C:\Sojourner\Sojourner\audio.cpp
C:\Sojourner\Sojourner\audio.h
C:\Sojourner\Sojourner\button.cpp
C:\Sojourner\Sojourner\button.h
C:\Sojourner\Sojourner\module.cpp
C:\Sojourner\Sojourner\module.h
C:\Sojourner\Sojourner\myicon.rc
C:\Sojourner\Sojourner\parallax.cpp
C:\Sojourner\Sojourner\parallax.h
C:\Sojourner\Sojourner\particle.cpp
C:\Sojourner\Sojourner\particle.h
C:\Sojourner\Sojourner\player.cpp
C:\Sojourner\Sojourner\player.h
C:\Sojourner\Sojourner\pregameui.cpp
C:\Sojourner\Sojourner\pregameui.h
C:\Sojourner\Sojourner\saveGame.cpp
C:\Sojourner\Sojourner\saveGame.h
C:\Sojourner\Sojourner\ship.cpp
C:\Sojourner\Sojourner\ship.h
C:\Sojourner\Sojourner\stage.cpp
C:\Sojourner\Sojourner\stage.h
C:\Sojourner\Sojourner\station.cpp
C:\Sojourner\Sojourner\station.h
C:\Sojourner\Sojourner\text.cpp
C:\Sojourner\Sojourner\text.h
C:\Sojourner\Sojourner\texture.cpp
C:\Sojourner\Sojourner\texture.h
C:\Sojourner\Sojourner\timer.cpp
C:\Sojourner\Sojourner\timer.h
Texture.h
animations.h
audio.h
button.h
module.h
parallax.h
particle.h
player.h
pregameui.h
saveGame.h
ship.h
stage.h
station.h
text.h
texture.h
timer.h
