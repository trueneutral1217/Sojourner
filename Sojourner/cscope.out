cscope 15 /c/Sojourner/Sojourner               0000165482
	@C:\Sojourner\Sojourner\Main.cpp

2 
	~"audio.h
"

3 
	~"bu‰Ú.h
"

4 
	~"Textu».h
"

5 
	~"tim”.h
"

6 
	~"·¹işe.h
"

7 
	~"§veGame.h
"

8 
	~"´egameui.h
"

9 
	~"ªim©iÚs.h
"

10 
	~"¡age.h
"

11 
	~"‹xt.h
"

14 cÚ¡ 
	gTOTAL_STATES
 = 6;

25 
boŞ
 
š™
();

27 
boŞ
 
lßdMedŸ
();

29 
şo£
();

31 
SDL_R’d””
* 
	g»nd””
 = 
NULL
;

33 
SDL_Wšdow
* 
	gwšdow
 = 
NULL
;

35 
§veGame
 
	g´eã»nûs
;

37 
§veGame
 
	g§vegame
;

39 
audio
 
	gmusic
;

41 
	g¡d
::
veùÜ
<
audio
> 
sounds
;

43 
audio
 
	gsound
;

45 
¡age
 
	g¡age
;

47 
´egameui
 
	g´egameui
;

49 
ªim©iÚs
 
	gªim©iÚs
;

51 
‹xt
 
	g‹xt
;

53 
tim”
 
	g¶ayedTime
;

57 
boŞ
 
lßdSounds
();

60 
	ggameS‹
;

62 
	gcho£nSave
;

64 
Textu»
 
	gbÏckGround
;

66 
boŞ
 
çdeOut
(
couÁedF¿mes
, boŞ 
çde
);

68 
boŞ
 
çdeIn
(
couÁedF¿mes
,boŞ 
çde
);

70 
boŞ
 
	$çdeIn
(
couÁedF¿mes
, 
boŞ
 
çde
)

72 
¡d
::
cout
<<"\n„unning fadeIn(int countedFrames, bool fade)";

73 
Ušt32
 
®pha
 = 255-(
couÁedF¿mes
%256);

74 
bÏckGround
.
	`£tAÍha
(
®pha
);

75 if(
couÁedF¿mes
%256>254)

77 
çde
=
çl£
;

79  
çde
;

80 
	}
}

82 
boŞ
 
	$çdeOut
(
couÁedF¿mes
, 
boŞ
 
çde
)

84 
¡d
::
cout
<<"\n„unning fadeOut(int countedFrames, bool fade)";

85 if(
couÁedF¿mes
%256 < 255)

87 
bÏckGround
.
	`£tAÍha
(
couÁedF¿mes
);

89 if(
couÁedF¿mes
%256>=255)

91 
çde
=
çl£
;

93  
çde
;

94 
	}
}

96 
boŞ
 
	$š™
()

98 
¡d
::
cout
<<"\n„unning init()";

100 
boŞ
 
sucûss
 = 
Œue
;

101 
gameS‹
 = 0;

103 ifĞ
	`SDL_In™
Ğ
SDL_INIT_VIDEO
 | 
SDL_INIT_AUDIO
 ) < 0 )

105 
	`´štf
Ğ"\ÀSDL could‚Ù in™Ÿlize! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

106 
sucûss
 = 
çl£
;

111 ifĞ!
	`SDL_S‘Hšt
Ğ
SDL_HINT_RENDER_SCALE_QUALITY
, "1" ) )

113 
	`´štf
( "\n Warning: Linearexture filtering‚otƒnabled!" );

115 
wšdow
 = 
	`SDL_C»©eWšdow
Ğ"Sojouº”", 
SDL_WINDOWPOS_UNDEFINED
, SDL_WINDOWPOS_UNDEFINED, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
, 
SDL_WINDOW_SHOWN
 | 
SDL_WINDOW_RESIZABLE
 );

116 ifĞ
wšdow
 =ğ
NULL
 )

118 
	`´štf
Ğ"\ÀWšdow could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

119 
sucûss
 = 
çl£
;

121 
»nd””
 = 
	`SDL_C»©eR’d””
Ğ
wšdow
, -1, 
SDL_RENDERER_ACCELERATED
 );

122 ifĞ
»nd””
 =ğ
NULL
 )

124 
	`´štf
Ğ"\ÀR’d”” could‚Ù bü—‹d! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

125 
sucûss
 = 
çl£
;

130 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

132 
´egameui
.
	`ü—‹P¬tişes
(
»nd””
);

134 
imgFÏgs
 = 
IMG_INIT_PNG
;

135 ifĞ!Ğ
	`IMG_In™
Ğ
imgFÏgs
 ) & imgFlags ) )

137 
	`´štf
Ğ"\ÀSDL_imagcould‚Ù in™Ÿlize! SDL_imagE¼Ü: %s\n", 
	`IMG_G‘E¼Ü
() );

138 
sucûss
 = 
çl£
;

141 ifĞ
	`Mix_O³nAudio
Ğ44100, 
MIX_DEFAULT_FORMAT
, 2, 2048 ) < 0 )

143 
	`´štf
Ğ"\ÀSDL_mix” could‚Ù in™Ÿlize! SDL_mix” E¼Ü: %s\n", 
	`Mix_G‘E¼Ü
() );

144 
sucûss
 = 
çl£
;

146 ifĞ
	`TTF_In™
() == -1 )

148 
	`´štf
Ğ"\ÀSDL_‰àcould‚Ù in™Ÿlize! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

149 
sucûss
 = 
çl£
;

152  
sucûss
;

153 
	}
}

155 
boŞ
 
	$lßdSounds
()

157 
¡d
::
cout
<<"\n„unning†oadSounds()";

158 
boŞ
 
sucûss
 = 
Œue
;

160 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

162 
sounds
.
	`push_back
(
sound
);

165 
i
 = 0; i < 
TOTAL_SOUNDS
; i++)

167 
sounds
[
i
].
	`lßdSound
(i);

169  
sucûss
;

170 
	}
}

172 
boŞ
 
	$lßdMedŸ
()

174 
¡d
::
cout
<<"\n„unning†oadMedia()";

175 
boŞ
 
sucûss
 = 
Œue
;

177 
´eã»nûs
.
	`»adP»fsFe
();

179 
i
 = 0; i<
TOTAL_SAVES
;i++)

181 
§vegame
.
	`»adSaveFe
(
i
);

183 
´egameui
.
exi¡šgSave
[
i
] = 
§vegame
.
d©a
[0];

188 
time_t
 
§ved
 = 
§vegame
.
d©a
[1];

189 * 
sdt
 = 
	`ùime
(&
§ved
);

190 
¡d
::
cout
<<"\Àtimoà§ve: "<<
sdt
;

191 
¡d
::
cout
<<"\ÀamouÁ oàtim¶ayed: "<<
§vegame
.
d©a
[2];

197 
sucûss
 = 
´egameui
.
	`lßdP»gameUI
(
»nd””
,success);

203 
sucûss
 = 
	`lßdSounds
();

206 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
 = 
´eã»nûs
.
´efsD©a
[0];

207 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
 = 
´eã»nûs
.
´efsD©a
[1];

208 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
 = 
´eã»nûs
.
´efsD©a
[2];

210 
music
.
musicToggË
=
´egameui
.
İtiÚsBu‰Ús
[2].musicToggle;

211 if(
music
.
musicToggË
)

213 
music
.
	`¶ayMusic
();

215 if(
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
)

217 
´egameui
.
İtiÚsBu‰Ús
[1].
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

220 
bÏckGround
.
	`lßdFromFe
("images/BÏckground.²g",
»nd””
);

222 
‹xt
.
	`lßdText
(
»nd””
);

226 if(
sucûss
 =ğ
çl£
)

228 
	`´štf
("something didn't†oad„ight in†oadmedia.");

230  
sucûss
;

231 
	}
}

233 
	$şo£
()

235 
¡d
::
cout
<<"\n„unning close()";

238 
¡d
::
cout
<<"\À¶ayedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

239 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed: "<<
¶ayedTime
.
timePÏyed
;

245 
´eã»nûs
.
	`wr™eP»fsFe
(
´egameui
);

247 
´egameui
.
	`ä“
();

253 
bÏckGround
.
	`ä“
();

255 
‹xt
.
	`ä“
();

257 
music
.
	`ä“Audio
();

264 !
sounds
.
	`em±y
()){

265 
sounds
.
	`pİ_back
();

268 
	`SDL_De¡royR’d””
Ğ
»nd””
 );

269 
	`SDL_De¡royWšdow
Ğ
wšdow
 );

270 
wšdow
 = 
NULL
;

271 
»nd””
 = 
NULL
;

275 
	`TTF_Qu™
();

276 
	`Mix_Qu™
();

277 
	`IMG_Qu™
();

278 
	`SDL_Qu™
();

279 
	}
}

281 
	$maš
Ğ
¬gc
, * 
¬gs
[] )

283 
¡d
::
cout
<<"\n„unning main( int‡rgc, char*‡rgs[] )";

285 ifĞ!
	`š™
() )

287 
	`´štf
( "Failedo initialize!\n" );

292 ifĞ!
	`lßdMedŸ
() )

294 
	`´štf
( "Failedo†oad media!\n" );

299 
boŞ
 
qu™
 = 
çl£
;

300 
boŞ
 
çde
=
çl£
;

302 
music
.
	`lßdMusic
();

303 
music
.
	`¶ayMusic
();

305 
tim”
 
ÿpTim”
;

307 
couÁedF¿mes
 = 0;

309 
SDL_Ev’t
 
e
;

311 
ÿpTim”
.
	`¡¬t
();

313  !
qu™
 )

318  
	`SDL_PŞlEv’t
Ğ&
e
 ) != 0 )

321 ifĞ
e
.
ty³
 =ğ
SDL_QUIT
 )

323 
qu™
 = 
Œue
;

325 if(
e
.
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ.ty³ =ğ
SDL_MOUSEMOTION
)

327 if(
gameS‹
 == 5){

328 
gameS‹
 = 
¡age
.
	`hªdËBu‰Ús
(
»nd””
,&
e
);

335 if(
gameS‹
!= 5)

339 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed befÜruÂšg…ÏyedTime.upd©ePÏyedTime(): "<<
¶ayedTime
.
timePÏyed
;

340 
¶ayedTime
.
	`upd©ePÏyedTime
();

341 
¡d
::
cout
<<"\À¶ayedTime.timePÏyed‡á”„uÂšg…ÏyedTime.upd©ePÏyedTime(): "<<
¶ayedTime
.
timePÏyed
;

342 
¶ayedTime
.
	`·u£
();

343 
¡d
::
cout
<<"\À¶ayedTim¡¬‹d: "<<
¶ayedTime
.
	`isS¹ed
()<<",…ÏyedTim·u£d: "<<¶ayedTime.
	`isPau£d
();

344 
¡d
::
cout
<<"\ÀSDL_g‘Ticks(): "<<
	`SDL_G‘Ticks
()<<",…ÏyedTime.g‘Ticks(): "<<
¶ayedTime
.
	`g‘Ticks
();

347 
§vegame
.
	`upd©eSaveD©a
(
cho£nSave
,
¡age
,
¶ayedTime
.
timePÏyed
);

348 
§vegame
.
	`upd©eSavedM‘aD©a
(
cho£nSave
,
»nd””
,
‹xt
.
fÚt
);

350 
¡age
.
	`ä“
();

351 
´egameui
.
	`lßdT™ËSü“nTextu»s
(
»nd””
);

352 
´egameui
.
	`lßdMašBu‰Ús
(
»nd””
);

357 if(
gameS‹
 == 0)

361 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

363 if(
gameS‹
==4)

365 
ªim©iÚs
.
	`lßdC»d™sAnim©iÚTextu»s
(
»nd””
);

367 if(
gameS‹
==1 || gameState == 2)

369 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
,
‹xt
.
fÚt
);

373 if(
gameS‹
==1)

375 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

377 if(
gameS‹
==5)

379 
cho£nSave
 = 
´egameui
.chosenSave;

380 
¡age
.
	`£tNewgameV¬s
();

381 
¶ayedTime
.
timePÏyed
 = 0;

382 
¶ayedTime
.
	`»¡¬t
();

383 
¡age
.
	`lßdSge
(
»nd””
,
Œue
);

387 if(
gameS‹
 == 0)

391 if(
´egameui
.
Œigg”D–‘e
)

393 
´egameui
.
Œigg”D–‘e
 = 
çl£
;

394 
§vegame
.
	`d–‘eSave
(
´egameui
.
d–‘eCªdid©e
);

396 
¡d
::
cout
<<"\n deleteSave called from‚ewgame screen";

397 
´egameui
.
exi¡šgSave
[´egameui.
d–‘eCªdid©e
] = 
çl£
;

398 
§vegame
.
	`upd©eSavedM‘aD©a
(
´egameui
.
d–‘eCªdid©e
,
»nd””
,
‹xt
.
fÚt
);

399 
§vegame
.
§vedD©e
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

400 
§vegame
.
§vedPÏyTime
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

402 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
, 
‹xt
.
fÚt
);

405 if(
gameS‹
==2)

408 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

410 if(
gameS‹
==5)

414 
¡d
::
cout
<<"\Àcho£nSave: "<<
cho£nSave
<<"\À´egameui.cho£nSave: "<<
´egameui
.cho£nSave<<"\À´egameui.d–‘eCªdid©e: "<<´egameui.
d–‘eCªdid©e
;

415 
cho£nSave
 = 
´egameui
.chosenSave;

416 
¡d
::
cout
<<"\Àcho£nSave: "<<
cho£nSave
;

417 
§vegame
.
	`»adSaveFe
(
cho£nSave
);

419 if(
§vegame
.
d©a
[0])

422 
§vegame
.
	`£tD©aV®ues
();

423 
¡age
.
	`lßdSavedGameD©a
(
§vegame
.
d©aV®ues1
);

424 
¡age
.
¶ay”1
.
	`lßdSavedPÏy”D©a
(
§vegame
.
d©aV®ues2
);

426 
¡age
.
sh
.
	`lßdSavedShD©a
(
§vegame
.
d©aV®ues3
);

427 
¡age
.
¡©iÚ
.
¶ªtOkay
 = 
§vegame
.
d©a
[18];

428 
¡age
.
¡©iÚ
.
w©”PÏÁsOkay
 = 
§vegame
.
d©a
[19];

429 
¡age
.
timeSurvived
 = 
§vegame
.
d©a
[20];

430 
¡age
.
¡©iÚ
.
¶ª‹rS‹
 = 
§vegame
.
d©a
[21];

431 
¡age
.
¡©iÚ
.
¶ª‹rDaysS‹
 = 
§vegame
.
d©a
[22];

432 
¡age
.
¡©iÚ
.
¶ª‹rTimeW©”ed
 = 
§vegame
.
d©a
[23];

434 
¡age
.
	`lßdSge
(
»nd””
,
Œue
);

436 
¡d
::
cout
<<"\À§vegame.d©a[2]: "<<
§vegame
.
d©a
[2];

437 
Ušt32
 
´eviou¦yPÏyed
 = 
§vegame
.
d©a
[2];

438 
¡d
::
cout
<<"\À´eviou¦yPÏyed: "<<
´eviou¦yPÏyed
;

439 
¶ayedTime
.
timePÏyed
 = 
§vegame
.
d©a
[2];

441 
¶ayedTime
.
	`»¡¬t
();

444 if(
gameS‹
==0)

446 
´egameui
.
	`lßdLßdGameTextu»s
(
»nd””
);

447 
´egameui
.
	`lßdLßdgameBu‰Ús
(
»nd””
);

448 
gameS‹
 = 2;

451 if(
´egameui
.
Œigg”D–‘e
)

453 
´egameui
.
Œigg”D–‘e
 = 
çl£
;

454 
§vegame
.
	`d–‘eSave
(
´egameui
.
d–‘eCªdid©e
);

458 
¡d
::
cout
<<"\n deleteSave called from†oadgame screen";

459 
´egameui
.
exi¡šgSave
[´egameui.
d–‘eCªdid©e
] = 
çl£
;

460 
§vegame
.
	`upd©eSavedM‘aD©a
(
´egameui
.
d–‘eCªdid©e
,
»nd””
,
‹xt
.
fÚt
);

461 
§vegame
.
§vedD©e
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

462 
§vegame
.
§vedPÏyTime
[
´egameui
.
d–‘eCªdid©e
].
	`¡r
("");

464 
§vegame
.
	`lßdSaveTextTextu»s
(
»nd””
, 
‹xt
.
fÚt
);

467 if(
gameS‹
 == 0)

472 if(
gameS‹
==3)

474 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

475 if(
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
)

477 
music
.
musicToggË
 = 
Œue
;

478 if(!
music
.
	`isPÏyšg
())

480 
music
.
	`¶ayMusic
();

485 
music
.
musicToggË
 = 
çl£
;

486 if(
music
.
	`isPÏyšg
())

488 
music
.
	`¡İMusic
();

491 if(
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
)

500 if(
gameS‹
==4)

502 
gameS‹
 = 
´egameui
.
	`hªdËBu‰Ús
(gameS‹,&
e
, 
wšdow
,
»nd””
);

504 if(!
ªim©iÚs
.
ªim©iÚTim”2
.
	`isS¹ed
())

506 
ªim©iÚs
.
ªim©iÚTim”2
.
	`¡¬t
();

508 if(
gameS‹
 == 0)

510 
ªim©iÚs
.
	`ä“C»d™sAnim©iÚTextu»s
();

516 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 )

518  
e
.
key
.
keysym
.
sym
 )

520 
SDLK_SPACE
:

524 
SDLK_ESCAPE
:

525 if(
gameS‹
==0)

527 
qu™
=
Œue
;

531 
SDLK_1
:

532 
sounds
[0].
	`¶aySound
();

534 
SDLK_2
:

535 
sounds
[1].
	`¶aySound
();

537 
SDLK_3
:

538 
sounds
[2].
	`¶aySound
();

540 
SDLK_4
:

541 
sounds
[3].
	`¶aySound
();

543 
SDLK_9
:

545 
music
.
	`¶ayMusic
();

551 if(
¡age
.
š‹º®V›w
)

553 
¡age
.
¶ay”1
.
	`hªdËEv’t
(
e
);

556 if(
¡age
.
šHab
 && sge.
¶ay”1
.
š‹¿ùPÏÁ”
)

558 
¡age
.
	`hªdËPÏÁ”
(
»nd””
,
‹xt
.
fÚt2
);

566 if(
¡age
.
š‹º®V›w
)

568 
¡age
.
	`move
(
couÁedF¿mes
);

572 
	`SDL_S‘R’d”D¿wCŞÜ
Ğ
»nd””
, 0xFF, 0xFF, 0xFF, 0xFF );

573 
	`SDL_R’d”CË¬
Ğ
»nd””
 );

575 if(
gameS‹
 == 0)

578 
´egameui
.
	`hªdËT™ËSü“nR’d”šg
(
»nd””
);

580 if(
gameS‹
 == 1)

583 
´egameui
.
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

585 
	`SDL_D–ay
(1);

587 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

589 
´egameui
.
	`hªdËNewGameSü“nR’d”šg
(
»nd””
);

592 if(
gameS‹
 == 2)

595 
´egameui
.
ch­‹rS–eùTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

597 
	`SDL_D–ay
(1);

599 
§vegame
.
	`hªdËSavedM‘aD©aR’d”šg
(
»nd””
);

601 
´egameui
.
	`hªdËLßdGameSü“nR’d”šg
(
»nd””
);

603 if(
gameS‹
 == 3)

606 
´egameui
.
	`hªdËO±iÚsSü“nR’d”šg
(
»nd””
);

608 if(
gameS‹
 == 4)

611 
´egameui
.
	`hªdËC»d™sSü“nR’d”šg
(
»nd””
);

613 
ªim©iÚs
.
	`»nd”Tß¡”
(
»nd””
);

614 
ªim©iÚs
.
	`tß¡”Anim©iÚProg»ss
();

615 
ªim©iÚs
.
	`cyşeAnim©iÚs
();

618 if(
gameS‹
 == 5)

621 
¡age
.
	`»nd”Sge1
(
»nd””
);

623 if(
çde
)

625 
çde
 = 
	`çdeIn
(
couÁedF¿mes
,fade);

626 
bÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

629 
	`SDL_R’d”P»£Á
Ğ
»nd””
 );

630 ++
couÁedF¿mes
;

631 if(
couÁedF¿mes
>0 && couÁedF¿me < 255 && 
gameS‹
==0)

633 
´egameui
.
t™Ë
.
	`£tAÍha
(
couÁedF¿mes
);

636 
äameTicks
 = 
ÿpTim”
.
	`g‘Ticks
();

637 ifĞ
äameTicks
 < 
SCREEN_TICK_PER_FRAME
 )

640 
	`SDL_D–ay
Ğ
SCREEN_TICK_PER_FRAME
 - 
äameTicks
 );

646 
	`SDL_StİTextIÅut
();

650 
	`şo£
();

652 
	}
}

	@C:\Sojourner\Sojourner\animations.cpp

1 
	~"ªim©iÚs.h
"

3 
	gªim©iÚs
::
	$ªim©iÚs
()

5 
ªiF¿me
=0;

6 
ªiF¿me2
=0;

7 
ªiF¿me3
=0;

8 
ªiF¿me4
=0;

9 
ªiF¿me5
=0;

10 
ªiF¿me6
=0;

11 
ªiF¿me7
=0;

12 
ªiF¿me8
=0;

13 
ªiF¿me9
=0;

14 
ªiF¿me10
=0;

15 
ªiCouÁUp
=
Œue
;

17 
	}
}

19 
	gªim©iÚs
::~
	$ªim©iÚs
()

22 
	}
}

24 
boŞ
 
ªim©iÚs
::
	$lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
)

26 
¡d
::
cout
<<"\n„unning‡nimations::loadCreditsAnimationTextures(SDL_Renderer*„enderer)";

27 
boŞ
 
sucûss
 = 
Œue
;

28 
i
 = 0; i<
TOASTER_ANIMATION_FRAMES
;i++)

30 
a
 = 
i
;

31 
¡d
::
¡ršg¡»am
 
ss
;

32 
ss
 << "images/ªim©iÚs/tß¡”/tß¡”" << 
a
 << ".png";

33 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

34 
sucûss
 = 
tß¡”
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

36  
sucûss
;

37 
	}
}

39 
	gªim©iÚs
::
	$ä“C»d™sAnim©iÚTextu»s
()

41 
¡d
::
cout
<<"\n„unning‡nimations::freeCreditsAnimationTextures()";

42 
i
=0;i<
TOASTER_ANIMATION_FRAMES
;i++)

44 
tß¡”
[
i
].
	`ä“
();

46 
	}
}

48 
	gªim©iÚs
::
	$»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
)

50 
ªiF¿me2
)

52 0:
tß¡”
[0].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

54 1:
tß¡”
[1].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

56 2:
tß¡”
[2].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

58 3:
tß¡”
[3].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

60 4:
tß¡”
[4].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

62 5:
tß¡”
[5].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

64 6:
tß¡”
[6].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

66 7:
tß¡”
[7].
	`»nd”
(50,400,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

69 
	}
}

71 
	gªim©iÚs
::
	$cyşeAnim©iÚs
()

73 ifĞ
ªiF¿me
 >ğ
TAO_ANIMATION_FRAMES
 )

75 
ªiF¿me
 = 0;

77 if(
ªiF¿me3
 >ğ
TOASTER2_ANIMATION_FRAMES
)

79 
ªiF¿me3
 = 0;

81 ifĞ
ªiF¿me2
 >ğ
TOASTER_ANIMATION_FRAMES
-1 )

83 
ªiCouÁUp
 = 
çl£
;

85 ifĞ
ªiF¿me4
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

87 
ªiF¿me4
 = 0;

88 
bsX1
=
	`¿nd
() % 200;

89 
bsY1
=
	`¿nd
()% 350;

91 ifĞ
ªiF¿me5
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

93 
ªiF¿me5
 = 0;

94 
bsX2
=
	`¿nd
() % 200;

95 
bsX2
+=200;

96 
bsY2
=
	`¿nd
()% 350;

98 ifĞ
ªiF¿me6
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

100 
ªiF¿me6
 = 0;

101 
bsX3
=
	`¿nd
() % 200;

102 
bsX3
+=400;

103 
bsY3
=
	`¿nd
()% 350;

105 ifĞ
ªiF¿me7
 >ğ
BLACKSTAR_ANIMATION_FRAMES
)

107 
ªiF¿me7
 = 0;

108 
bsX4
=
	`¿nd
() % 200;

109 
bsX4
+=550;

110 
bsY4
=
	`¿nd
()% 350;

112 if(
ªiF¿me8
 >ğ
PORTAL_ANIMATION_FRAMES
)

114 
ªiF¿me8
 = 20;

116 if(
ªiF¿me2
 <= 0)

118 
ªiCouÁUp
 = 
Œue
;

120 ifĞ
ªiF¿me9
 >ğ
RAT_ANIMATION_FRAMES
 )

122 
ªiF¿me9
 = 0;

124 ifĞ
ªiF¿me10
 >ğ
TRAILER_ANIMATION_FRAMES
 )

126 
ªiF¿me10
 = 0;

128 
	}
}

130 
	gªim©iÚs
::
	$oscÏ‹CouÁ
()

132 if(
ªiCouÁUp
)

134 
ªiF¿me2
++;

135 
	`SDL_D–ay
(50);

139 
ªiF¿me2
--;

140 
	`SDL_D–ay
(50);

142 
	}
}

144 
	gªim©iÚs
::
	$tß¡”Anim©iÚProg»ss
()

146 if(
ªim©iÚTim”2
.
	`g‘Ticks
() / 60 > 1)

148 
	`oscÏ‹CouÁ
();

151 
	}
}

153 
	gªim©iÚs
::
	$´og»ss
()

158 
	`tß¡”Anim©iÚProg»ss
();

160 
	`cyşeAnim©iÚs
();

161 
	}
}

	@C:\Sojourner\Sojourner\animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

8 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

9 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

11 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

13 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

15 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

17 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

19 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

22 şas 
	cªim©iÚs


24 
	mpublic
:

26 
ªim©iÚs
();

28 ~
ªim©iÚs
();

31 
tim”
 
	mªim©iÚTim”
;

34 
tim”
 
	mªim©iÚTim”2
;

36 
tim”
 
	mªim©iÚTim”3
;

39 
tim”
 
	mªim©iÚTim”4
;

40 
tim”
 
	mªim©iÚTim”5
;

41 
tim”
 
	mªim©iÚTim”6
;

42 
tim”
 
	mªim©iÚTim”7
;

45 
tim”
 
	mªim©iÚTim”8
;

47 
tim”
 
	mªim©iÚTim”9
;

49 
tim”
 
	mªim©iÚTim”10
;

51 
boŞ
 
	mªiCouÁUp
;

54 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

57 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

59 
	mªiF¿me8
;

61 
	mªiF¿me9
;

63 
	mªiF¿me10
;

65 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

68 
	mpÜlY
;

69 
	mtß¡”2X
;

72 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

74 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

75 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

76 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

77 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

78 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

81 
boŞ
 
lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

83 
ä“C»d™sAnim©iÚTextu»s
();

88 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

95 
cyşeAnim©iÚs
();

96 
oscÏ‹CouÁ
();

100 
tß¡”Anim©iÚProg»ss
();

108 
´og»ss
();

114 
	m´iv©e
:

	@C:\Sojourner\Sojourner\audio.cpp

1 
	~"audio.h
"

3 
	gaudio
::
	$audio
()

5 
music
 = 
NULL
;

6 
sound
 = 
NULL
;

7 
voiû
 = 
NULL
;

8 
musicToggË
 = 
Œue
;

9 
voiûToggË
 = 
Œue
;

10 
	}
}

11 
	gaudio
::~
	$audio
()

14 
	`Mix_F»eMusic
Ğ
music
 );

15 
	`Mix_F»eChunk
Ğ
sound
 );

16 
	`Mix_F»eChunk
Ğ
voiû
 );

17 
sound
=
NULL
;

18 
music
=
NULL
;

19 
voiû
=
NULL
;

20 
	}
}

22 
	gaudio
::
	$lßdMusic
()

24 
¡d
::
cout
<<"\n„unning‡udio::loadMusic()";

27  
	`¿nd
() % 7 )

30 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Blitz-Nevrosis.mp3" );

31 
¡d
::
cout
<<"\n\n†oaded blitz-nevrosis.mp3";

34 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Empsykoun.mp3" );

35 
¡d
::
cout
<<"\n\n†oadedƒmpsykoun.mp3";

38 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Polylove.mp3" );

39 
¡d
::
cout
<<"\n\n†oaded…olylove.mp3";

42 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Rouge-haine-les-9-ames.mp3" );

43 
¡d
::
cout
<<"\n\n†oaded„ouge-haine-les-9-ames.mp3";

46 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - The†ost cyborg.mp3" );

47 
¡d
::
cout
<<"\n\n†oadedhe†ost cyborg.mp3";

50 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - There-is-someone.mp3" );

51 
¡d
::
cout
<<"\n\n†oadedhere-is-someone.mp3";

54 
music
 = 
	`Mix_LßdMUS
( "music/koi/Koi-discovery - Vortex-temporalis.mp3" );

55 
¡d
::
cout
<<"\n\n†oaded vortex-temporalis.mp3";

59 
	}
}

61 
	gaudio
::
	$lßdCh­‹r1Music
()

64 
¡d
::
cout
<<"\n„unning‡udio::loadChapter1Music()";

65 
music
 = 
	`Mix_LßdMUS
("music/Meadow March.mp3");

66 
	}
}

68 
	gaudio
::
	$lßdCh­‹r2Music
()

71 
¡d
::
cout
<<"\n„unning‡udio::loadChapter2Music()";

72 
music
 = 
	`Mix_LßdMUS
("music/Tiki Jungle.mp3");

73 
	}
}

75 
	gaudio
::
	$lßdCh­‹r3Music
()

78 
¡d
::
cout
<<"\n„unning‡udio::loadChapter3Music()";

79 
music
 = 
	`Mix_LßdMUS
("music/Radioactive Rain.mp3");

80 
	}
}

82 
	gaudio
::
	$lßdSound
(
soundNum
)

84 
¡d
::
cout
<<"\n„unning‡udio::loadSound(int soundNum)";

85 
soundNum
)

88 
sound
 = 
	`Mix_LßdWAV
( "sounds/voice0.mp3" );

91 
sound
 = 
	`Mix_LßdWAV
( "sounds/gem.mp3" );

94 
sound
 = 
	`Mix_LßdWAV
( "sounds/shovel.mp3" );

97 
sound
 = 
	`Mix_LßdWAV
( "sounds/titleitemselect4.wav" );

100 
sound
 = 
	`Mix_LßdWAV
( "sounds/beam.mp3");

103 
sound
 = 
	`Mix_LßdWAV
( "sounds/3beeps.mp3");

106 
	}
}

108 
	gaudio
::
	$lßdVoiû
(
ch­‹r
,
·ge
,
lše
)

111 
¡d
::
cout
<<"\n„unning‡udio::loadVoice(int chapter,int…age,int†ine)";

112 
¡d
::
¡ršg
 
voiûSŒšg
 = "sounds/voiû‡ùšg/ch­‹r"+¡d::
	`to_¡ršg
(
ch­‹r
 + 1)+"/c"+¡d::to_¡ršg(ch­‹r+1)+"p"+¡d::to_¡ršg(
·ge
+1)+"l"+¡d::to_¡ršg(
lše
+1)+".mp3";

113 
voiû
 = 
	`Mix_LßdWAV
Ğ
voiûSŒšg
.
	`c_¡r
() );

114 
	}
}

116 
	gaudio
::
	$¡İVoiû
()

118 
¡d
::
cout
<<"\n„unning‡udio::stopVoice()";

120 
	`Mix_H®tChªÃl
(-1);

121 
	}
}

123 
	gaudio
::
	$ä“Audio
()

125 
¡d
::
cout
<<"\n„unning‡udio::freeAudio()";

126 
	`Mix_F»eChunk
Ğ
sound
 );

127 
sound
 = 
NULL
;

128 
	`Mix_F»eChunk
Ğ
voiû
 );

129 
voiû
 = 
NULL
;

130 
	`Mix_F»eMusic
Ğ
music
 );

131 
music
 = 
NULL
;

132 
	}
}

134 
	gaudio
::
	$¶aySound
()

136 
¡d
::
cout
<<"\n„unning‡udio::playSound()";

137 
	`Mix_PÏyChªÃl
Ğ-1, 
sound
, 0 );

138 
	}
}

140 
	gaudio
::
	$¶ayVoiû
()

142 
¡d
::
cout
<<"\n„unning‡udio::playVoice()";

143 if(
voiûToggË
)

145 
	`Mix_PÏyChªÃl
(-1,
voiû
,0);

147 
	}
}

149 
	gaudio
::
	$¶ayMusic
()

151 
¡d
::
cout
<<"\n„unning‡udio::playMusic()";

152 if(
musicToggË
)

154 ifĞ
	`Mix_PÏyšgMusic
() == 0 )

157 
	`Mix_PÏyMusic
Ğ
music
, -1 );

163 ifĞ
	`Mix_Pau£dMusic
() == 1 )

166 
	`Mix_ResumeMusic
();

172 
	`Mix_Pau£Music
();

177 
	}
}

179 
	gaudio
::
	$·u£Music
()

181 
¡d
::
cout
<<"\n„unning‡udio::pauseMusic()";

182 
	`Mix_Pau£Music
();

183 
	}
}

185 
	gaudio
::
	$»sumeMusic
()

187 
¡d
::
cout
<<"\n„unning‡udio::resumeMusic()";

188 if(
musicToggË
)

190 
	`Mix_ResumeMusic
();

192 
	}
}

194 
	gaudio
::
	$¡İMusic
()

196 
¡d
::
cout
<<"\n„unning‡udio::stopMusic()";

197 
	`Mix_H®tMusic
();

198 
	`lßdMusic
();

199 
	}
}

201 
	gaudio
::
	$»£tMusic
()

203 
¡d
::
cout
<<"\n„unning‡udio::resetMusic()";

204 
	`¡İMusic
();

205 
	`lßdMusic
();

206 
	`¶ayMusic
();

207 
	}
}

209 
boŞ
 
	gaudio
::
	$isPÏyšg
()

212  
	`Mix_PÏyšgMusic
();

213 
	}
}

	@C:\Sojourner\Sojourner\audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@C:\Sojourner\Sojourner\button.cpp

1 
	~"bu‰Ú.h
"

3 
	gbu‰Ú
::
	$bu‰Ú
()

5 
pos™iÚ
.
x
 = 0;

6 
pos™iÚ
.
y
 = 0;

7 
bu‰ÚName
 = "";

8 
fuÎSü“nToggË
=
çl£
;

9 
musicToggË
=
Œue
;

10 
voiûToggË
=
Œue
;

11 
mou£Ov”
=
çl£
;

12 
¡ageBu‰ÚNames
[0]="saveAndExit";

13 
¡ageBu‰ÚNames
[1]="plant";

14 
¡ageBu‰ÚNames
[2]="waterPlants";

15 
	}
}

17 
	gbu‰Ú
::~
	$bu‰Ú
()

19 
bu‰ÚTextu»
.
	`ä“
();

20 
	}
}

22 
	gbu‰Ú
::
	$fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

24 
bu‰ÚTextu»
.
	`ä“
();

25 if(
fuÎSü“nToggË
)

27 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nOn.²g", 
»nd””
);

31 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/fuÎSü“nToggË.²g", 
»nd””
);

33 
	}
}

35 
	gbu‰Ú
::
	$musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

37 
bu‰ÚTextu»
.
	`ä“
();

38 if(
musicToggË
)

40 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicToggË.²g", 
»nd””
);

44 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/musicOff.²g", 
»nd””
);

46 
	}
}

48 
	gbu‰Ú
::
	$voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
)

50 
bu‰ÚTextu»
.
	`ä“
();

51 if(
voiûToggË
)

53 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûToggË.²g", 
»nd””
);

57 
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/voiûOff.²g", 
»nd””
);

59 
	}
}

61 
	gbu‰Ú
::
	$£tPos™iÚ
Ğ
x
, 
y
 )

63 
pos™iÚ
.
x
 = x;

64 
pos™iÚ
.
y
 = y;

65 
	}
}

67 
	gbu‰Ú
::
	$g‘Pos™iÚX
()

69  
pos™iÚ
.
x
;

70 
	}
}

71 
	gbu‰Ú
::
	$g‘Pos™iÚY
()

73  
pos™iÚ
.
y
;

74 
	}
}

76 
	gbu‰Ú
::
	$£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

78 
fuÎSü“nToggË
 = 
Œue
;

79 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

80 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_TRUE
 );

81 
	}
}

83 
	gbu‰Ú
::
	$£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
)

85 
fuÎSü“nToggË
 = 
çl£
;

86 
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

87 
	`SDL_S‘WšdowFuÎsü“n
Ğ
wšdow
, 
SDL_FALSE
 );

88 
	}
}

90 
	gbu‰Ú
::
	$£tMusicOn
(
SDL_R’d””
* 
»nd””
)

92 
musicToggË
 = 
Œue
;

93 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

94 
	}
}

96 
	gbu‰Ú
::
	$£tMusicOff
(
SDL_R’d””
* 
»nd””
)

98 
musicToggË
=
çl£
;

99 
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

100 
	}
}

102 
	gbu‰Ú
::
	$£tVoiûOn
(
SDL_R’d””
* 
»nd””
)

104 
voiûToggË
 = 
Œue
;

105 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

106 
	}
}

108 
	gbu‰Ú
::
	$£tVoiûOff
(
SDL_R’d””
* 
»nd””
)

110 
voiûToggË
 = 
çl£
;

111 
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

112 
	}
}

114 
	gbu‰Ú
::
	$£tSgeBu‰ÚName
(
i
)

116 
bu‰ÚName
=
¡ageBu‰ÚNames
[
i
];

117 
	}
}

119 
	gbu‰Ú
::
	$hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
, 
SDL_R’d””
* 
»nd””
 )

121 
gameS‹
=-1;

123 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

126 
x
, 
y
;

127 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

130 
boŞ
 
šside
 = 
Œue
;

133 ifĞ
x
 < 
pos™iÚ
.x )

135 
šside
 = 
çl£
;

138 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

140 
šside
 = 
çl£
;

143 ifĞ
y
 < 
pos™iÚ
.y )

145 
šside
 = 
çl£
;

148 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

150 
šside
 = 
çl£
;

154 ifĞ!
šside
 )

156 
mou£Ov”
=
çl£
;

161 if(!
mou£Ov”
)

163 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

164 
mou£Ov”
=
Œue
;

166  
e
->
ty³
 )

168 
SDL_MOUSEBUTTONDOWN
:

169 if(
bu‰ÚName
=="new")

171 
	`´štf
("\n \n‚ew game button…ressed \n \n");

172 
gameS‹
 = 1;

174 if(
bu‰ÚName
=="load")

176 
	`´štf
("\n \n†oad game button…ressed \n \n");

177 
gameS‹
 = 2;

179 if(
bu‰ÚName
=="options")

181 
	`´štf
("\n \n options button…ressed \n \n");

182 
gameS‹
 = 3;

184 if(
bu‰ÚName
=="credits")

186 
	`´štf
("\n \n credits button…ressed \n \n");

187 
gameS‹
 = 4;

189 if(
bu‰ÚName
=="back")

191 
	`´štf
("\n \n back button…ressed \n \n");

192 
gameS‹
 = 0;

194 if(
bu‰ÚName
=="save1")

196 
	`´štf
("\n \n save 1 button…ressed \n \n");

197 
cho£nSave
=0;

198 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

199 
gameS‹
 = 5;

201 if(
bu‰ÚName
=="save2")

203 
	`´štf
("\n \n save 2 button…ressed \n \n");

204 
cho£nSave
=1;

205 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

206 
gameS‹
 = 5;

208 if(
bu‰ÚName
=="save3")

210 
	`´štf
("\n \n save 3 button…ressed \n \n");

211 
cho£nSave
=2;

212 
¡d
::
cout
<<"\Àcho£À§ve: "<<
cho£nSave
;

213 
gameS‹
 = 5;

215 if(
bu‰ÚName
=="trash1")

217 
	`´štf
("\n \nrash1 button…ressed \n \n");

218 
gameS‹
 = 1;

220 if(
bu‰ÚName
=="trash2")

222 
	`´štf
("\n \nrash2 button…ressed \n \n");

223 
gameS‹
 = 2;

225 if(
bu‰ÚName
=="trash3")

227 
	`´štf
("\n \nrash3 button…ressed \n \n");

228 
gameS‹
 = 3;

230 if(
bu‰ÚName
=="yes")

232 
	`´štf
("\n \n yes button…ressed \n \n");

233 
gameS‹
 = 4;

237 if(
bu‰ÚName
=="no")

239 
	`´štf
("\n \n‚o button…ressed \n \n");

240 
gameS‹
 = 6;

242 if(
bu‰ÚName
=="fullScreenToggle")

244 
	`´štf
("\n \n fullScreenoggle button…ressed \n \n");

245 if(!
fuÎSü“nToggË
)

246 
	`£tFuÎSü“nOn
(
wšdow
,
»nd””
);

248 
	`£tFuÎSü“nOff
(
wšdow
,
»nd””
);

249 
gameS‹
 = 3;

251 if(
bu‰ÚName
=="musicToggle")

253 
	`´štf
("\n \n musicoggle button…ressed \n \n");

254 if(!
musicToggË
)

255 
	`£tMusicOn
(
»nd””
);

257 
	`£tMusicOff
(
»nd””
);

258 
gameS‹
 = 3;

260 if(
bu‰ÚName
=="voiceToggle")

262 
	`´štf
("\n \n voiceoggle button…ressed \n \n");

263 if(!
voiûToggË
)

264 
	`£tVoiûOn
(
»nd””
);

266 
	`£tVoiûOff
(
»nd””
);

267 
gameS‹
 = 3;

273  
gameS‹
;

274 
	}
}

276 
	gbu‰Ú
::
	$hªdËSgeEv’t
(
boŞ
 
š‹º®V›w
,
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 )

278 
bu‰ÚClicked
 = 0;

280 ifĞ
e
->
ty³
 =ğ
SDL_MOUSEMOTION
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONDOWN
 ||ƒ->ty³ =ğ
SDL_MOUSEBUTTONUP
 )

283 
x
, 
y
;

284 
	`SDL_G‘Mou£S‹
Ğ&
x
, &
y
 );

287 
boŞ
 
šside
 = 
Œue
;

290 ifĞ
x
 < 
pos™iÚ
.x )

292 
šside
 = 
çl£
;

295 ifĞ
x
 > 
pos™iÚ
.x + 
bu‰ÚTextu»
.
	`g‘Width
() )

297 
šside
 = 
çl£
;

300 ifĞ
y
 < 
pos™iÚ
.y )

302 
šside
 = 
çl£
;

305 ifĞ
y
 > 
pos™iÚ
.y + 
bu‰ÚTextu»
.
	`g‘Height
() )

307 
šside
 = 
çl£
;

312 ifĞ!
šside
 )

314 
mou£Ov”
=
çl£
;

315 
bu‰ÚClicked
=0;

316 if(
e
->
ty³
 =ğ
SDL_MOUSEBUTTONDOWN
 && !
š‹º®V›w
)

318 
bu‰ÚClicked
=2;

324 if(!
mou£Ov”
)

326 
¡d
::
cout
<<"\À\Àmou£Ov” =rue, bu‰ÚName: "<<
bu‰ÚName
;

327 
mou£Ov”
=
Œue
;

329  
e
->
ty³
 )

331 
SDL_MOUSEBUTTONDOWN
:

333 if(
bu‰ÚName
=="saveAndExit")

335 
	`´štf
("\n \n saveAndExit button…ressed");

336 
bu‰ÚClicked
=1;

338 if(
bu‰ÚName
 == "plant")

340 
¡d
::
cout
<<"\n user clicked 'plant' button";

341 
bu‰ÚClicked
 = 3;

343 if(
bu‰ÚName
 == "waterPlants")

345 
¡d
::
cout
<<"\n user clicked 'waterPlants' button";

346 
bu‰ÚClicked
 = 4;

352  
bu‰ÚClicked
;

353 
	}
}

	@C:\Sojourner\Sojourner\button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 9;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 9;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

23 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 3;

25 şas 
	cbu‰Ú


27 
	mpublic
:

29 
bu‰Ú
();

30 ~
bu‰Ú
();

33 
£tPos™iÚ
Ğ
x
, 
y
 );

35 
g‘Pos™iÚX
();

36 
g‘Pos™iÚY
();

38 
boŞ
 
	mfuÎSü“nToggË
;

39 
boŞ
 
	mmusicToggË
;

40 
boŞ
 
	mvoiûToggË
;

42 
boŞ
 
	mmou£Ov”
;

44 
	mcho£nSave
;

47 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

51 
hªdËSgeEv’t
Ğ
boŞ
 
š‹º®V›w
, 
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

54 
Textu»
 
	mbu‰ÚTextu»
;

55 
Textu»
 
	mbu‰ÚMOTextu»
;

57 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

58 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

61 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

63 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

64 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

66 
	m¡d
::
¡ršg
 
bu‰ÚName
;

72 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

78 
£tSgeBu‰ÚName
(
i
);

81 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

82 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

83 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

85 
	m´iv©e
:

87 
SDL_Pošt
 
pos™iÚ
;

	@C:\Sojourner\Sojourner\chapter.cpp

	@C:\Sojourner\Sojourner\chapter.h

1 #iâdeà
CHAPTER_H


2 
	#CHAPTER_H


	)

	@C:\Sojourner\Sojourner\module.cpp

1 
	~"moduË.h
"

3 
	gmoduË
::
	$moduË
()

6 
	}
}

8 
moduË
::~
	$moduË
()

11 
	}
}

13 
moduË
::
	$lßdModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
gauge
[])

15 
¡©iÚ
.
	`lßdStiÚ
(
»nd””
,
fÚt
,
gauge
);

16 
	}
}

18 
	gmoduË
::
	$ä“
()

20 
¡©iÚ
.
	`ä“
();

21 
	}
}

	@C:\Sojourner\Sojourner\module.h

1 #iâdeà
MODULE_H


2 
	#MODULE_H


	)

4 
	~"¡©iÚ.h
"

6 şas 
	cmoduË


8 
	mpublic
:

9 
moduË
();

10 ~
moduË
();

12 
¡©iÚ
 
	m¡©iÚ
;

14 
lßdModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[]);

16 
ä“
();

18 
	m´iv©e
:

	@C:\Sojourner\Sojourner\myicon.rc

1 
myicÚ
 
ICON
 
	gsojouº”
.
	gico


	@C:\Sojourner\Sojourner\parallax.cpp

1 
	~"·¿Îax.h
"

3 
	g·¿Îax
::
	$·¿Îax
()

6 
·¿X
=0;

7 
·¿Y
=0;

8 
·¿X2
=-799;

9 
·¿Y2
=0;

10 
·¿V–X
=0;

12 
·¿ÎaxReù1
.
x
 = 
·¿X
;

13 
·¿ÎaxReù1
.
y
 = 
·¿Y
;

14 
·¿ÎaxReù1
.
w
 = 
PARALLAX_WIDTH
;

15 
·¿ÎaxReù1
.
h
 = 
PARALLAX_HEIGHT
;

17 
·¿ÎaxReù2
.
x
 = 
·¿X2
;

18 
·¿ÎaxReù2
.
y
 = 
·¿Y2
;

19 
·¿ÎaxReù2
.
w
 = 
PARALLAX_WIDTH
;

20 
·¿ÎaxReù2
.
h
 = 
PARALLAX_HEIGHT
;

22 
	}
}

24 
	g·¿Îax
::~
	$·¿Îax
(){

26 
·¿ÎaxTextu»
.
	`ä“
();

28 
	}
}

30 
	g·¿Îax
::
	$šüem’tFÜe
(){

31 
·¿X
+=4;

32 
·¿X2
+=4;

33 
	`upd©eReùs
();

34 
	`»£tP¬®Ïx
();

35 
	}
}

37 
	g·¿Îax
::
	$šüem’tAÁ”iÜMid
(){

38 
·¿X
+=3;

39 
·¿X2
+=3;

40 
	`upd©eReùs
();

41 
	`»£tP¬®Ïx
();

42 
	}
}

45 
	g·¿Îax
::
	$šüem’tMid
(){

46 
·¿X
+=2;

47 
·¿X2
+=2;

48 
	`upd©eReùs
();

49 
	`»£tP¬®Ïx
();

50 
	}
}

52 
	g·¿Îax
::
	$šüem’tBack
(){

53 
·¿X
+=1;

54 
·¿X2
+=1;

55 
	`upd©eReùs
();

56 
	`»£tP¬®Ïx
();

57 
	}
}

59 
	g·¿Îax
::
	$¥ecŸlInüem’tFÜe
(){

60 
·¿X
+=4;

62 
	`upd©eReùs
();

63 
	`¥ecŸlRe£tP¬®Ïx
();

64 
	}
}

66 
	g·¿Îax
::
	$»£tP¬®Ïx
()

68 if(
·¿X
 > 799){

69 
·¿X
 = -799;

71 if(
·¿X2
 > 799){

72 
·¿X2
 = -799;

74 
	}
}

76 
	g·¿Îax
::
	$¥ecŸlRe£tP¬®Ïx
()

78 if(
·¿X
>799){

79 
·¿X
=-1599;

85 
	}
}

87 
	g·¿Îax
::
	$upd©eReùs
()

90 
·¿ÎaxReù1
.
x
=
·¿X
;

91 
·¿ÎaxReù2
.
x
=
·¿X2
;

93 
	}
}

95 
	g·¿Îax
::
	$·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
)

98 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù1
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

99 
·¿ÎaxTextu»
.
	`»nd”
(
·¿ÎaxReù2
.
x
,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

101 
	}
}

103 
	g·¿Îax
::
	$ä“P¬®ÏxTextu»
(){

105 
·¿ÎaxTextu»
.
	`ä“
();

107 
	}
}

	@C:\Sojourner\Sojourner\parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

45 
»£tP¬®Ïx
();

46 
upd©eReùs
();

48 
¥ecŸlRe£tP¬®Ïx
();

50 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

52 
ä“P¬®ÏxTextu»
();

54 
	m´iv©e
:

56 
·¿X
,
	m·¿Y
;

57 
	m·¿X2
,
	m·¿Y2
;

58 
	m·¿V–X
;

	@C:\Sojourner\Sojourner\particle.cpp

1 
	~"·¹işe.h
"

3 
	gP¬tişe
::
	$ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
)

6 
·¹X
 = 20 + (
	`¿nd
() % 760) ;

7 
·¹Y
 = 20 + (
	`¿nd
() % 560) ;

11 
äame
 = 0;

13 
i
 = 0; i<
TOTAL_FRAMES
;i++)

15 
a
 = 
i
;

16 
¡d
::
¡ršg¡»am
 
ss
;

17 
ss
 << "images/ªim©iÚs/¡¬/¡¬" << 
a
 << ".png";

18 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

19 
¡¬
[
i
].
	`lßdFromFe
(
¡r
,
»nd””
);

22 
·¹işeTim”
.
	`¡¬t
();

39 
	}
}

42 
	gP¬tişe
::
	$»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
)

60 
äame
)

62 0: 
¡¬
[0].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

64 1: 
¡¬
[1].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

66 2: 
¡¬
[2].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

68 3: 
¡¬
[3].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

70 4: 
¡¬
[4].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

72 5: 
¡¬
[3].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

74 6: 
¡¬
[2].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

76 7: 
¡¬
[1].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

78 8: 
¡¬
[0].
	`»nd”
(
·¹X
,
·¹Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

82 if(
·¹işeTim”
.
	`g‘Ticks
() % 100 == 0)

84 
äame
++;

85 
·¹işeTim”
.
	`»¡¬t
();

89 
	}
}

91 
boŞ
 
	gP¬tişe
::
	$isD—d
()

93  
äame
 > 9;

94 
	}
}

96 
	gP¬tişe
::
	$šüem’tF¿me
()

98 
äame
++;

99 
	}
}

	@C:\Sojourner\Sojourner\particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

7 cÚ¡ 
	gTOTAL_PARTICLES
 = 50;

9 cÚ¡ 
	gTOTAL_FRAMES
 = 5;

11 şas 
	cP¬tişe


13 
	mpublic
:

16 
tim”
 
·¹işeTim”
;

18 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

21 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

23 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
);

26 
boŞ
 
isD—d
();

28 
	m»nd”CŞÜ
;

30 
šüem’tF¿me
();

33 
	m´iv©e
:

35 
·¹X
, 
	m·¹Y
;

38 
	mäame
;

	@C:\Sojourner\Sojourner\player.cpp

1 
	~"¶ay”.h
"

3 
	g¶ay”
::
	$¶ay”
()

5 
pV–X
 = 
pV–Y
 = 
w®kF¿me
 = 
moveS‹
 = 0;

6 
¶ay”X
 = 380;

7 
¶ay”Y
 = 260;

8 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

9 
æHÜizÚl
 = 
çl£
;

10 
šS·û
=
Œue
;

11 
šRªge
=
çl£
;

12 
š‹¿ù
=
çl£
;

13 
š‹¿ùBed
=
çl£
;

14 
š‹¿ùW©”Tªk
=
çl£
;

15 
š‹¿ùPÏÁ”
=
çl£
;

16 
š‹¿ùK™ch’
=
çl£
;

17 
š‹¿ùInfœm¬y
 = 
çl£
;

18 
š‹¿ùBike
 = 
çl£
;

19 
š‹¿ùRec
 = 
çl£
;

20 
š‹¿ùHabEx™
 = 
çl£
;

21 
š‹¿ùEngEx™
 = 
çl£
;

24 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

25 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

26 
¶ay”CŞlisiÚBox
.
w
 = 30;

27 
¶ay”CŞlisiÚBox
.
h
 = 
PLAYER_HEIGHT
/4;

29 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

31 
Ãed
[
i
] = 100;

33 
	}
}

34 
	g¶ay”
::~
	$¶ay”
()

36 
i
 = 0; i<
MOVE_STATES
;i++)

38 if(
i
==
IDLE
)

40 
j
 = 0; j<
IDLE_TEXTURES
;j++)

42 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

45 if(
i
==
WALK_LR
)

47 
k
 = 0; k<
LR_TEXTURES
;k++)

49 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

52 if(
i
==
WALK_DLDR
)

54 
k
 = 0; k<
DLDR_TEXTURES
;k++)

56 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

59 if(
i
==
WALK_ULUR
)

61 
k
 = 0; k<
ULUR_TEXTURES
;k++)

63 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

66 if(
i
==
WALK_D
)

68 
k
 = 0; k<
D_TEXTURES
;k++)

70 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

73 if(
i
==
WALK_U
)

75 
k
 = 0; k<
U_TEXTURES
;k++)

77 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

81 
cu¼’tTextu»
.
	`ä“
();

82 
	`ä“N“dsTextu»s
();

83 
	}
}

85 
	g¶ay”
::
	$hªdËEv’t
(
SDL_Ev’t
& 
e
)

87 ifĞ
e
.
ty³
 =ğ
SDL_KEYDOWN
 &&ƒ.
key
.
»³©
 == 0)

89 
e
.
key
.
keysym
.
sym
)

91 
SDLK_w
:

92 
pV–Y
 -ğ
PLAYER_VEL
;

94 
SDLK_s
:

95 
pV–Y
 +ğ
PLAYER_VEL
;

97 
SDLK_a
:

98 
pV–X
 -ğ
PLAYER_VEL
;

100 
SDLK_d
:

101 
pV–X
 +ğ
PLAYER_VEL
;

103 
SDLK_e
:

104 
š‹¿ù
 = 
Œue
;

105 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

109 if(
e
.
ty³
 =ğ
SDL_KEYUP
 &&ƒ.
key
.
»³©
 == 0)

111 
e
.
key
.
keysym
.
sym
)

113 
SDLK_w
:

114 
pV–Y
 +ğ
PLAYER_VEL
;

116 
SDLK_s
:

117 
pV–Y
 -ğ
PLAYER_VEL
;

119 
SDLK_a
:

120 
pV–X
 +ğ
PLAYER_VEL
;

122 
SDLK_d
:

123 
pV–X
 -ğ
PLAYER_VEL
;

125 
SDLK_e
:

126 
š‹¿ù
 = 
çl£
;

127 
¡d
::
cout
<<"\Àš‹¿ù: "<<
š‹¿ù
;

131 
	}
}

134 
	g¶ay”
::
	$move
(
tick
, 
SDL_Reù
 
cŞlidabË
[],SDL_Reù 
š‹¿ùabË
[],
STATIONS
,
boŞ
 
šHab
,boŞ 
šEng
)

136 
¶ay”X
 +ğ
pV–X
;

138 if(
¶ay”Y
<360 && 
pV–Y
>0)

140 
¶ay”Y
 +ğ
pV–Y
;

142 if(
¶ay”Y
>160 && 
pV–Y
<0)

144 
¶ay”Y
+=
pV–Y
;

148 if(
pV–X
 > 0)

150 if(
pV–Y
 == 0)

153 
æHÜizÚl
=
çl£
;

155 
moveS‹
 = 
WALK_LR
;

156 if(
tick
%3 == 0)

158 
w®kF¿me
++;

159 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

161 
w®kF¿me
=0;

165 if(
pV–Y
 > 0)

167 
æHÜizÚl
=
çl£
;

168 
moveS‹
=
WALK_DLDR
;

169 if(
tick
%3 == 0)

171 
w®kF¿me
++;

172 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

174 
w®kF¿me
=0;

180 
æHÜizÚl
=
çl£
;

181 
moveS‹
=
WALK_ULUR
;

182 if(
tick
%3 == 0)

184 
w®kF¿me
++;

185 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

187 
w®kF¿me
=0;

191 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

194 if(
pV–X
 < 0)

196 if(
pV–Y
 == 0)

199 
æHÜizÚl
=
Œue
;

201 
moveS‹
=
WALK_LR
;

202 if(
tick
%3 == 0)

204 
w®kF¿me
++;

205 if(
w®kF¿me
 >ğ
LR_TEXTURES
)

207 
w®kF¿me
=0;

211 if(
pV–Y
 > 0)

213 
æHÜizÚl
=
Œue
;

214 
moveS‹
=
WALK_DLDR
;

215 if(
tick
%3 == 0)

217 
w®kF¿me
++;

218 if(
w®kF¿me
 >ğ
DLDR_TEXTURES
)

220 
w®kF¿me
=0;

226 
æHÜizÚl
=
Œue
;

227 
moveS‹
=
WALK_ULUR
;

228 if(
tick
%3 == 0)

230 
w®kF¿me
++;

231 if(
w®kF¿me
 >ğ
ULUR_TEXTURES
)

233 
w®kF¿me
=0;

237 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

243 
æHÜizÚl
=
çl£
;

245 if(
pV–Y
 > 0)

247 
moveS‹
=
WALK_D
;

248 if(
tick
%3 == 0)

250 
w®kF¿me
++;

251 if(
w®kF¿me
 >ğ
D_TEXTURES
)

253 
w®kF¿me
=0;

257 if(
pV–Y
 < 0)

259 
moveS‹
=
WALK_U
;

260 if(
tick
%3 == 0)

262 
w®kF¿me
++;

263 if(
w®kF¿me
 >ğ
U_TEXTURES
)

265 
w®kF¿me
=0;

272 
moveS‹
=
IDLE
;

273 if(
tick
%3 == 0)

275 
w®kF¿me
++;

276 if(
w®kF¿me
 >ğ
IDLE_TEXTURES
)

278 
w®kF¿me
=0;

284 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

287 if((
¶ay”X
 < 0è|| (¶ay”X + 
PLAYER_WIDTH
 > 
SCREEN_WIDTH
) )

289 
¶ay”X
 -ğ
pV–X
;

291 if((
¶ay”Y
 < 0è|| (¶ay”Y + 
PLAYER_HEIGHT
 > 
SCREEN_HEIGHT
) )

293 
¶ay”Y
 -ğ
pV–Y
;

296 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

297 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

299 if(
šHab
)

302 
i
 = 0; i<8;i++)

306 if(
	`cŞlisiÚD‘eùÜ
(
cŞlidabË
[
i
]))

309 
¶ay”X
-=
pV–X
;

310 
¶ay”Y
-=
pV–Y
;

313 if(
	`cŞlisiÚD‘eùÜ
(
š‹¿ùabË
[
i
]))

316 if(
i
==0)

319 
š‹¿ùBed
 = 
Œue
;

322 if(
i
==1)

325 
š‹¿ùW©”Tªk
 = 
Œue
;

327 if(
i
==2)

330 
š‹¿ùPÏÁ”
 = 
Œue
;

332 if(
i
==3)

335 
š‹¿ùK™ch’
 = 
Œue
;

337 if(
i
==4)

339 
š‹¿ùInfœm¬y
 = 
Œue
;

341 if(
i
==5)

343 
š‹¿ùBike
 = 
Œue
;

345 if(
i
==6)

347 
š‹¿ùRec
 = 
Œue
;

349 if(
i
==7)

351 
š‹¿ùHabEx™
 = 
Œue
;

356 if(
i
==0)

359 
š‹¿ùBed
 = 
çl£
;

361 if(
i
==1)

364 
š‹¿ùW©”Tªk
 = 
çl£
;

366 if(
i
==2)

369 
š‹¿ùPÏÁ”
 = 
çl£
;

371 if(
i
==3)

374 
š‹¿ùK™ch’
 = 
çl£
;

376 if(
i
==4)

378 
š‹¿ùInfœm¬y
 = 
çl£
;

380 if(
i
==5)

382 
š‹¿ùBike
 = 
çl£
;

384 if(
i
==6)

386 
š‹¿ùRec
 = 
çl£
;

388 if(
i
==7)

390 
š‹¿ùHabEx™
 = 
çl£
;

395 if(
šEng
)

397 
i
 = 8; i<
STATIONS
;i++)

401 if(
	`cŞlisiÚD‘eùÜ
(
cŞlidabË
[
i
]))

404 
¶ay”X
-=
pV–X
;

405 
¶ay”Y
-=
pV–Y
;

408 if(
	`cŞlisiÚD‘eùÜ
(
š‹¿ùabË
[
i
]))

410 if(
i
==8)

412 
š‹¿ùEngEx™
 = 
Œue
;

417 if(
i
==8)

419 
š‹¿ùEngEx™
 = 
çl£
;

424 
¶ay”BÙ
 = 
¶ay”Y
+
PLAYER_HEIGHT
;

425 
	}
}

427 
	g¶ay”
::
	$lßdPÏy”
(
SDL_R’d””
* 
»nd””
)

429 
¡d
::
cout
<<"\n„unning…layer::loadPlayer(SDL_Renderer*„enderer)";

431 
¶ay”CŞlisiÚBox
.
x
 = 
¶ay”X
+5;

432 
¶ay”CŞlisiÚBox
.
y
 = 
¶ay”Y
+60;

433 
¶ay”CŞlisiÚBox
.
w
=30;

434 
¶ay”CŞlisiÚBox
.
h
=20;

437 
¡d
::
¡ršg¡»am
 
ss
,
ss2
,
ss3
;

438 
ss3
.
	`¡r
("");

439 
ss3
.
	`ş—r
();

440 
¡d
::
¡ršg
 
¡r
 = 
ss3
.
	`¡r
();

441 
i
 = 0; i<
MOVE_STATES
;i++)

443 if(
i
==
IDLE
)

445 if(
šS·û
)

447 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown1");

451 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown1");

453 
ss2
.
	`¡r
(".png");

455 
j
 = 0; j<
IDLE_TEXTURES
;j++)

457 
ss3
 << 
ss
.
	`¡r
();

459 
ss3
 << 
ss2
.
	`¡r
();

460 
¡r
 = 
ss3
.
	`¡r
();

461 
¶ay”Textu»
[
i
][
j
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

462 
ss3
.
	`¡r
( "" );

463 
ss3
.
	`ş—r
();

466 if(
i
==
WALK_LR
)

468 if(
šS·û
)

470 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRight");

474 
ss
.
	`¡r
("images/sprites/PlayerCharacterRight");

477 
ss2
.
	`¡r
(".png");

478 
k
 = 0; k<
LR_TEXTURES
;k++)

480 
ss3
 << 
ss
.
	`¡r
();

481 
ss3
 << (
k
+1);

482 
ss3
 << 
ss2
.
	`¡r
();

483 
¡r
 = 
ss3
.
	`¡r
();

484 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

485 
ss3
.
	`¡r
("");

486 
ss3
.
	`ş—r
();

489 if(
i
==
WALK_DLDR
)

491 if(
šS·û
)

493 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightDown");

497 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightDown");

500 
ss2
.
	`¡r
(".png");

501 
k
 = 0; k<
DLDR_TEXTURES
;k++)

503 
ss3
 << 
ss
.
	`¡r
();

504 
ss3
 << (
k
+1);

505 
ss3
 << 
ss2
.
	`¡r
();

506 
¡r
 = 
ss3
.
	`¡r
();

507 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

508 
ss3
.
	`¡r
("");

509 
ss3
.
	`ş—r
();

512 if(
i
==
WALK_ULUR
)

514 if(
šS·û
)

516 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceRightUp");

520 
ss
.
	`¡r
("images/sprites/PlayerCharacterRightUp");

523 
ss2
.
	`¡r
(".png");

524 
k
 = 0; k<
ULUR_TEXTURES
;k++)

526 
ss3
 << 
ss
.
	`¡r
();

527 
ss3
 << (
k
+1);

528 
ss3
 << 
ss2
.
	`¡r
();

529 
¡r
 = 
ss3
.
	`¡r
();

530 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

531 
ss3
.
	`¡r
("");

532 
ss3
.
	`ş—r
();

535 if(
i
==
WALK_D
)

537 if(
šS·û
)

539 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceDown");

543 
ss
.
	`¡r
("images/sprites/PlayerCharacterDown");

546 
ss2
.
	`¡r
(".png");

547 
k
 = 0; k<
D_TEXTURES
;k++)

549 
ss3
 << 
ss
.
	`¡r
();

550 
ss3
 << (
k
+1);

551 
ss3
 << 
ss2
.
	`¡r
();

552 
¡r
 = 
ss3
.
	`¡r
();

553 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

554 
ss3
.
	`¡r
("");

555 
ss3
.
	`ş—r
();

558 if(
i
==
WALK_U
)

560 if(
šS·û
)

562 
ss
.
	`¡r
("images/sprites/PlayerCharacterSpaceUp");

566 
ss
.
	`¡r
("images/sprites/PlayerCharacterUp");

569 
ss2
.
	`¡r
(".png");

570 
k
 = 0; k<
U_TEXTURES
;k++)

572 
ss3
 << 
ss
.
	`¡r
();

573 
ss3
 << (
k
+1);

574 
ss3
 << 
ss2
.
	`¡r
();

575 
¡r
 = 
ss3
.
	`¡r
();

576 
¶ay”Textu»
[
i
][
k
].
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

577 
ss3
.
	`¡r
("");

578 
ss3
.
	`ş—r
();

582 
cu¼’tTextu»
 = 
¶ay”Textu»
[
moveS‹
][
w®kF¿me
];

583 
	}
}

585 
	g¶ay”
::
	$»nd”
(
SDL_R’d””
* 
»nd””
)

587 if(
æHÜizÚl
)

589 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_HORIZONTAL
,
»nd””
);

593 
cu¼’tTextu»
.
	`»nd”
(
¶ay”X
,
¶ay”Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

596 
	}
}

598 
	g¶ay”
::
	$ä“PÏy”
()

600 
¡d
::
cout
<<"\n„unning…layer::freePlayer()";

601 
i
 = 0; i<
MOVE_STATES
;i++)

603 if(
i
==
IDLE
)

605 
j
 = 0; j<
IDLE_TEXTURES
;j++)

607 
¶ay”Textu»
[
i
][
j
].
	`ä“
();

610 if(
i
==
WALK_LR
)

612 
k
 = 0; k<
LR_TEXTURES
;k++)

614 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

617 if(
i
==
WALK_DLDR
)

619 
k
 = 0; k<
DLDR_TEXTURES
;k++)

621 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

624 if(
i
==
WALK_ULUR
)

626 
k
 = 0; k<
ULUR_TEXTURES
;k++)

628 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

631 if(
i
==
WALK_D
)

633 
k
 = 0; k<
D_TEXTURES
;k++)

635 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

638 if(
i
==
WALK_U
)

640 
k
 = 0; k<
U_TEXTURES
;k++)

642 
¶ay”Textu»
[
i
][
k
].
	`ä“
();

646 
cu¼’tTextu»
.
	`ä“
();

648 
	`ä“N“dsTextu»s
();

649 
	}
}

651 
	g¶ay”
::
	$£tCam”a
(
SDL_Reù
& 
ÿm”a
)

653 
¡d
::
cout
<<"\n„unning…layer::setCamera(SDL_Rect& camera)";

654 
ÿm”a
.
x
 = (
¶ay”CŞlisiÚBox
.x + 
PLAYER_WIDTH
/2è- 
SCREEN_WIDTH
/2;

655 
ÿm”a
.
y
 = (
¶ay”CŞlisiÚBox
.y + 
PLAYER_HEIGHT
/2è- 
SCREEN_HEIGHT
/2;

657 if(
ÿm”a
.
x
 < 0)

659 
ÿm”a
.
x
 = 0;

661 if(
ÿm”a
.
y
 < 0)

663 
ÿm”a
.
y
=0;

666 if(
ÿm”a
.
x
>
SCREEN_WIDTH
-ÿm”a.
w
)

668 
ÿm”a
.
x
=
SCREEN_WIDTH
-ÿm”a.
w
;

670 if(
ÿm”a
.
y
>
SCREEN_HEIGHT
-ÿm”a.
h
)

672 
ÿm”a
.
y
=
SCREEN_HEIGHT
-ÿm”a.
h
;

674 
	}
}

676 
	g¶ay”
::
	$g‘X
()

678  
¶ay”X
;

679 
	}
}

681 
	g¶ay”
::
	$g‘Y
()

683  
¶ay”Y
;

684 
	}
}

686 
	g¶ay”
::
	$g‘PV–X
()

688  
pV–X
;

689 
	}
}

691 
	g¶ay”
::
	$g‘PV–Y
()

693  
pV–Y
;

694 
	}
}

696 
	g¶ay”
::
	$£tX
(
x
)

698 
¶ay”X
 = 
x
;

699 
	}
}

701 
	g¶ay”
::
	$£tY
(
y
)

703 
¶ay”Y
 = 
y
;

704 
	}
}

706 
boŞ
 
	g¶ay”
::
	$cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
)

709 
¶ay”Leá
, 
cŞlidabËLeá
;

710 
¶ay”Right
, 
cŞlidabËRight
;

711 
¶ay”Tİ
, 
cŞlidabËTİ
;

712 
¶ay”BÙtom
, 
cŞlidabËBÙtom
;

714 
¶ay”Leá
 = 
¶ay”CŞlisiÚBox
.
x
;

715 
¶ay”Right
 = 
¶ay”CŞlisiÚBox
.
x
 +…Ïy”CŞlisiÚBox.
w
;

716 
¶ay”Tİ
 = 
¶ay”CŞlisiÚBox
.
y
;

717 
¶ay”BÙtom
 = 
¶ay”CŞlisiÚBox
.
y
 +…Ïy”CŞlisiÚBox.
h
;

719 
cŞlidabËLeá
 = 
cŞlidabË
.
x
;

720 
cŞlidabËRight
 = 
cŞlidabË
.
x
+cŞlidabË.
w
;

721 
cŞlidabËTİ
 = 
cŞlidabË
.
y
;

722 
cŞlidabËBÙtom
 = 
cŞlidabË
.
y
 + cŞlidabË.
h
;

724 ifĞ
¶ay”BÙtom
 <ğ
cŞlidabËTİ
 )

726  
çl£
;

729 ifĞ
¶ay”Tİ
 >ğ
cŞlidabËBÙtom
 )

731  
çl£
;

734 ifĞ
¶ay”Right
 <ğ
cŞlidabËLeá
 )

736  
çl£
;

739 ifĞ
¶ay”Leá
 >ğ
cŞlidabËRight
 )

741  
çl£
;

744  
Œue
;

745 
	}
}

747 
	g¶ay”
::
	$modifyN“ds
(
modN“dV®ues
[])

749 
¡d
::
cout
<<"\n„unning…layer::modifyNeeds(int modNeedValues[])";

752 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

754 
Ãed
[
i
] +ğ
modN“dV®ues
[i];

755 if(
Ãed
[
i
] > 100)

757 
Ãed
[
i
] = 100;

759 if(
Ãed
[
i
] < 0)

761 
Ãed
[
i
] = 0;

764 
	}
}

766 
	g¶ay”
::
	$ä“N“dsTextu»s
()

768 
¡d
::
cout
<<"\n„unning…layer::freeNeedsTextures()";

769 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

771 
ÃedsTextu»
[
i
].
	`ä“
();

773 
	}
}

775 
	g¶ay”
::
	$lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

777 
¡d
::
cout
<<"\n„unning…layer::loadNeedsTextures(SDL_Renderer*„enderer, TTF_Font* font)";

778 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

779 
i
 = 0; i< 
TOTAL_PLAYER_NEEDS
; i++)

785 
¶ay”N“ds
[
i
] = 
¡d
::
	`to_¡ršg
(
Ãed
[i]);

786 if(!
ÃedsTextu»
[
i
].
	`lßdFromR’d”edText
(
¶ay”N“ds
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

788 
¡d
::
cout
<<"\ÀuÇbËØlßd…Ïy”N“ds["<<
i
<<"] stringo‚eedsTexture["<<i<<"]";

791 
	}
}

793 
	g¶ay”
::
	$»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

796 
¡d
::
cout
<<"\n„unning…layer::reloadNeedsTextures(SDL_Renderer*„enderer, TTF_Font* font)";

797 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

798 
i
 = 0; i< 
TOTAL_PLAYER_NEEDS
; i++)

803 
ÃedsTextu»
[
i
].
	`ä“
();

804 
¶ay”N“ds
[
i
] = 
¡d
::
	`to_¡ršg
(
Ãed
[i]);

805 if(!
ÃedsTextu»
[
i
].
	`lßdFromR’d”edText
(
¶ay”N“ds
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

807 
¡d
::
cout
<<"\ÀuÇbËØlßd…Ïy”N“ds["<<
i
<<"] stringo‚eedsTexture["<<i<<"]";

810 
	}
}

812 
	g¶ay”
::
	$»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
)

814 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

816 
ÃedsTextu»
[
i
].
	`»nd”
(20+(i*70),40,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

818 
	}
}

820 
	g¶ay”
::
	$lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[])

822 
¡d
::
cout
<<"\n„unning†oadSavedPlayerData(Uint32 dataValues[])";

824 
i
 = 0; i<
TOTAL_PLAYER_NEEDS
; i++)

826 
Ãed
[
i
] = 
d©aV®ues
[i];

828 
	}
}

	@C:\Sojourner\Sojourner\player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"‹xtu».h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 cÚ¡ 
	gTOTAL_PLAYER_NEEDS
 = 5;

41 şas 
	c¶ay”


43 
	mpublic
:

45 
¶ay”
();

46 ~
¶ay”
();

48 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

49 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

50 cÚ¡ 
	mPLAYER_VEL
 = 5;

52 
	m¶ay”BÙ
;

54 
	mmoveS‹
;

56 
	mw®kF¿me
;

58 
	mÃed
[
TOTAL_PLAYER_NEEDS
];

60 
boŞ
 
	mæHÜizÚl
;

62 
boŞ
 
	mšS·û
;

64 
boŞ
 
	mš‹¿ù
;

66 
boŞ
 
	mšRªge
;

68 
boŞ
 
	mš‹¿ùW©”Tªk
;

70 
boŞ
 
	mš‹¿ùBed
;

72 
boŞ
 
	mš‹¿ùPÏÁ”
;

74 
boŞ
 
	mš‹¿ùK™ch’
;

76 
boŞ
 
	mš‹¿ùInfœm¬y
;

78 
boŞ
 
	mš‹¿ùBike
;

80 
boŞ
 
	mš‹¿ùRec
;

82 
boŞ
 
	mš‹¿ùHabEx™
;

84 
boŞ
 
	mš‹¿ùEngEx™
;

87 
Textu»
 
	mcu¼’tTextu»
;

89 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

91 
	m¡d
::
¡ršg
 
¶ay”N“ds
[
TOTAL_PLAYER_NEEDS
];

93 
modifyN“ds
(
modN“dV®ues
[]);

95 
Textu»
 
	mÃedsTextu»
[
TOTAL_PLAYER_NEEDS
];

97 
lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

99 
»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

101 
»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
);

103 
ä“N“dsTextu»s
();

105 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

107 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

109 
move
(
tick
, 
SDL_Reù
 
cŞlidabË
[], SDL_Reù 
š‹¿ùabË
[],
STATIONS
, 
boŞ
 
šHab
,boŞ 
šEng
);

111 
»nd”
(
SDL_R’d””
* 
»nd””
);

113 
ä“PÏy”
();

115 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

117 
g‘X
();

118 
g‘Y
();

120 
g‘PV–X
();

121 
g‘PV–Y
();

123 
£tX
(
x
);

124 
£tY
(
y
);

126 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

130 
lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[]);

132 
	m´iv©e
:

134 
¶ay”X
,
	m¶ay”Y
;

136 
	mpV–X
,
	mpV–Y
;

138 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@C:\Sojourner\Sojourner\pregameui.cpp

1 
	~"´egameui.h
"

3 
	g´egameui
::
	$´egameui
()

5 
i
 = 0; i<
TOTAL_SAVES
;i++)

7 
exi¡šgSave
[
i
] = 
çl£
;

9 
´om±D–‘e
=
çl£
;

10 
Œigg”D–‘e
 = 
çl£
;

11 
d–‘eCªdid©e
 = 0;

12 
	}
}

14 
	g´egameui
::~
	$´egameui
()

17 
	}
}

19 
´egameui
::
	$lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

21 
İtiÚsBu‰ÚNames
[0]="back";

22 
İtiÚsBu‰ÚNames
[1]="fullScreenToggle";

23 
İtiÚsBu‰ÚNames
[2]="musicToggle";

24 
İtiÚsBu‰ÚNames
[3]="voiceToggle";

26  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

28 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 = 
İtiÚsBu‰ÚNames
[i];

29 
¡d
::
¡ršg¡»am
 
ss
;

30 
ss
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

31 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

32 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

34 if(
i
==0)

36 
¡d
::
¡ršg¡»am
 
ssMO
;

37 
ssMO
 << "images/bu‰Ús/" << 
İtiÚsBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

38 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

39 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

42 
İtiÚsBu‰Ús
[1].
	`fuÎSü“nBu‰ÚTextu»ToggË
(
»nd””
);

43 
İtiÚsBu‰Ús
[2].
	`musicBu‰ÚTextu»ToggË
(
»nd””
);

44 
İtiÚsBu‰Ús
[3].
	`voiûBu‰ÚTextu»ToggË
(
»nd””
);

46 
İtiÚsBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

47 
İtiÚsBu‰Ús
[1].
	`£tPos™iÚ
(20,100);

48 
İtiÚsBu‰Ús
[2].
	`£tPos™iÚ
(20,200);

49 
İtiÚsBu‰Ús
[3].
	`£tPos™iÚ
(20,300);

51 
	}
}

53 
	g´egameui
::
	$»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
)

55 
i
 =0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

57 if(
i
==0)

59 if(
İtiÚsBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

61 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

65 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

70 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(İtiÚsBu‰Ús[i].
	`g‘Pos™iÚX
(),İtiÚsBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

75 
	}
}

77 
	g´egameui
::
	$ä“O±iÚsBu‰Ús
()

79 
i
 = 0; i<
TOTAL_OPTIONS_BUTTONS
;i++)

81 
İtiÚsBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

83 if(
i
==0)

85 
İtiÚsBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

88 
	}
}

90 
	g´egameui
::
	$hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

93 
İtiÚsTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

95 
	`»nd”O±iÚsBu‰Ús
(
»nd””
);

98 
	}
}

101 
	g´egameui
::
	$lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

104 
üed™sBu‰ÚNames
[0]="back";

105 
üed™sBu‰Ús
[0].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[0];

107  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

109 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 = 
üed™sBu‰ÚNames
[i];

110 
¡d
::
¡ršg¡»am
 
ss
;

111 
¡d
::
¡ršg¡»am
 
ssMO
;

112 
ss
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

113 
ssMO
 << "images/bu‰Ús/" << 
üed™sBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

114 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

115 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

116 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

117 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

120 
üed™sBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

121 
	}
}

123 
	g´egameui
::
	$»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
)

125 
i
 =0; i<
TOTAL_CREDITS_BUTTONS
;i++)

127 if(
üed™sBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

129 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

133 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(üed™sBu‰Ús[i].
	`g‘Pos™iÚX
(),üed™sBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

136 
	}
}

138 
	g´egameui
::
	$ä“C»d™sBu‰Ús
()

140 
¡d
::
cout
<<"\n„unning…regameui::freeCreditsButtons()";

141 
i
 = 0; i<
TOTAL_CREDITS_BUTTONS
;i++)

143 
üed™sBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

144 
üed™sBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

146 
	}
}

148 
	g´egameui
::
	$hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

151 
üed™sTextu»
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

152 
	`»nd”C»d™sBu‰Ús
(
»nd””
);

153 
	}
}

155 
	g´egameui
::
	$lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

157 
¡d
::
cout
<<"\n„unning…regameui::loadLoadgameButtons(SDL_Renderer*„enderer)";

158 
lßdgameBu‰ÚNames
[0]="back";

159 
lßdgameBu‰ÚNames
[1]="save1";

160 
lßdgameBu‰ÚNames
[2]="save2";

161 
lßdgameBu‰ÚNames
[3]="save3";

162 
lßdgameBu‰ÚNames
[4]="trash1";

163 
lßdgameBu‰ÚNames
[5]="trash2";

164 
lßdgameBu‰ÚNames
[6]="trash3";

165 
lßdgameBu‰ÚNames
[7]="yes";

166 
lßdgameBu‰ÚNames
[8]="no";

167  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

169 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 = 
lßdgameBu‰ÚNames
[i];

170 
¡d
::
¡ršg¡»am
 
ss
;

171 if(
i
<4)

173 
¡d
::
¡ršg¡»am
 
ssMO
;

174 
ssMO
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

175 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

176 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

178 
ss
 << "images/bu‰Ús/" << 
lßdgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

179 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

180 if(
i
!= 7 && i!= 8)

182  
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

186 
lßdgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

187 
lßdgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

188 
lßdgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

189 
lßdgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

190 
lßdgameBu‰Ús
[4].
	`£tPos™iÚ
(14,125);

191 
lßdgameBu‰Ús
[5].
	`£tPos™iÚ
(14,225);

192 
lßdgameBu‰Ús
[6].
	`£tPos™iÚ
(14,325);

193 
lßdgameBu‰Ús
[7].
	`£tPos™iÚ
(320,250);

194 
lßdgameBu‰Ús
[8].
	`£tPos™iÚ
(420,250);

195 
	}
}

197 
	g´egameui
::
	$»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

200 
i
=0;i<
TOTAL_LOADGAME_BUTTONS
;i++)

202 if(
i
<4)

204 if(
lßdgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

206 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

210 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

213 if(
i
<7)

215 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

219 if(
´om±D–‘e
)

221 if(
lßdgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

223 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

227 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÖßdgameBu‰Ús[i].
	`g‘Pos™iÚX
(),lßdgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

233 
	}
}

235 
	g´egameui
::
	$ä“LßdgameBu‰Ús
()

237 
¡d
::
cout
<<"\n„unning…regameui::freeLoadgameButtons()";

238 
i
 = 0; i<
TOTAL_LOADGAME_BUTTONS
;i++)

240 if(
i
<4)

242 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

243 
lßdgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

244 
lßdgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

248 
lßdgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

249 
lßdgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

252 
	}
}

254 
	g´egameui
::
	$hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

257 if(
´om±D–‘e
)

259 
´om±D–‘eBG
.
	`»nd”
(300,200,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

261 
	`»nd”LßdgameBu‰Ús
(
»nd””
);

262 
	}
}

264 
	g´egameui
::
	$lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

266 
¡d
::
cout
<<"\n„unning…regameui::loadNewgameButtons(SDL_Renderer*„enderer)";

267 
ÃwgameBu‰ÚNames
[0]="back";

268 
ÃwgameBu‰ÚNames
[1]="save1";

269 
ÃwgameBu‰ÚNames
[2]="save2";

270 
ÃwgameBu‰ÚNames
[3]="save3";

271 
ÃwgameBu‰ÚNames
[4]="trash1";

272 
ÃwgameBu‰ÚNames
[5]="trash2";

273 
ÃwgameBu‰ÚNames
[6]="trash3";

274 
ÃwgameBu‰ÚNames
[7]="yes";

275 
ÃwgameBu‰ÚNames
[8]="no";

276  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

278 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 = 
ÃwgameBu‰ÚNames
[i];

279 
¡d
::
¡ršg¡»am
 
ss
;

280 if(
i
<4)

282 
¡d
::
¡ršg¡»am
 
ssMO
;

283 
ssMO
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

284 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

285 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

288 
ss
 << "images/bu‰Ús/" << 
ÃwgameBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

289 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

290 if(
i
!= 7 && i !=8)

292  
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

297 
ÃwgameBu‰Ús
[0].
	`£tPos™iÚ
(600,20);

298 
ÃwgameBu‰Ús
[1].
	`£tPos™iÚ
(40,100);

299 
ÃwgameBu‰Ús
[2].
	`£tPos™iÚ
(40,200);

300 
ÃwgameBu‰Ús
[3].
	`£tPos™iÚ
(40,300);

301 
ÃwgameBu‰Ús
[4].
	`£tPos™iÚ
(14,125);

302 
ÃwgameBu‰Ús
[5].
	`£tPos™iÚ
(14,225);

303 
ÃwgameBu‰Ús
[6].
	`£tPos™iÚ
(14,325);

304 
ÃwgameBu‰Ús
[7].
	`£tPos™iÚ
(320,250);

305 
ÃwgameBu‰Ús
[8].
	`£tPos™iÚ
(420,250);

306 
	}
}

308 
	g´egameui
::
	$»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
)

310 
i
=0;i<
TOTAL_NEWGAME_BUTTONS
;i++)

312 if(
i
<4)

314 if(
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
)

316 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

320 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

323 if(
i
<7)

325 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

329 if(
´om±D–‘e
)

331 if(!
ÃwgameBu‰Ús
[
i
].
mou£Ov”
)

333 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

337 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
ÒewgameBu‰Ús[i].
	`g‘Pos™iÚX
(),ÃwgameBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

342 
	}
}

344 
	g´egameui
::
	$ä“NewgameBu‰Ús
()

346 
¡d
::
cout
<<"\n„unning…regameui::freeNewgameButtons()";

347 
i
 = 0; i<
TOTAL_NEWGAME_BUTTONS
;i++)

349 if(
i
<4 || i == 7 || i == 8)

351 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

352 
ÃwgameBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

353 
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

357 
ÃwgameBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

358 
ÃwgameBu‰Ús
[
i
].
mou£Ov”
 = 
çl£
;

361 
	}
}

363 
	g´egameui
::
	$hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

366 if(
´om±D–‘e
)

368 
´om±D–‘eBG
.
	`»nd”
(300,200,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

370 
	`»nd”NewgameBu‰Ús
(
»nd””
);

371 
	}
}

373 
	g´egameui
::
	$»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
)

376  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

378 ifĞ
·¹işes
[
i
].
	`isD—d
() )

380 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

384  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

386 
·¹işes
[
i
].
	`»nd”
(
»nd””
,·¹işes[i].
»nd”CŞÜ
);

388 
	}
}

390 
	g´egameui
::
	$lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

392 
¡d
::
cout
<<"\n„unning…regameui::loadMainButtons(SDL_Renderer*„enderer)";

393 
mašBu‰ÚNames
[0]="new";

394 
mašBu‰ÚNames
[1]="load";

395 
mašBu‰ÚNames
[2]="options";

396 
mašBu‰ÚNames
[3]="credits";

398  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

400 
mašBu‰Ús
[
i
].
bu‰ÚName
 = 
mašBu‰ÚNames
[i];

401 
¡d
::
¡ršg¡»am
 
ss
;

402 
¡d
::
¡ršg¡»am
 
ssMO
;

403 
ss
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << ".png";

404 
ssMO
 << "images/bu‰Ús/" << 
mašBu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

405 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

406 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

407  
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

408 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
(
¡r2
,
»nd””
);

409 
mašBu‰Ús
[ 
i
 ].
	`£tPos™iÚ
Ğ(((i+1)*160)-80), 
SCREEN_HEIGHT
 - 140 );

411 
	}
}

413 
	g´egameui
::
	$»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
)

416 
i
=0;i<
TOTAL_MAIN_BUTTONS
;i++)

418 if(
mašBu‰Ús
[
i
].
mou£Ov”
 =ğ
çl£
){

419 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

423 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`»nd”
(mašBu‰Ús[i].
	`g‘Pos™iÚX
(),mašBu‰Ús[i].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

426 
	}
}

428 
	g´egameui
::
	$ä“MašBu‰Ús
()

430 
¡d
::
cout
<<"\n„unning…regameui::freeMainButtons()";

431 
i
 = 0; i<
TOTAL_MAIN_BUTTONS
;i++)

433 
mašBu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

434 
mašBu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

435 
mašBu‰Ús
[
i
].
mou£Ov”
=
çl£
;

437 
	}
}

439 
	g´egameui
::
	$hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
)

442 
PGUIBÏckGround
.
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

443 
	`»nd”P¬tişes
(
»nd””
);

444 
t™ËTextu»
.
	`»nd”
Ğ0, 0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
 );

446 
t™Ë
.
	`»nd”
(200, 100,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

448 
	`»nd”MašBu‰Ús
(
»nd””
);

449 
	}
}

451 
	g´egameui
::
	$ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
)

453 
¡d
::
cout
<<"\n„unning…regameui::createParticles(SDL_Renderer*„enderer)";

458  
i
 = 0; i < 
TOTAL_PARTICLES
; ++i )

460 ifĞ
·¹işes
[
i
].
	`isD—d
() )

462 
·¹işes
[
i
].
	`ü—‹P¬tişe
(
»nd””
);

466 
	}
}

469 
boŞ
 
	g´egameui
::
	$lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
)

471 
¡d
::
cout
<<"\n„unning…regameui::loadTitleScreenTextures(SDL_Renderer*„enderer)";

472 
boŞ
 
sucûss
 = 
Œue
;

474 
sucûss
 = 
t™Ë
.
	`lßdFromFe
Ğ"images/t™Ë.²g",
»nd””
 );

475 
sucûss
 = 
t™ËTextu»
.
	`lßdFromFe
Ğ"images/E¬thMoÚ2.²g",
»nd””
 );

476 
sucûss
 = 
PGUIBÏckGround
.
	`lßdFromFe
("images/bÏckground.²g",
»nd””
);

477 if(!
sucûss
)

479 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

481  
sucûss
;

482 
	}
}

484 
boŞ
 
	g´egameui
::
	$lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
)

486 
¡d
::
cout
<<"\n„unning…regameui::loadLoadGameTextures(SDL_Renderer*„enderer)";

487 
boŞ
 
sucûss
 = 
Œue
;

488 
sucûss
 = 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

491 
sucûss
 = 
ch­‹rS–eùTextu»
.
	`lßdFromFe
Ğ"images/Cosmos.²g",
»nd””
 );

492 if(!
sucûss
)

494 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

496  
sucûss
;

497 
	}
}

499 
boŞ
 
	g´egameui
::
	$lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
)

501 
¡d
::
cout
<<"\n„unning…regameui::loadNewGameTextures(SDL_Renderer*„enderer)";

502 
boŞ
 
sucûss
 = 
Œue
;

503 
sucûss
 = 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

504 
sucûss
 = 
ch­‹rS–eùTextu»
.
	`lßdFromFe
Ğ"images/Cosmos.²g",
»nd””
 );

505 if(!
sucûss
)

507 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

509  
sucûss
;

510 
	}
}

512 
boŞ
 
	g´egameui
::
	$lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
)

514 
¡d
::
cout
<<"\n„unning…regameui::loadCreditsTextures(SDL_Renderer*„enderer)";

515 
boŞ
 
sucûss
 = 
Œue
;

516 
sucûss
 = 
üed™sTextu»
.
	`lßdFromFe
Ğ"images/cockp™.²g",
»nd””
 );

517 if(!
sucûss
)

519 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

521  
sucûss
;

522 
	}
}

524 
boŞ
 
	g´egameui
::
	$lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
)

526 
¡d
::
cout
<<"\n„unning…regameui::loadOptionsTextures(SDL_Renderer*„enderer)";

527 
boŞ
 
sucûss
 = 
Œue
;

528 
sucûss
 = 
İtiÚsTextu»
.
	`lßdFromFe
("images/dockšg.²g",
»nd””
 );

529 if(!
sucûss
)

531 
	`´štf
("\n \nhere was‡…roblem†oading…regame UIextures. \n \n");

533  
sucûss
;

534 
	}
}

536 
boŞ
 
	g´egameui
::
	$lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,
boŞ
 
sucûss
)

538 
¡d
::
cout
<<"\n„unning…regameui::loadPregameUI(SDL_Renderer*„enderer,bool success)";

540 
	`lßdMašBu‰Ús
(
»nd””
);

541 
sucûss
 = 
	`lßdT™ËSü“nTextu»s
(
»nd””
);

542  
sucûss
;

543 
	}
}

545 
	g´egameui
::
	$ä“
()

547 
¡d
::
cout
<<"\n„unning…regameui::free()";

549 
	`ä“MašBu‰Ús
();

550 
	`ä“NewgameBu‰Ús
();

551 
	`ä“LßdgameBu‰Ús
();

552 
	`ä“O±iÚsBu‰Ús
();

553 
	`ä“C»d™sBu‰Ús
();

555 
	`ä“T™ËSü“nTextu»s
();

556 
	`ä“NewGameTextu»s
();

557 
	`ä“LßdGameTextu»s
();

558 
	`ä“O±iÚsTextu»s
();

559 
	`ä“C»d™sTextu»s
();

560 
	}
}

562 
	g´egameui
::
	$ä“T™ËSü“nTextu»s
()

564 
¡d
::
cout
<<"\n„unning…regameui::freeTitleScreenTextures()";

566 
t™Ë
.
	`ä“
();

568 
t™ËTextu»
.
	`ä“
();

569 
PGUIBÏckGround
.
	`ä“
();

570 
	}
}

572 
	g´egameui
::
	$ä“NewGameTextu»s
()

574 
¡d
::
cout
<<"\n„unning…regameui::freeNewGameTextures()";

575 
ch­‹rS–eùTextu»
.
	`ä“
();

576 
´om±D–‘eBG
.
	`ä“
();

577 
	}
}

579 
	g´egameui
::
	$ä“LßdGameTextu»s
()

581 
¡d
::
cout
<<"\n„unning…regameui::freeLoadGameTextures()";

582 
ch­‹rS–eùTextu»
.
	`ä“
();

583 
´om±D–‘eBG
.
	`ä“
();

584 
	}
}

586 
	g´egameui
::
	$ä“O±iÚsTextu»s
()

588 
¡d
::
cout
<<"\n„unning…regameui::freeOptionsTextures()";

589 
İtiÚsTextu»
.
	`ä“
();

590 
	}
}

592 
	g´egameui
::
	$ä“C»d™sTextu»s
()

594 
¡d
::
cout
<<"\n„unning…regameui::freeCreditsTextures()";

595 
üed™sTextu»
.
	`ä“
();

596 
	}
}

598 
	g´egameui
::
	$hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 )

603 
ŞdGameS‹
 = 
gameS‹
;

605 if(
gameS‹
==0)

607  
i
 = 0; i < 
TOTAL_MAIN_BUTTONS
; ++i )

610 
gameS‹
 = 
mašBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

612 if(
gameS‹
!=-1)

614 
i
+=
TOTAL_MAIN_BUTTONS
;

618 if(
gameS‹
==1)

620  
i
 = 0; i < 
TOTAL_NEWGAME_BUTTONS
; ++i )

622 
gameS‹
 = 
ÃwgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

624 if(
gameS‹
!=-1)

626 if(
gameS‹
==0)

628 
i
+=
TOTAL_NEWGAME_BUTTONS
;

630 if(
gameS‹
==5)

632 if(!
exi¡šgSave
[
ÃwgameBu‰Ús
[
i
].
cho£nSave
])

634 
cho£nSave
 = 
ÃwgameBu‰Ús
[
i
].chosenSave;

635 
exi¡šgSave
[
cho£nSave
] = 
Œue
;

636 
i
+=
TOTAL_NEWGAME_BUTTONS
;

639 if(
gameS‹
 == 1 || gameState == 2 || gameState == 3)

641 if(
exi¡šgSave
[
gameS‹
-1])

643 if(!
´om±D–‘e
)

645 
´om±D–‘e
 = 
Œue
;

646 
¡d
::
cout
<<"\n PromptDelete was false,‚ow it'srue (trashcan was clicked)";

647 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

648 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ"images/bu‰Ús/yes.²g",
»nd””
 );

649 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/no.²g",
»nd””
);

650 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/yesMO.²g",
»nd””
);

651 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/noMO.²g",
»nd””
);

653 
d–‘eCªdid©e
 = 
gameS‹
-1;

654 
cho£nSave
 = 
d–‘eCªdid©e
;

656 
gameS‹
=-1;

660 if(
gameS‹
==4)

663 
´om±D–‘e
=
çl£
;

664 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (yes was clicked)";

665 
Œigg”D–‘e
 = 
Œue
;

666 
¡d
::
cout
<<"\nrigger delete is‚owrue";

667 
gameS‹
=-1;

668 
´om±D–‘eBG
.
	`ä“
();

669 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

670 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

671 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

672 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

675 if(
gameS‹
 == 6)

677 
´om±D–‘e
=
çl£
;

678 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (no was clicked)";

679 
gameS‹
=-1;

680 
´om±D–‘eBG
.
	`ä“
();

681 
ÃwgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

682 
ÃwgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

683 
ÃwgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

684 
ÃwgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

689 if(
gameS‹
==2)

691  
i
 = 0; i < 
TOTAL_LOADGAME_BUTTONS
; ++i )

693 
gameS‹
 = 
lßdgameBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

695 if(
gameS‹
!=-1)

697 if(
gameS‹
==0)

699 
i
+=
TOTAL_LOADGAME_BUTTONS
;

701 if(
gameS‹
==5)

703 if(
exi¡šgSave
[
lßdgameBu‰Ús
[
i
].
cho£nSave
])

705 
cho£nSave
 = 
lßdgameBu‰Ús
[
i
].chosenSave;

706 
i
+=
TOTAL_LOADGAME_BUTTONS
;

709 if(
gameS‹
 == 1 || gameState == 2 || gameState == 3)

711 if(
exi¡šgSave
[
gameS‹
-1])

713 if(!
´om±D–‘e
)

715 
´om±D–‘e
 = 
Œue
;

716 
¡d
::
cout
<<"\n PromptDelete was false,‚ow it'srue (trashcan was clicked)";

717 
´om±D–‘eBG
.
	`lßdFromFe
("images/¥r™es/d–‘eSaveProm±.²g",
»nd””
);

718 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ"images/bu‰Ús/yes.²g",
»nd””
 );

719 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`lßdFromFe
("images/bu‰Ús/no.²g",
»nd””
);

720 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/yesMO.²g",
»nd””
);

721 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`lßdFromFe
("images/bu‰Ús/noMO.²g",
»nd””
);

723 
d–‘eCªdid©e
 = 
gameS‹
-1;

724 
cho£nSave
 = 
d–‘eCªdid©e
;

726 
gameS‹
=-1;

728 if(
gameS‹
==4)

730 
´om±D–‘e
=
çl£
;

731 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (yes was clicked)";

732 
Œigg”D–‘e
 = 
Œue
;

733 
¡d
::
cout
<<"\nrigger delete is‚owrue";

734 
gameS‹
=-1;

735 
´om±D–‘eBG
.
	`ä“
();

736 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

737 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

738 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

739 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

741 if(
gameS‹
 == 6)

743 
´om±D–‘e
=
çl£
;

744 
¡d
::
cout
<<"\n…romptDelete wasrue,‚ow it's false (no was clicked)";

745 
gameS‹
=-1;

746 
´om±D–‘eBG
.
	`ä“
();

747 
lßdgameBu‰Ús
[7].
bu‰ÚTextu»
.
	`ä“
();

748 
lßdgameBu‰Ús
[8].
bu‰ÚTextu»
.
	`ä“
();

749 
lßdgameBu‰Ús
[7].
bu‰ÚMOTextu»
.
	`ä“
();

750 
lßdgameBu‰Ús
[8].
bu‰ÚMOTextu»
.
	`ä“
();

755 if(
gameS‹
==3)

757  
i
 = 0; i < 
TOTAL_OPTIONS_BUTTONS
; ++i )

759 
gameS‹
 = 
İtiÚsBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

761 if(
gameS‹
!=-1)

763 
i
+=
TOTAL_OPTIONS_BUTTONS
;

767 if(
gameS‹
==4)

769  
i
 = 0; i < 
TOTAL_CREDITS_BUTTONS
; ++i )

771 
gameS‹
 = 
üed™sBu‰Ús
[ 
i
 ].
	`hªdËPGUIEv’t
(
e
, 
wšdow
,
»nd””
 );

773 if(
gameS‹
!=-1)

775 
i
+=
TOTAL_CREDITS_BUTTONS
;

779 if(
gameS‹
<0)

781 
gameS‹
=
ŞdGameS‹
;

783 
ÃwGameS‹
 = 
gameS‹
;

785 if(
ŞdGameS‹
 !ğ
ÃwGameS‹
)

787 
	`lßdS‹
(
ŞdGameS‹
,
ÃwGameS‹
,
»nd””
);

789  
ÃwGameS‹
;

790 
	}
}

792 
	g´egameui
::
	$lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
)

795 
¡d
::
cout
<<"\n„unning…regameui::loadState(int oldGameState, int‚ewGameState, SDL_Renderer*„enderer)";

796 
¡d
::
cout
<<"\À oldGameS‹: "<<
ŞdGameS‹
<<"‚ewGameS‹: "<<
ÃwGameS‹
;

797  
ŞdGameS‹
 )

799 0: 
	`ä“T™ËSü“nTextu»s
();

800 
	`ä“MašBu‰Ús
();

802 1: 
	`ä“NewGameTextu»s
();

803 
	`ä“NewgameBu‰Ús
();

805 2: 
	`ä“LßdGameTextu»s
();

806 
	`ä“LßdgameBu‰Ús
();

808 3: 
	`ä“O±iÚsTextu»s
();

809 
	`ä“O±iÚsBu‰Ús
();

811 4: 
	`ä“C»d™sTextu»s
();

812 
	`ä“C»d™sBu‰Ús
();

815  
ÃwGameS‹
 )

817 0: 
	`lßdT™ËSü“nTextu»s
(
»nd””
);

818 
	`lßdMašBu‰Ús
(
»nd””
);

820 1: 
	`lßdNewGameTextu»s
(
»nd””
);

821 
	`lßdNewgameBu‰Ús
(
»nd””
);

823 2: 
	`lßdLßdGameTextu»s
(
»nd””
);

824 
	`lßdLßdgameBu‰Ús
(
»nd””
);

826 3: 
	`lßdO±iÚsTextu»s
(
»nd””
);

827 
	`lßdO±iÚsBu‰Ús
(
»nd””
);

829 4: 
	`lßdC»d™sTextu»s
(
»nd””
);

830 
	`lßdC»d™sBu‰Ús
(
»nd””
);

833 
	}
}

	@C:\Sojourner\Sojourner\pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

19 
boŞ
 
	m´om±D–‘e
;

20 
	md–‘eCªdid©e
;

21 
boŞ
 
	mŒigg”D–‘e
;

24 
Textu»
 
	mt™Ë
;

25 
Textu»
 
	mt™ËTextu»
;

26 
Textu»
 
	müed™sTextu»
;

27 
Textu»
 
	mİtiÚsTextu»
;

28 
Textu»
 
	mlßdGameTextu»
;

29 
Textu»
 
	mch­‹rS–eùTextu»
;

30 
Textu»
 
	m´om±D–‘eBG
;

32 
Textu»
 
	mPGUIBÏckGround
;

38 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

39 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

40 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

41 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

42 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

45 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

46 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

47 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

48 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

49 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

52 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

53 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

54 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

59 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

60 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

61 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

63 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

66 
ä“MašBu‰Ús
();

67 
ä“NewgameBu‰Ús
();

68 
ä“LßdgameBu‰Ús
();

69 
ä“O±iÚsBu‰Ús
();

70 
ä“C»d™sBu‰Ús
();

72 
	mcho£nSave
;

74 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

77 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

82 
boŞ
 
lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
);

83 
boŞ
 
lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
);

84 
boŞ
 
lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
);

85 
boŞ
 
lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
);

86 
boŞ
 
lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
);

90 
ä“T™ËSü“nTextu»s
();

91 
ä“NewGameTextu»s
();

92 
ä“LßdGameTextu»s
();

93 
ä“O±iÚsTextu»s
();

94 
ä“C»d™sTextu»s
();

97 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

99 
£tBu‰ÚNames
();

101 
ä“Bu‰Ús
();

103 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

105 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

107 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

109 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

111 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

114 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

116 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

118 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

120 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

122 
ä“
();

124 
	m´iv©e
:

	@C:\Sojourner\Sojourner\saveGame.cpp

1 
	~"§veGame.h
"

3 
	g§veGame
::
	$»adP»fsFe
()

5 
¡d
::
cout
<<"\n„unning saveGame::readPrefsFile()";

7 ifĞ
´efsFe
 =ğ
NULL
 )

9 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’…»ã»nû fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

11 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

12 ifĞ
´efsFe
 !ğ
NULL
 )

14 
	`´štf
( "\n New…references file created!\n" );

16  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

18 
´efsD©a
[ 
i
 ] = 0;

19 if(
i
==1 || i==2)

21 
´efsD©a
[
i
]=1;

23 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

26 
	`SDL_RWşo£
Ğ
´efsFe
 );

30 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ fe! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

36 
	`´štf
( "\n Loading Saved Preferences Data...!\n" );

37  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

39 
	`SDL_RW»ad
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

40 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

45 
	`SDL_RWşo£
Ğ
´efsFe
 );

47 
	}
}

49 
	g§veGame
::
	$»adSaveFe
(
feNum
)

51 
¡d
::
cout
<<"\n„unning saveGame::readSaveFile(int fileNum)";

55 
¡d
::
cout
<<"\Àcho£nSave/feNum = "<<
feNum
;

56 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "r+b" );

57 ifĞ
§veFe
 =ğ
NULL
 )

59 
	`´štf
Ğ"\ÀW¬nšg: UÇbËØİ’ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

63 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

64 ifĞ
§veFe
 !ğ
NULL
 )

66 
	`´štf
Ğ"\ÀNew savf%d c»©ed!\n", 
feNum
 );

68  
i
 = 0; i < 
TOTAL_DATA
; ++i )

70 if(
i
<7)

72 
d©a
[ 
i
 ] = 0;

74 if(
i
<18)

76 
d©a
[
i
] = 100;

78 if(
i
<19)

80 
d©a
[
i
] = 1;

82 if(
i
<20)

84 
d©a
[
i
] = 0;

86 if(
i
<21)

88 
d©a
[
i
] = 0;

90 if(
i
<22)

92 
d©a
[
i
] = -1;

94 if(
i
<23)

96 
d©a
[
i
] = 0;

98 if(
i
<24)

100 
d©a
[
i
] = 0;

102 if(
i
<25)

104 
d©a
[
i
] = 0;

106 if(
i
<26)

108 
d©a
[
i
] = 0;

110 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

113 
	`SDL_RWşo£
Ğ
§veFe
 );

117 
	`´štf
Ğ"E¼Ü: UÇbËØü—‹ savf%d! SDL E¼Ü: %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

123 
	`´štf
Ğ"\ÀLßdšg SavGamf%d D©a...!\n", 
feNum
 );

125  
i
 = 0; i < 
TOTAL_DATA
; ++i )

127 
	`SDL_RW»ad
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

128 
¡d
::
cout
<<"\À»adšg "<<
d©a
[
i
]<<" from feNum "<<
feNum
;

130 if(
d©a
[0])

132 
§vedD©e
[
feNum
].
	`¡r
("");

133 
§vedD©e
[
feNum
].
	`ş—r
();

134 
time_t
 
§ved
 = 
d©a
[1];

135 * 
sdt
 = 
	`ùime
(&
§ved
);

136 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

137 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

139 
hours
,
mšu‹s
,
£cÚds
;

140 if(
d©a
[2]/1000 < 0)

142 
£cÚds
 = 0;

146 
£cÚds
 = 
d©a
[2]/1000;

149 ifĞ(
d©a
[2]/1000)/60 < 0 )

151 
mšu‹s
 = 0;

155 
mšu‹s
 = (
d©a
[2]/1000)/60;

158 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

160 
hours
 = 0;

164 
hours
 = ((
d©a
[2]/1000)/60)/60;

167 
§vedPÏyTime
[
feNum
].
	`¡r
("");

168 
§vedPÏyTime
[
feNum
].
	`ş—r
();

169 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

171 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

173 
	`SDL_RWşo£
Ğ
§veFe
 );

175 
	}
}

177 
	g§veGame
::
	$wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
)

179 
¡d
::
cout
<<"\n„unning saveGame::writeSaveFile(int fileNum,stage stage,Uint32…layedTime)";

182 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
Ğ
§veLoÿtiÚ
[
feNum
], "w+b" );

183 ifĞ
§veFe
 !ğ
NULL
 )

185 
time_t
 
now
 = 
	`time
(0);

186 * 
dt
 = 
	`ùime
(&
now
);

187 
¡d
::
cout
<<"\Ànow = "<<
now
;

188 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

190 
d©a
[0] = 
Œue
;

191 
d©a
[1] = 
now
;

192 
d©a
[2] = 
¶ayedTime
;

193 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

194 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

195 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

196 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

198 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

200 
d©a
[
i
+7] = 
¡age
.
¶ay”1
.
Ãed
[i];

202  
i
 = 0; i<
TOTAL_SHIP_GAUGES
;i++)

204 
d©a
[
i
+12] = 
¡age
.
sh
.
gauge
[i];

206 
d©a
[18] = 
¡age
.
¡©iÚ
.
¶ªtOkay
;

207 
d©a
[19] = 
¡age
.
¡©iÚ
.
w©”PÏÁsOkay
;

208 
d©a
[20] = 
¡age
.
timeSurvived
;

209 
d©a
[21] = 
¡age
.
¡©iÚ
.
¶ª‹rS‹
;

210 
d©a
[22] = 
¡age
.
¡©iÚ
.
¶ª‹rDaysS‹
;

211 
d©a
[23] = 
¡age
.
¡©iÚ
.
¶ª‹rTimeW©”ed
;

212 
d©a
[24] = 
¡age
.
’gIÁ”ÇlY1
;

213 
d©a
[25] = 
¡age
.
’gIÁ”ÇlY2
;

215  
i
 = 0; i < 
TOTAL_DATA
; ++i )

217 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

218 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

221 
	`SDL_RWşo£
Ğ
§veFe
 );

225 
	`´štf
Ğ"E¼Ü: UÇbËØ§vf%d! %s\n",
feNum
, 
	`SDL_G‘E¼Ü
() );

227 
	}
}

229 
	g§veGame
::
	$d–‘eSave
(
feNum
)

231 
¡d
::
cout
<<"\n„unning saveGame::deleteSave(int fileNum)";

233 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "r+b" );

234 ifĞ
§veFe
 !ğ
NULL
 )

236 
	`´štf
Ğ"\ÀRefÜm©tšg savef%d", 
feNum
 );

238  
i
 = 0; i < 
TOTAL_DATA
; ++i )

241 if(
i
<7)

243 
d©a
[ 
i
 ] = 0;

245 if(
i
<18)

247 
d©a
[
i
] = 100;

249 if(
i
<19)

251 
d©a
[
i
] = 1;

253 if(
i
<20)

255 
d©a
[
i
] = 0;

257 if(
i
<21)

259 
d©a
[
i
] = 0;

261 if(
i
<22)

263 
d©a
[
i
] = -1;

265 if(
i
<23)

267 
d©a
[
i
] = 0;

269 if(
i
<24)

271 
d©a
[
i
] = 0;

273 if(
i
<25)

275 
d©a
[
i
] = 0;

277 if(
i
<26)

279 
d©a
[
i
] = 0;

281 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

284 
	`SDL_RWşo£
Ğ
§veFe
 );

286 
§vedPÏyTime
[
feNum
].
	`¡r
() = "";

287 
§vedD©e
[
feNum
].
	`¡r
() = "";

288 
	}
}

290 
	g§veGame
::
	$wr™eP»fsFe
(
´egameui
…regameui)

292 
¡d
::
cout
<<"\n„unning saveGame::writePrefsFile(pregameui…regameui)";

295 
´efsD©a
[0] = 
´egameui
.
İtiÚsBu‰Ús
[1].
fuÎSü“nToggË
;

296 
´efsD©a
[1] = 
´egameui
.
İtiÚsBu‰Ús
[2].
musicToggË
;

297 
´efsD©a
[2] = 
´egameui
.
İtiÚsBu‰Ús
[3].
voiûToggË
;

301 
SDL_RWİs
* 
´efsFe
 = 
	`SDL_RWFromFe
( "savegame/prefs.ssf", "w+b" );

302 ifĞ
´efsFe
 !ğ
NULL
 )

305  
i
 = 0; i < 
TOTAL_PREFS_DATA
; ++i )

307 
	`SDL_RWwr™e
Ğ
´efsFe
, &
´efsD©a
[ 
i
 ], (
boŞ
), 1 );

308 
¡d
::
cout
<<"\À"<<
´efsD©a
[
i
];

312 
	`SDL_RWşo£
Ğ
´efsFe
 );

317 
	`´štf
Ğ"E¼Ü: UÇbËØ§vfe! %s\n", 
	`SDL_G‘E¼Ü
() );

319 
¡d
::
cout
<<"\n write…refs function complete";

321 
	}
}

323 
	g§veGame
::
	$upd©eSaveD©a
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
)

325 
¡d
::
cout
<<"\n„unning saveGame::updateSaveData(stage stage,Uint32…layedTime)";

326 
time_t
 
now
 = 
	`time
(0);

327 * 
dt
 = 
	`ùime
(&
now
);

328 
¡d
::
cout
<<"\Ànow = "<<
now
;

329 
¡d
::
cout
<<"\Àcu¼’ˆd©&ime: "<<
dt
;

331 
d©a
[0] = 
Œue
;

332 
d©a
[1] = 
now
;

333 
d©a
[2] = 
¶ayedTime
;

334 
¡d
::
cout
<<"\À¶ayedTimğ"<<
¶ayedTime
;

335 
d©a
[3] = 
¡age
.
¶ay”1
.
	`g‘X
();

336 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘X(èğ"<<
¡age
.
¶ay”1
.
	`g‘X
();

337 
d©a
[4] = 
¡age
.
¶ay”1
.
	`g‘Y
();

338 
¡d
::
cout
<<"\À¡age.¶ay”1.g‘Y(èğ"<<
¡age
.
¶ay”1
.
	`g‘Y
();

339 
d©a
[5] = 
¡age
.
habIÁ”ÇlY1
;

340 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY1 = "<<
¡age
.
habIÁ”ÇlY1
;

341 
d©a
[6] = 
¡age
.
habIÁ”ÇlY2
;

342 
¡d
::
cout
<<"\À¡age.habIÁ”ÇlY2 = "<<
¡age
.
habIÁ”ÇlY2
;

345 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

347 
d©a
[
i
+7] = 
¡age
.
¶ay”1
.
Ãed
[i];

349 
i
 = 0; i <
TOTAL_SHIP_GAUGES
;i++ )

351 
d©a
[
i
+12] = 
¡age
.
sh
.
gauge
[i];

354 
d©a
[18] = 
¡age
.
¡©iÚ
.
¶ªtOkay
;

355 
d©a
[19] = 
¡age
.
¡©iÚ
.
w©”PÏÁsOkay
;

356 
d©a
[20] = 
¡age
.
timeSurvived
;

357 
d©a
[21] = 
¡age
.
¡©iÚ
.
¶ª‹rS‹
;

358 
d©a
[22] = 
¡age
.
¡©iÚ
.
¶ª‹rDaysS‹
;

359 
d©a
[23] = 
¡age
.
¡©iÚ
.
¶ª‹rTimeW©”ed
;

360 
d©a
[24] = 
¡age
.
’gIÁ”ÇlY1
;

361 
d©a
[24] = 
¡age
.
’gIÁ”ÇlY2
;

363 
SDL_RWİs
* 
§veFe
 = 
	`SDL_RWFromFe
(
§veLoÿtiÚ
[
feNum
], "w+b");

364  
i
 = 0; i < 
TOTAL_DATA
; ++i )

366 
	`SDL_RWwr™e
Ğ
§veFe
, &
d©a
[ 
i
 ], (
Sšt32
), 1 );

367 
¡d
::
cout
<<"\Àwr™šg "<<
d©a
[
i
]<<"ØfeNum "<<
feNum
;

370 
	`SDL_RWşo£
Ğ
§veFe
 );

371 
	}
}

373 
	g§veGame
::
	$upd©eSavedM‘aD©a
(
feNum
, 
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

376 
¡d
::
cout
<<"\n„unning saveGame::updateSavedMetaData(int fileNum, SDL_Renderer*„enderer,TTF_Font* font)";

377 
§vedD©e
[
feNum
].
	`¡r
("");

378 
§vedD©e
[
feNum
].
	`ş—r
();

379 
time_t
 
§ved
 = 
d©a
[1];

380 * 
sdt
 = 
	`ùime
(&
§ved
);

381 
¡d
::
cout
<<"\Àsdt: "<<
sdt
;

382 
§vedD©e
[
feNum
] << "La¡ Saved: " << 
sdt
;

385 
¡d
::
¡ršg
 
s
 = 
§vedD©e
[
feNum
].
	`¡r
();

386 
s
.
	`”a£
(36,2);

387 
§vedD©e
[
feNum
].
	`¡r
(
s
);

388 
¡d
::
cout
<<"\À§vedD©e["<<
feNum
<<"]: "<<
§vedD©e
[feNum].
	`¡r
();

389 
¡d
::
cout
<<"\Àd©a[2] (¶ayedTimeèğ"<<
d©a
[2];

390 
hours
,
mšu‹s
,
£cÚds
;

391 if(
d©a
[2]/1000 < 0)

393 
£cÚds
 = 0;

397 
£cÚds
 = 
d©a
[2]/1000;

399 ifĞ(
d©a
[2]/1000)/60 < 0 )

401 
mšu‹s
 = 0;

405 
mšu‹s
 = (
d©a
[2]/1000)/60;

407 ifĞĞ(
d©a
[2]/1000)/60 )/60 < 0 )

409 
hours
 = 0;

413 
hours
 = ((
d©a
[2]/1000)/60)/60;

415 
§vedPÏyTime
[
feNum
].
	`¡r
("");

416 
§vedPÏyTime
[
feNum
].
	`ş—r
();

417 
§vedPÏyTime
[
feNum
] << "TimPÏyed: " << 
hours
 << " hrs, "<<(
mšu‹s
%60)<<" mšs, "<<(
£cÚds
%60)<<" secs";

418 
¡d
::
cout
<<"\À§vedPÏyTime["<<
feNum
<<"]: "<<
§vedPÏyTime
[feNum].
	`¡r
();

419 
¡d
::
cout
<<"\n";

420 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,0,0};

425 
‹xtCŞÜ
 = {0,128,200};

426 
	}
}

428 
	g§veGame
::
	$lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

430 
¡d
::
cout
<<"\n„unning saveGame::loadSaveTextTextures(SDL_Renderer*„enderer, TTF_Font* font)";

431 
i
 =0; i<
TOTAL_SAVES
;i++)

434 
§vedD©eTextu»
[
i
].
	`ä“
();

435 
§vedPÏyTimeTextu»
[
i
].
	`ä“
();

438 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

439 
i
=0; i<
TOTAL_SAVES
;i++)

441 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<"]: "<<
§vedD©e
[i].
	`¡r
().
	`c_¡r
();

442 if(
§vedD©e
[
i
].
	`¡r
() == "")

444 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<".str() = \"\"";

445 
§vedD©e
[
i
].
	`¡r
("Empty");

447 if(!
§vedD©eTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedD©e
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

449 
¡d
::
cout
<<"\ÀuÇbËØlßd savedD©e["<<
i
<<"] streamstringo savedDateTexture["<<i<<"]";

453 
¡d
::
cout
<<"\À§vedD©eTextu»["<<
i
<<"] is†oaded from streamstring";

454 
¡d
::
cout
<<"\À§vedD©e["<<
i
<<"]: "<<
§vedD©e
[i].
	`¡r
();

456 if(
§vedPÏyTime
[
i
].
	`¡r
() == "")

458 
§vedPÏyTime
[
i
].
	`¡r
("Empty");

460 if(!
§vedPÏyTimeTextu»
[
i
].
	`lßdFromR’d”edText
(
§vedPÏyTime
[i].
	`¡r
().
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

462 
¡d
::
cout
<<"\ÀuÇbËØ»nd” savedPÏyTime["<<
i
<<"] streamstringo savedPlayTimeTexture["<<i<<"]";

466 
¡d
::
cout
<<"\À§vedPÏyTimeTextu»["<<
i
<<"] is†oaded from streamstring";

467 
¡d
::
cout
<<"\À§vedPÏyTime["<<
i
<<"]: "<<
§vedPÏyTime
[i].
	`¡r
();

470 
	}
}

472 
	g§veGame
::
	$hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
)

474 
i
; i<
TOTAL_SAVES
;i++)

476 
§vedPÏyTimeTextu»
[
i
].
	`»nd”
(160,(110+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

477 
§vedD©eTextu»
[
i
].
	`»nd”
(160,(130+(i*100)),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

479 
	}
}

481 
	g§veGame
::
	$ä“TextTextu»s
()

483 
¡d
::
cout
<<"\n freeing savedMetaDataTextTextures";

484 
i
; i<
TOTAL_SAVES
; i++)

486 
§vedPÏyTimeTextu»
[
i
].
	`ä“
();

487 
§vedD©eTextu»
[
i
].
	`ä“
();

489 
	}
}

491 
	g§veGame
::
	$£tD©aV®ues
()

494 
i
 = 0; i < 4; i++)

496 
d©aV®ues1
[
i
] = 
d©a
[i+3];

498 
d©aV®ues1
[4] = 
d©a
[24];

499 
d©aV®ues1
[5] = 
d©a
[25];

501 
j
 = 0; j < 
TOTAL_PLAYER_NEEDS
; j++)

503 
d©aV®ues2
[
j
] = 
d©a
[j+7];

506 
k
 = 0; k < 
TOTAL_SHIP_GAUGES
; k++)

508 
d©aV®ues3
[
k
] = 
d©a
[k+12];

510 
	}
}

	@C:\Sojourner\Sojourner\saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 26;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

40 
»adP»fsFe
();

43 
»adSaveFe
(
feNum
);

45 
wr™eP»fsFe
(
´egameui
…regameui);

47 
wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
);

49 
upd©eSaveD©a
(
feNum
,
¡age
 sge, 
Ušt32
 
¶ayedTime
);

51 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

53 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

55 
lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

57 
ä“TextTextu»s
();

59 
d–‘eSave
(
feNum
);

64 
Ušt32
 
	gd©aV®ues1
[6];

66 
Ušt32
 
	gd©aV®ues2
[5];

68 
Ušt32
 
	gd©aV®ues3
[6];

70 
£tD©aV®ues
();

73 
	g´iv©e
:

	@C:\Sojourner\Sojourner\ship.cpp

1 
	~"sh.h
"

3 
	gsh
::
	$sh
()

5 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

7 
gauge
[
i
] = 100;

9 
	}
}

11 
	gsh
::~
	$sh
()

14 
	}
}

16 
sh
::
	$modifyGauges
(
modGaugeV®ues
[])

18 
¡d
::
cout
<<"\n„unning ship::modifyGauges(int modGaugeValues[])";

21 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

23 
gauge
[
i
] +ğ
modGaugeV®ues
[i];

24 if(
gauge
[
i
] > 100)

26 
gauge
[
i
] = 100;

28 if(
gauge
[
i
] < 0)

30 
gauge
[
i
] = 0;

33 
	}
}

36 
	gsh
::
	$lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

39 
¡d
::
cout
<<"\n„unning ship::loadGaugesTextures(SDL_Renderer*„enderer, TTF_Font* font)";

40 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

41 
i
 = 0; i< 
TOTAL_SHIP_GAUGES
; i++)

43 
¡d
::
cout
<<"\Àgauge["<<
i
<<"] v®ue: "<<
gauge
[i];

44 
shGauges
[
i
] = 
¡d
::
	`to_¡ršg
(
gauge
[i]);

45 if(!
gaugesTextu»
[
i
].
	`lßdFromR’d”edText
(
shGauges
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

47 
¡d
::
cout
<<"\ÀuÇbËØlßd shGauges["<<
i
<<"] stringo gaugesTexture["<<i<<"]";

50 
	}
}

52 
	gsh
::
	$»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

54 
	`ä“GaugesTextu»s
();

57 
¡d
::
cout
<<"\n„unning ship::reloadGaugesTextures(SDL_Renderer*„enderer,TTF_Font* font)";

58 
SDL_CŞÜ
 
‹xtCŞÜ
 = {0,128,200};

59 
i
 = 0; i< 
TOTAL_SHIP_GAUGES
; i++)

61 
shGauges
[
i
] = 
¡d
::
	`to_¡ršg
(
gauge
[i]);

62 if(!
gaugesTextu»
[
i
].
	`lßdFromR’d”edText
(
shGauges
[i], 
‹xtCŞÜ
,
fÚt
,
»nd””
))

64 
¡d
::
cout
<<"\ÀuÇbËØlßd shGauges["<<
i
<<"] stringo gaugesTexture["<<i<<"]";

67 
	}
}

69 
	gsh
::
	$»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
)

71 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

73 
gaugesTextu»
[
i
].
	`»nd”
(450+(i*60),40,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

75 
	}
}

77 
	gsh
::
	$ä“GaugesTextu»s
()

79 
¡d
::
cout
<<"\n„unning ship::freeGaugesTextures()";

80 
i
 = 0; i < 
TOTAL_SHIP_GAUGES
; i++)

82 
gaugesTextu»
[
i
].
	`ä“
();

84 
	}
}

86 
	gsh
::
	$ä“
()

88 
hab™©iÚ
.
	`ä“
();

89 
’gš“ršg
.
	`ä“
();

90 
	`ä“GaugesTextu»s
();

91 
	}
}

93 
	gsh
::
	$lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[])

95 
¡d
::
cout
<<"\n„unning ship::loadSavedShipData(Uint32 dataValues[])";

97 
i
 = 0; i<
TOTAL_SHIP_GAUGES
; i++)

99 
gauge
[
i
] = 
d©aV®ues
[i];

100 
¡d
::
cout
<<"\Àgauge["<<
i
<<"]: "<<
gauge
[i];

102 
	}
}

104 
	gsh
::
	$lßdSh
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

106 
hab™©iÚ
.
	`lßdModuË
(
»nd””
,
fÚt
,
gauge
);

107 
	}
}

	@C:\Sojourner\Sojourner\ship.h

1 #iâdeà
SHIP_H


2 
	#SHIP_H


	)

4 
	~"moduË.h
"

6 cÚ¡ 
	gTOTAL_SHIP_GAUGES
 = 6;

8 şas 
	csh


10 
	mpublic
:

12 
sh
();

13 ~
sh
();

15 
moduË
 
	mhab™©iÚ
;

16 
moduË
 
	m’gš“ršg
;

19 
	mgauge
[
TOTAL_SHIP_GAUGES
];

21 
	m¡d
::
¡ršg
 
shGauges
[
TOTAL_SHIP_GAUGES
];

23 
modifyGauges
(
modGaugeV®ues
[]);

25 
Textu»
 
	mgaugesTextu»
[
TOTAL_SHIP_GAUGES
];

27 
lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

29 
»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

31 
»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
);

33 
ä“GaugesTextu»s
();

35 
ä“
();

37 
lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[]);

39 
lßdSh
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

41 
	m´iv©e
:

	@C:\Sojourner\Sojourner\stage.cpp

1 
	~"¡age.h
"

3 
	g¡age
::
	$¡age
()

5 
š‹º®V›w
=
çl£
;

6 
ex‹º®V›w
=
Œue
;

7 
showPÏy”
=
çl£
;

8 
habIÁ”ÇlY1
=0;

9 
habIÁ”ÇlY2
=-600;

10 
’gIÁ”ÇlY1
 = 0;

11 
’gIÁ”ÇlY2
 = -600;

12 
timeSurvived
 = 0;

14 
šHab
 = 
Œue
;

16 
šEng
 = 
çl£
;

17 
	}
}

19 
	g¡age
::~
	$¡age
()

22 
	}
}

24 
¡age
::
	$ä“Bu‰Ús
()

26 
¡d
::
cout
<<"\n„unning stage::freeButtons()";

28 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

30 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`ä“
();

31 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`ä“
();

33 
	}
}

35 
boŞ
 
	g¡age
::
	$£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
sucûss
)

37 
¡d
::
cout
<<"\n„unning stage::setStageButtonTextures(SDL_Renderer*„enderer, bool success)";

39  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

41 if(
i
<1)

43 
¡d
::
¡ršg¡»am
 
ss
;

44 
¡d
::
¡ršg¡»am
 
ssMO
;

45 
ss
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << ".png";

46 
ssMO
 << "images/bu‰Ús/" << 
bu‰Ús
[
i
].
bu‰ÚName
 << "MO.png";

47 
¡d
::
¡ršg
 
¡r
 = 
ss
.
	`¡r
();

48 
¡d
::
¡ršg
 
¡r2
 = 
ssMO
.
	`¡r
();

49 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚTextu»
.
	`lßdFromFe
Ğ
¡r
,
»nd””
 );

50 
sucûss
 = 
bu‰Ús
[
i
].
bu‰ÚMOTextu»
.
	`lßdFromFe
Ğ
¡r2
,
»nd””
 );

54 
bu‰Ús
[0].
	`£tPos™iÚ
(600,80);

56  
sucûss
;

57 
	}
}

59 
	g¡age
::
	$£tBu‰ÚNames
()

61 
¡d
::
cout
<<"\n„unning stage::setButtonNames()";

63 
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; i++)

65 
bu‰Ús
[
i
].
	`£tSgeBu‰ÚName
(i);

67 
	}
}

69 
boŞ
 
	g¡age
::
	$£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
)

71 
¡d
::
cout
<<"\n„unning stage::setStageTextures(SDL_Renderer*„enderer)";

73 
boŞ
 
sucûss
 = 
Œue
;

74 
	`£tFeNames
();

75 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

77 
sucûss
 = 
¡age1BG
[
i
].
	`lßdFromFe
Ğ
bgFeName
[i],
»nd””
 );

79 
i
 = 0; i < 
TOTAL_STAGE_UI
; i++)

81 
sucûss
 = 
UI
[
i
].
	`lßdFromFe
(
uiFeName
[i],
»nd””
);

83 
sucûss
 = 
¡¬sFÜe
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬ÏxfÜe.²g",
»nd””
);

84 
sucûss
 = 
¡¬sMid
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxmid.²g",
»nd””
);

85 
sucûss
 = 
¡¬sBack
.
·¿ÎaxTextu»
.
	`lßdFromFe
("images/¡¬Ïxback.²g",
»nd””
);

87 
cou¿ge
 = "Courage is freedom in…ractice.";

89 
¡d
::
cout
<<"\n courage functionƒxecuted";

90 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

91 if(!
cou¿geTextu»
.
	`lßdFromR’d”edText
(
cou¿ge
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

93 
¡d
::
cout
<<"\n unableo„ender courage stringo courageTexture!";

96  
sucûss
;

97 
	}
}

99 
	g¡age
::
	$£tFeNames
()

101 
¡d
::
cout
<<"\n„unning stage::setFileNames()";

103 
bgFeName
[0] = "images/blackground.png";

104 
bgFeName
[1] = "images/outerShip1.png";

105 
bgFeName
[2] = "images/habitation1.png";

106 
bgFeName
[3] = "images/habitation2.png";

107 
bgFeName
[4] = "images/engineering1.png";

108 
bgFeName
[5] = "images/engineering2.png";

110 
uiFeName
[0] = "images/UI.png";

112 
	}
}

114 
	g¡age
::
	$ä“BGTextu»s
()

116 
¡d
::
cout
<<"\n„unning stage::freeBGTextures()";

118 
i
 = 0; i<
TOTAL_STAGE_BACKGROUNDS
;i++)

120 
¡age1BG
[
i
].
	`ä“
();

122 
cou¿geTextu»
.
	`ä“
();

123 
¡¬sFÜe
.
	`ä“P¬®ÏxTextu»
();

124 
¡¬sMid
.
	`ä“P¬®ÏxTextu»
();

125 
¡¬sBack
.
	`ä“P¬®ÏxTextu»
();

126 
	}
}

128 
	g¡age
::
	$ä“UITextu»s
()

130 
¡d
::
cout
<<"\n„unning stage::freeUITextures()";

131 
i
 = 0; i < 
TOTAL_STAGE_UI
; i++)

133 
UI
[
i
].
	`ä“
();

135 
	}
}

137 
	g¡age
::
	$lßdFÚt
()

139 
¡d
::
cout
<<"\n„unning stage::loadFont()";

141 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 12 );

143 
	}
}

145 
boŞ
 
	g¡age
::
	$lßdSge
(
SDL_R’d””
* 
»nd””
, 
boŞ
 
sucûss
)

147 
¡d
::
cout
<<"\n„unning stage::loadStage(SDL_Renderer*„enderer, bool success)";

149 
	`£tBu‰ÚNames
();

151 
	`lßdFÚt
();

153 
sucûss
 = 
	`£tSgeBu‰ÚTextu»s
(
»nd””
,success);

155 
sucûss
 = 
	`£tSgeTextu»s
(
»nd””
);

157 
	`lßdTimeSurvivedTextu»s
(
»nd””
);

159 
¶ay”1
.
	`lßdPÏy”
(
»nd””
);

161 
¶ay”1
.
	`lßdN“dsTextu»s
(
»nd””
,
fÚt
);

162 
sh
.
	`lßdSh
(
»nd””
,
fÚt
);

165 
sh
.
	`lßdGaugesTextu»s
(
»nd””
,
fÚt
);

166  
sucûss
;

167 
	}
}

169 
	g¡age
::
	$ä“
()

171 
¡d
::
cout
<<"\n„unning stage::free()";

173 
	`ä“TimeSurvivedTextu»s
();

174 
	`ä“Bu‰Ús
();

175 
	`ä“BGTextu»s
();

176 
	`ä“UITextu»s
();

177 
¶ay”1
.
	`ä“PÏy”
();

179 
sh
.
	`ä“
();

181 
	}
}

183 
	g¡age
::
	$hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
bu‰ÚClicked
)

186 if(
bu‰ÚClicked
==1)

189 
š‹º®V›w
 = 
çl£
;

190 
showPÏy”
 = 
çl£
;

191 
ex‹º®V›w
 = 
Œue
;

193 if(
bu‰ÚClicked
==2)

195 
š‹º®V›w
=
Œue
;

196 
showPÏy”
=
Œue
;

197 
ex‹º®V›w
=
çl£
;

199 if(
bu‰ÚClicked
 == 3)

204 if(
¡©iÚ
.
¶ªtOkay
)

207 
¡©iÚ
.
w©”PÏÁsOkay
 = 
Œue
;

208 
¡©iÚ
.
¶ªtOkay
 = 
çl£
;

209 
¡©iÚ
.
¶ª‹rDaysS‹
 = 0;

210 
¡©iÚ
.
¶ª‹rS‹
 = 0;

211 
¡©iÚ
.
š‹¿ùed
 = 
Œue
;

212 
¡d
::
cout
<<"\À¶ªtOkay: "<<
¡©iÚ
.
¶ªtOkay
;

213 
timeSurvived
 += 30;

214 
	`»äeshTS
(
»nd””
);

216 
¶ªt
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,-5};

217 
¶ay”1
.
	`modifyN“ds
(
¶ªt
);

218 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

223 if(
bu‰ÚClicked
 == 4)

226 if(!
¡©iÚ
.
¶ªtOkay
 && stiÚ.
w©”PÏÁsOkay
)

229 
¡©iÚ
.
w©”PÏÁsOkay
 = 
çl£
;

230 
¡©iÚ
.
¶ª‹rTimeW©”ed
 = 
timeSurvived
;

231 
¡©iÚ
.
š‹¿ùed
 = 
Œue
;

232 
¡d
::
cout
<<"\Àw©”PÏÁsOkay: "<<
¡©iÚ
.
w©”PÏÁsOkay
;

234 
timeSurvived
 +=30;

235 
	`»äeshTS
(
»nd””
);

240 
w©”
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,-5};

241 
¶ay”1
.
	`modifyN“ds
(
w©”
);

242 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

243 
w©”Deüem’t
[6] = {0,0,0,-2,0,0};

244 
sh
.
	`modifyGauges
(
w©”Deüem’t
);

245 
sh
.
	`»lßdGaugesTextu»s
(
»nd””
,
fÚt
);

247 
¡©iÚ
.
	`lßdIÁ”aùW©”Tªk
(
»nd””
,
fÚt
,
sh
.
gauge
[3]);

252 
	}
}

254 
	g¡age
::
	$hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 )

258 
bu‰ÚClicked
 = 0;

262 
bu‰Ús
[1].
bu‰ÚTextu»
 = 
¡©iÚ
.
¶ªtTextu»
;

263 
bu‰Ús
[1].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
()-20);

265 
bu‰Ús
[2].
bu‰ÚTextu»
 = 
¡©iÚ
.
w©”PÏÁsTextu»
;

266 
bu‰Ús
[2].
	`£tPos™iÚ
(
¶ay”1
.
	`g‘X
()+50,¶ay”1.
	`g‘Y
());

269  
i
 = 0; i < 
TOTAL_STAGE_BUTTONS
; ++i )

271 
bu‰ÚClicked
 = 
bu‰Ús
[ 
i
 ].
	`hªdËSgeEv’t
(
š‹º®V›w
,bu‰Ús[i].
bu‰ÚName
, 
e
 );

272 if(
bu‰ÚClicked
 != 0)

274 
i
+=
TOTAL_STAGE_BUTTONS
;

282 
	`hªdËSgeBu‰ÚP»s£s
(
»nd””
,
bu‰ÚClicked
);

284 if(
bu‰ÚClicked
 == 1)

293 
	}
}

295 
	g¡age
::
	$»nd”Sge1
(
SDL_R’d””
* 
»nd””
)

297 
¡age1BG
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

298 
	`¡¬sHªdËP¬®Ïx
(
»nd””
);

299 if(
ex‹º®V›w
)

301 
¡age1BG
[1].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

302 
cou¿geTextu»
.
	`»nd”
(10,580,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

304 if(
š‹º®V›w
)

306 if(
šHab
)

308 
	`habIÁ”ÇlHªdËP¬®Ïx
(
»nd””
);

310 if(
šEng
)

312 
	`’gIÁ”ÇlHªdËP¬®Ïx
(
»nd””
);

317 if(
š‹º®V›w
)

320 if(
šHab
)

322 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”HabStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

325 if(
šEng
)

327 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”EngStiÚBehšdPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

332 if(
showPÏy”
)

334 
¶ay”1
.
	`»nd”
(
»nd””
);

336 if(
šHab
)

338 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”HabStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

342 if(
¶ay”1
.
š‹¿ù
)

344 if(
¶ay”1
.
š‹¿ùW©”Tªk
)

346 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùW©”Tªk
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

348 if(
¶ay”1
.
š‹¿ùBed
)

350 if(
¶ay”1
.
Ãed
[3]<100)

353 
¦umb”Bag
[
TOTAL_PLAYER_NEEDS
] = {0,-33,-33,100,-33};

354 
¶ay”1
.
	`modifyN“ds
(
¦umb”Bag
);

355 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

357 
timeSurvived
 +=480;

358 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©ePÏÁ
(
timeSurvived
);

360 
	`»äeshTS
(
»nd””
);

364 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùBed
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

367 if(
¶ay”1
.
š‹¿ùPÏÁ”
)

369 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùPÏÁ”
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

371 if(
¶ay”1
.
š‹¿ùK™ch’
)

373 if(
¶ay”1
.
Ãed
[2]<100)

376 
k™ch’
[
TOTAL_PLAYER_NEEDS
] = {0,-5,100,-2,0};

377 
¶ay”1
.
	`modifyN“ds
(
k™ch’
);

378 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

380 
timeSurvived
 +=30;

381 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©ePÏÁ
(
timeSurvived
);

382 
	`»äeshTS
(
»nd””
);

386 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùK™ch’
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

389 if(
¶ay”1
.
š‹¿ùInfœm¬y
)

391 if(
¶ay”1
.
Ãed
[0]<100)

394 
šfœm
[
TOTAL_PLAYER_NEEDS
] = {100,-5,-5,-5,-5};

395 
¶ay”1
.
	`modifyN“ds
(
šfœm
);

396 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

398 
timeSurvived
 +=60;

399 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©ePÏÁ
(
timeSurvived
);

400 
	`»äeshTS
(
»nd””
);

404 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùInfœm¬y
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

407 if(
¶ay”1
.
š‹¿ùBike
)

409 if(
¶ay”1
.
Ãed
[1]<100)

412 
bike
[
TOTAL_PLAYER_NEEDS
] = {0,100,-5,-5,-5};

413 
¶ay”1
.
	`modifyN“ds
(
bike
);

414 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

416 
timeSurvived
 +=120;

417 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©ePÏÁ
(
timeSurvived
);

418 
	`»äeshTS
(
»nd””
);

422 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùBike
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

425 if(
¶ay”1
.
š‹¿ùRec
)

427 if(
¶ay”1
.
Ãed
[4]<100)

430 
»ü—tiÚ
[
TOTAL_PLAYER_NEEDS
] = {0,-5,-5,-5,100};

431 
¶ay”1
.
	`modifyN“ds
(
»ü—tiÚ
);

432 
¶ay”1
.
	`»lßdN“dsTextu»s
(
»nd””
,
fÚt
);

434 
timeSurvived
 +=60;

435 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©ePÏÁ
(
timeSurvived
);

436 
	`»äeshTS
(
»nd””
);

440 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùRec
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

443 if(
¶ay”1
.
š‹¿ùHabEx™
)

445 if(
šHab
)

447 
¶ay”1
.
	`£tX
(0);

448 
šHab
 = 
çl£
;

449 
šEng
 = 
Œue
;

450 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùHabEx™ = "<<
¶ay”1
.
š‹¿ùHabEx™
;

451 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

453 if(
šEng
)

455 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`»nd”IÁ”aùHabEx™
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

456 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùHabEx™ = "<<
¶ay”1
.
š‹¿ùHabEx™
;

457 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

462 if(
šEng
)

464 
sh
.
’gš“ršg
.
¡©iÚ
.
	`»nd”EngStiÚFrÚtPÏy”
(
»nd””
,
¶ay”1
.
¶ay”BÙ
);

467 if(
¶ay”1
.
š‹¿ù
)

469 if(
¶ay”1
.
š‹¿ùEngEx™
)

471 if(
šEng
)

473 
¶ay”1
.
	`£tX
(750);

474 
šHab
 = 
Œue
;

475 
šEng
 = 
çl£
;

476 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùEngEx™ = "<<
¶ay”1
.
š‹¿ùEngEx™
;

477 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

481 
sh
.
’gš“ršg
.
¡©iÚ
.
	`»nd”IÁ”aùEngEx™
(
»nd””
,
¶ay”1
.
	`g‘X
(),¶ay”1.
	`g‘Y
());

482 
¡d
::
cout
<<"\À¶ay”1.š‹¿ùEngEx™ = "<<
¶ay”1
.
š‹¿ùEngEx™
;

483 
¡d
::
cout
<<"\ÀšHab = "<<
šHab
<<" inEng = "<<
šEng
;

489 if(
š‹º®V›w
)

491 
UI
[0].
	`»nd”
(0,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

492 
	`»nd”TimeSurvivedTextTextu»s
(
»nd””
);

493 
¶ay”1
.
	`»nd”N“dsTextu»s
(
»nd””
);

494 
sh
.
	`»nd”GaugesTextu»s
(
»nd””
);

496 if(
bu‰Ús
[0].
mou£Ov”
==
çl£
)

498 
bu‰Ús
[0].
bu‰ÚTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

502 
bu‰Ús
[0].
bu‰ÚMOTextu»
.
	`»nd”
(bu‰Ús[0].
	`g‘Pos™iÚX
(),bu‰Ús[0].
	`g‘Pos™iÚY
(),
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

504 
	}
}

506 
	g¡age
::
	$¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

509 
	`SDL_D–ay
(10);

511 
¡¬sBack
.
	`·¿ÎaxR’d”
(
»nd””
);

512 
¡¬sMid
.
	`·¿ÎaxR’d”
(
»nd””
);

513 
¡¬sFÜe
.
	`·¿ÎaxR’d”
(
»nd””
);

515 
¡¬sFÜe
.
	`šüem’tFÜe
();

516 
¡¬sMid
.
	`šüem’tMid
();

517 
¡¬sBack
.
	`šüem’tBack
();

518 
	}
}

520 
	g¡age
::
	$habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

522 
¡age1BG
[2].
	`»nd”
(0,
habIÁ”ÇlY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

523 
¡age1BG
[3].
	`»nd”
(0,
habIÁ”ÇlY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

524 
	}
}

526 
	g¡age
::
	$’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
)

528 
¡age1BG
[4].
	`»nd”
(0,
’gIÁ”ÇlY1
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

529 
¡age1BG
[5].
	`»nd”
(0,
’gIÁ”ÇlY2
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

530 
	}
}

532 
	g¡age
::
	$move
(
couÁedF¿mes
)

535 ifĞ
¶ay”1
.
	`g‘Y
(è=ğ360 &&…Ïy”1.
	`g‘PV–Y
() > 0 )

537 if(
šHab
)

540 if(
habIÁ”ÇlY1
 < -599)

542 
habIÁ”ÇlY1
 = 600;

544 if(
habIÁ”ÇlY2
 < -599)

546 
habIÁ”ÇlY2
 = 600;

549 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

550 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

552 if(
šEng
)

555 if(
’gIÁ”ÇlY1
 < -599)

557 
’gIÁ”ÇlY1
 = 600;

559 if(
’gIÁ”ÇlY2
 < -599)

561 
’gIÁ”ÇlY2
 = 600;

564 
’gIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

565 
’gIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

570 if(
¶ay”1
.
	`g‘Y
()==160 &&…Ïy”1.
	`g‘PV–Y
()<0)

573 if(
šHab
)

575 if(
habIÁ”ÇlY1
 > 599)

577 
habIÁ”ÇlY1
 = -600;

579 if(
habIÁ”ÇlY2
 > 599)

581 
habIÁ”ÇlY2
 = -600;

584 
habIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

585 
habIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

587 if(
šEng
)

589 if(
’gIÁ”ÇlY1
 > 599)

591 
’gIÁ”ÇlY1
 = -600;

593 if(
’gIÁ”ÇlY2
 > 599)

595 
’gIÁ”ÇlY2
 = -600;

598 
’gIÁ”ÇlY1
-=
¶ay”1
.
	`g‘PV–Y
();

599 
’gIÁ”ÇlY2
-=
¶ay”1
.
	`g‘PV–Y
();

605 
¶ay”1
.
	`move
(
couÁedF¿mes
,
¡©iÚ
.
cŞlidabË
,¡©iÚ.
š‹¿ùabË
,¡©iÚ.
STATIONS
,
šHab
,
šEng
);

606 if(
šHab
)

608 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©eHabPos™iÚ
(
habIÁ”ÇlY1
);

609 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`upd©eHabPos™iÚ2
(
habIÁ”ÇlY2
);

611 if(
šEng
)

613 
sh
.
’gš“ršg
.
¡©iÚ
.
	`upd©eEngPos™iÚ
(
’gIÁ”ÇlY1
);

614 
sh
.
’gš“ršg
.
¡©iÚ
.
	`upd©eEngPos™iÚ2
(
’gIÁ”ÇlY2
);

617 
	}
}

619 
	g¡age
::
	$£tNewgameV¬s
()

621 
¡d
::
cout
<<"\n„unning stage::setNewgameVars()";

622 
¶ay”1
.
	`£tX
(380);

623 
¶ay”1
.
	`£tY
(260);

624 
habIÁ”ÇlY1
 = 0;

625 
habIÁ”ÇlY2
 = -600;

626 
’gIÁ”ÇlY1
 = 0;

627 
’gIÁ”ÇlY2
 = -600;

629 
i
 = 0; i < 
TOTAL_PLAYER_NEEDS
; i++)

631 
¶ay”1
.
Ãed
[
i
] = 100;

634 
i
=0; i<
TOTAL_SHIP_GAUGES
; i++)

636 
sh
.
gauge
[
i
] = 100;

639 
	}
}

642 
	g¡age
::
	$lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[])

644 
¡d
::
cout
<<"\n„unning stage::loadSavedGameData(Uint32 dataValues[])";

645 
¶ay”1
.
	`£tX
(
d©aV®ues
[0]);

646 
¶ay”1
.
	`£tY
(
d©aV®ues
[1]);

648 
habIÁ”ÇlY1
 = 
d©aV®ues
[2];

649 
habIÁ”ÇlY2
 = 
d©aV®ues
[3];

651 
’gIÁ”ÇlY1
 = 
d©aV®ues
[4];

652 
’gIÁ”ÇlY2
 = 
d©aV®ues
[5];

653 
	}
}

655 
	g¡age
::
	$hªdËPÏÁ”
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

657 if(
¡©iÚ
.
¶ª‹rO±iÚsLßded
 && !
¶ay”1
.
š‹¿ù
)

659 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`ä“PÏÁ”O±iÚs
();

661 if(!
¡©iÚ
.
¶ª‹rO±iÚsLßded
 && 
¶ay”1
.
š‹¿ù
)

663 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`lßdIÁ”aùPÏÁ”
(
»nd””
,
fÚt
);

665 if(
¡©iÚ
.
¶ª‹rO±iÚsLßded
 && 
¶ay”1
.
š‹¿ù
 && stiÚ.
š‹¿ùed
)

667 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`ä“PÏÁ”O±iÚs
();

668 
sh
.
hab™©iÚ
.
¡©iÚ
.
	`lßdIÁ”aùPÏÁ”
(
»nd””
,
fÚt
);

669 
sh
.
hab™©iÚ
.
¡©iÚ
.
š‹¿ùed
 = 
çl£
;

671 
	}
}

673 
	g¡age
::
	$lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
)

675 
¡d
::
cout
<<"\n„unning stage::loadTimeSurvivedTextures(SDL_Renderer*„enderer)";

677 
mS
,
hS
,
dS
;

678 
mS
 = 
timeSurvived
%60;

679 
hS
 = (
timeSurvived
/60)%24;

680 
dS
 = ((
timeSurvived
/60)/24);

682 
¡d
::
¡ršg
 
mSurvived
 = std::
	`to_¡ršg
(
mS
);

683 
¡d
::
¡ršg
 
hSurvived
 = std::
	`to_¡ršg
(
hS
);

684 
¡d
::
¡ršg
 
dSurvived
 = std::
	`to_¡ršg
(
dS
);

686 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

687 if(!
mšu‹sSurvived
.
	`lßdFromR’d”edText
(
mSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

689 
¡d
::
cout
<<"\n unableo„ender mSurvived stringo minutesSurvived Texture!";

691 if(!
hoursSurvived
.
	`lßdFromR’d”edText
(
hSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

693 
¡d
::
cout
<<"\n unableo„ender hSurvived stringo hoursSurvived Texture!";

695 if(!
daysSurvived
.
	`lßdFromR’d”edText
(
dSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

697 
¡d
::
cout
<<"\n unableo„ender dSurvived stringo daysSurvived Texture!";

699 
	}
}

701 
	g¡age
::
	$»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
)

703 
daysSurvived
.
	`»nd”
(420,0,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

704 
hoursSurvived
.
	`»nd”
(420,25,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

705 
mšu‹sSurvived
.
	`»nd”
(420,50,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

706 
	}
}

708 
	g¡age
::
	$ä“TimeSurvivedTextu»s
()

710 
daysSurvived
.
	`ä“
();

711 
hoursSurvived
.
	`ä“
();

712 
mšu‹sSurvived
.
	`ä“
();

713 
	}
}

715 
	g¡age
::
	$»äeshTS
(
SDL_R’d””
* 
»nd””
)

717 
	`ä“TimeSurvivedTextu»s
();

718 
¡d
::
cout
<<"\n„unning stage::refreshTS(SDL_Renderer*„enderer)";

720 
mS
,
hS
,
dS
;

721 
mS
 = 
timeSurvived
%60;

722 
hS
 = (
timeSurvived
/60)%24;

723 
dS
 = ((
timeSurvived
/60)/24);

725 
¡d
::
¡ršg
 
mSurvived
 = std::
	`to_¡ršg
(
mS
);

726 
¡d
::
¡ršg
 
hSurvived
 = std::
	`to_¡ršg
(
hS
);

727 
¡d
::
¡ršg
 
dSurvived
 = std::
	`to_¡ršg
(
dS
);

729 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

730 if(!
mšu‹sSurvived
.
	`lßdFromR’d”edText
(
mSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

732 
¡d
::
cout
<<"\n unableo„ender mSurvived stringo minutesSurvived Texture!";

734 if(!
hoursSurvived
.
	`lßdFromR’d”edText
(
hSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

736 
¡d
::
cout
<<"\n unableo„ender hSurvived stringo hoursSurvived Texture!";

738 if(!
daysSurvived
.
	`lßdFromR’d”edText
(
dSurvived
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

740 
¡d
::
cout
<<"\n unableo„ender dSurvived stringo daysSurvived Texture!";

742 
	}
}

	@C:\Sojourner\Sojourner\stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

11 
	~"sh.h
"

14 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 6;

16 cÚ¡ 
	gTOTAL_STAGE_UI
 = 1;

18 şas 
	c¡age


20 
	mpublic
:

22 
¡age
();

24 ~
¡age
();

26 
boŞ
 
	mex‹º®V›w
;

28 
boŞ
 
	mš‹º®V›w
;

30 
boŞ
 
	mshowPÏy”
;

32 
boŞ
 
	mšHab
, 
	mšEng
;

35 
	mhabIÁ”ÇlY1
;

36 
	mhabIÁ”ÇlY2
;

38 
	m’gIÁ”ÇlY1
;

39 
	m’gIÁ”ÇlY2
;

41 
	mtimeSurvived
;

43 
Textu»
 
	mdaysSurvived
;

44 
Textu»
 
	mhoursSurvived
;

45 
Textu»
 
	mmšu‹sSurvived
;

50 
TTF_FÚt
 *
	mfÚt
;

52 
Textu»
 
	mthªksTextu»
;

54 
·¿Îax
 
	m¡¬sFÜe
;

55 
·¿Îax
 
	m¡¬sMid
;

56 
·¿Îax
 
	m¡¬sBack
;

58 
	m¡d
::
¡ršg
 
cou¿ge
;

60 
Textu»
 
	mcou¿geTextu»
;

62 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

64 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

66 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

68 
	m¡d
::
¡ršg
 
uiFeName
[
TOTAL_STAGE_UI
];

70 
Textu»
 
	mUI
[
TOTAL_STAGE_UI
];

72 
ä“Bu‰Ús
();

73 
ä“BGTextu»s
();

74 
ä“UITextu»s
();

76 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

78 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

80 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

82 
£tFeNames
();

84 
£tBu‰ÚNames
();

86 
hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
gameS‹
);

88 
hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 );

91 
¶ay”
 
	m¶ay”1
;

93 
¡©iÚ
 
	m¡©iÚ
;

95 
sh
 
	msh
;

97 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

99 
ä“
();

101 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

103 
lßdFÚt
();

105 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

107 
’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

109 
move
(
couÁedF¿mes
);

111 
£tNewgameV¬s
();

113 
lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[]);

115 
hªdËPÏÁ”
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

117 
lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
);

119 
»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
);

121 
ä“TimeSurvivedTextu»s
();

123 
»äeshTS
(
SDL_R’d””
* 
»nd””
);

125 
	m´iv©e
:

	@C:\Sojourner\Sojourner\station.cpp

1 
	~"¡©iÚ.h
"

3 
	g¡©iÚ
::
	$¡©iÚ
()

6 
bedX
 = 100;

7 
bedY
 = 500;

8 
bedH
 = 37;

9 
bedBÙ
 = 
bedY
 + 
bedH
;

10 
cŞlidabË
[0].
x
 = 
bedX
;

11 
cŞlidabË
[0].
y
 = 
bedY
+(
bedH
/2);

12 
cŞlidabË
[0].
w
 = 85;

13 
cŞlidabË
[0].
h
 = 
bedH
/2;

14 
š‹¿ùabË
[0].
x
=
cŞlidabË
[0].x-2;

15 
š‹¿ùabË
[0].
y
=
cŞlidabË
[0].y-4;

16 
š‹¿ùabË
[0].
w
=
cŞlidabË
[0].w+4;

17 
š‹¿ùabË
[0].
h
=
cŞlidabË
[0].h+10;

19 
w©”TªkX
 = 100;

20 
w©”TªkY
 = 25;

21 
w©”TªkH
 = 34;

22 
w©”TªkBÙ
 = 
w©”TªkY
 + 
w©”TªkH
;

23 
cŞlidabË
[1].
x
 = 
w©”TªkX
;

24 
cŞlidabË
[1].
y
 = 
w©”TªkY
+(
w©”TªkH
/2);

25 
cŞlidabË
[1].
w
 = 87;

26 
cŞlidabË
[1].
h
 = 
w©”TªkH
/2;

27 
š‹¿ùabË
[1].
x
=
cŞlidabË
[1].x-2;

28 
š‹¿ùabË
[1].
y
 = 
cŞlidabË
[1].y-4;

29 
š‹¿ùabË
[1].
w
=
cŞlidabË
[1].w+6;

30 
š‹¿ùabË
[1].
h
 = 
cŞlidabË
[1].h+6;

32 
¶ª‹rX
 = 600;

33 
¶ª‹rY
 = 25;

34 
¶ª‹rH
 = 50;

35 
¶ª‹rBÙ
 = 
¶ª‹rY
+
¶ª‹rH
;

36 
cŞlidabË
[2].
x
 = 
¶ª‹rX
;

37 
cŞlidabË
[2].
y
 = 
¶ª‹rY
+(
¶ª‹rH
/2);

38 
cŞlidabË
[2].
w
 = 100;

39 
cŞlidabË
[2].
h
 = 
¶ª‹rH
/2;

40 
š‹¿ùabË
[2].
x
=
cŞlidabË
[2].x-2;

41 
š‹¿ùabË
[2].
y
=
cŞlidabË
[2].y-2;

42 
š‹¿ùabË
[2].
w
=
cŞlidabË
[2].w+4;

43 
š‹¿ùabË
[2].
h
=
cŞlidabË
[2].h+4;

44 
¶ªtOkay
 = 
Œue
;

45 
w©”PÏÁsOkay
 = 
çl£
;

46 
h¬ve¡Okay
 = 
çl£
;

47 
¶ª‹rTimeW©”ed
=0;

48 
¶ª‹rDaysS‹
=0;

49 
¶ª‹rS‹
=-1;

53 
¶ª‹rO±iÚsLßded
=
çl£
;

55 
š‹¿ùed
 = 
çl£
;

57 
k™ch’X
 = 100;

58 
k™ch’Y
 = 250;

59 
k™ch’H
 = 100;

60 
k™ch’BÙ
 = 
k™ch’Y
+
k™ch’H
;

61 
cŞlidabË
[3].
x
 = 
k™ch’X
;

62 
cŞlidabË
[3].
y
 = 
k™ch’Y
+(
k™ch’H
/2);

63 
cŞlidabË
[3].
w
 = 200;

64 
cŞlidabË
[3].
h
 = 
k™ch’H
/2;

65 
š‹¿ùabË
[3].
x
=
cŞlidabË
[3].x-2;

66 
š‹¿ùabË
[3].
y
=
cŞlidabË
[3].y-2;

67 
š‹¿ùabË
[3].
w
=
cŞlidabË
[3].w+4;

68 
š‹¿ùabË
[3].
h
=
cŞlidabË
[3].h+4;

71 
šfœmX
 = 500;

72 
šfœmY
 = 250;

73 
šfœmH
 = 100;

74 
šfœmBÙ
 = 
šfœmY
+
šfœmH
;

75 
cŞlidabË
[4].
x
 = 
šfœmX
+40;

76 
cŞlidabË
[4].
y
 = 
šfœmY
+(
šfœmH
/2);

77 
cŞlidabË
[4].
w
 = 105;

78 
cŞlidabË
[4].
h
 = 
šfœmH
/2;

79 
š‹¿ùabË
[4].
x
 = 
cŞlidabË
[4].x-2;

80 
š‹¿ùabË
[4].
y
 = 
cŞlidabË
[4].y-2;

81 
š‹¿ùabË
[4].
w
 = 
cŞlidabË
[4].w+4;

82 
š‹¿ùabË
[4].
h
 = 
cŞlidabË
[4].h+4;

84 
bikeX
 = 100;

85 
bikeY
 = 850;

86 
bikeH
 = 100;

87 
bikeBÙ
 = 
bikeY
+
bikeH
;

88 
cŞlidabË
[5].
x
 = 
bikeX
 + 40;

89 
cŞlidabË
[5].
y
 = 
bikeY
+(
bikeH
/2);

90 
cŞlidabË
[5].
w
 = 100;

91 
cŞlidabË
[5].
h
 = 
bikeH
/2;

92 
š‹¿ùabË
[5].
x
 = 
cŞlidabË
[5].x-2;

93 
š‹¿ùabË
[5].
y
 = 
cŞlidabË
[5].y-2;

94 
š‹¿ùabË
[5].
w
 = 
cŞlidabË
[5].w+4;

95 
š‹¿ùabË
[5].
h
 = 
cŞlidabË
[5].h+4;

97 
»cX
 = 510;

98 
»cY
 = 850;

99 
»cH
 = 100;

100 
»cBÙ
 = 
»cY
+
»cH
;

101 
cŞlidabË
[6].
x
 = 
»cX
;

102 
cŞlidabË
[6].
y
 = 
»cY
+(
»cH
/2);

103 
cŞlidabË
[6].
w
 = 120;

104 
cŞlidabË
[6].
h
 = 
»cH
/2;

105 
š‹¿ùabË
[6].
x
 = 
cŞlidabË
[6].x-2;

106 
š‹¿ùabË
[6].
y
 = 
cŞlidabË
[6].y-2;

107 
š‹¿ùabË
[6].
w
 = 
cŞlidabË
[6].w+4;

108 
š‹¿ùabË
[6].
h
 = 
cŞlidabË
[6].h+4;

110 
habEx™X
 = 790;

111 
habEx™Y
 = 395;

112 
habEx™H
 = 10;

113 
habEx™BÙ
 = 
habEx™Y
 +
habEx™H
;

114 
cŞlidabË
[7].
x
 = 
habEx™X
;

115 
cŞlidabË
[7].
y
 = 
habEx™Y
 + (
habEx™H
/2);

116 
cŞlidabË
[7].
w
 = 10;

117 
cŞlidabË
[7].
h
 = 
habEx™H
/2;

118 
š‹¿ùabË
[7].
x
 = 
cŞlidabË
[7].x - 2;

119 
š‹¿ùabË
[7].
y
 = 
cŞlidabË
[7].y - 2;

120 
š‹¿ùabË
[7].
w
 = 
cŞlidabË
[7].w + 4;

121 
š‹¿ùabË
[7].
h
 = 
cŞlidabË
[7].h + 4;

123 
’gEx™X
 = 5;

124 
’gEx™Y
 = 400;

125 
’gEx™H
 = 10;

126 
’gEx™BÙ
 = 
’gEx™Y
 + 
’gEx™H
;

127 
cŞlidabË
[8].
x
 = 
’gEx™X
;

128 
cŞlidabË
[8].
y
 = 
’gEx™Y
 + (
’gEx™H
/2);

129 
cŞlidabË
[8].
w
 = 10;

130 
cŞlidabË
[8].
h
 = 
’gEx™H
/2;

131 
š‹¿ùabË
[8].
x
 = 
cŞlidabË
[8].x-2;

132 
š‹¿ùabË
[8].
y
 = 
cŞlidabË
[8].y - 2;

133 
š‹¿ùabË
[8].
w
 = 
cŞlidabË
[8].w + 4;

134 
š‹¿ùabË
[8].
h
 = 
cŞlidabË
[8].h + 4;

135 
	}
}

137 
	g¡©iÚ
::~
	$¡©iÚ
()

140 
	}
}

142 
¡©iÚ
::
	$lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
shGaugeV®ues
[])

144 
¡d
::
cout
<<"\n„unning station::loadStation(SDL_Renderer*„enderer,TTF_Font* font)";

145 
bedTextu»
.
	`lßdFromFe
("images/¥r™es/¦“pšgbag.²g",
»nd””
);

146 
w©”TªkTextu»
.
	`lßdFromFe
("images/¥r™es/W©”Tªk.²g",
»nd””
);

147 
¶ª‹rTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹r.²g",
»nd””
);

148 
k™ch’Textu»
.
	`lßdFromFe
("images/¥r™es/k™ch’.²g",
»nd””
);

149 
šfœm¬yTextu»
.
	`lßdFromFe
("images/¥r™es/šfœm¬y.²g",
»nd””
);

150 
bikeTextu»
.
	`lßdFromFe
("images/¥r™es/¡©iÚ¬yBicyşe.²g", 
»nd””
);

151 
»cTextu»
.
	`lßdFromFe
("images/¥r™es/»ü—tiÚ.²g",
»nd””
);

152 
habEx™Textu»
.
	`lßdFromFe
("images/¥r™es/habEx™.²g",
»nd””
);

153 
’gEx™Textu»
.
	`lßdFromFe
("images/¥r™es/’gEx™.²g",
»nd””
);

155 
¶ª‹rSownTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rSown.²g",
»nd””
);

156 
¶ª‹rSownW©”edTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rSownW©”ed.²g",
»nd””
);

157 
¶ª‹rS“dlšgTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rS“dlšg.²g",
»nd””
);

158 
¶ª‹rS“dlšgW©”edTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rS“dlšgW©”ed.²g",
»nd””
);

159 
¶ª‹rVeg‘©iveTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rVeg‘©ive.²g",
»nd””
);

160 
¶ª‹rVeg©©iveW©”edTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rVeg‘©iveW©”ed.²g",
»nd””
);

161 
¶ª‹rFlow”šgTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rFlow”šg.²g",
»nd””
);

162 
¶ª‹rFlow”šgW©”edTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rFlow”šgW©”ed.²g",
»nd””
);

163 
¶ª‹rReTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rRe.²g",
»nd””
);

164 
¶ª‹rReW©”edTextu»
.
	`lßdFromFe
("images/¥r™es/¶ª‹rReW©”ed.²g",
»nd””
);

166 
	`lßdIÁ”aùW©”Tªk
(
»nd””
,
fÚt
,
shGaugeV®ues
[3]);

167 
	`lßdIÁ”aùBed
(
»nd””
,
fÚt
);

169 
	`lßdIÁ”aùK™ch’
(
»nd””
,
fÚt
);

170 
	`lßdIÁ”aùInfœm¬y
(
»nd””
,
fÚt
);

171 
	`lßdIÁ”aùBike
(
»nd””
,
fÚt
);

172 
	`lßdIÁ”aùRec
(
»nd””
,
fÚt
);

173 
	`lßdIÁ”aùHabEx™
(
»nd””
,
fÚt
);

174 
	`lßdIÁ”aùEngEx™
(
»nd””
,
fÚt
);

175 
	}
}

177 
	g¡©iÚ
::
	$lßdIÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

179 
¡d
::
cout
<<"\n„unning station::loadInteractEngExit(SDL_Renderer*„enderer, TTF_Font* font)";

180 
’gEx™DeçuÉ
 = "Leaving Engineering Module";

181 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

182 if(!
’gEx™DeçuÉTextu»
.
	`lßdFromR’d”edText
(
’gEx™DeçuÉ
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

184 
¡d
::
cout
<<"\n unableo„enderƒngExitDefault stringoƒngExitDefaultTexture!";

186 
	}
}

188 
	g¡©iÚ
::
	$lßdIÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

190 
¡d
::
cout
<<"\n„unning station::loadInteractHabExit(SDL_Renderer*„enderer, TTF_Font* font)";

191 
habEx™DeçuÉ
 = "Leaving Habitation Module";

192 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

193 if(!
habEx™DeçuÉTextu»
.
	`lßdFromR’d”edText
(
habEx™DeçuÉ
.
	`c_¡r
(),
‹xtCŞÜ
,
fÚt
,
»nd””
))

195 
¡d
::
cout
<<"\n unableo„ender habExitDefault stringo habExitDefaultTexture!";

197 
	}
}

199 
	g¡©iÚ
::
	$lßdIÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

201 
¡d
::
cout
<<"\n„unning station::loadInteractRec(SDL_Renderer*„enderer, TTF_Font* font)";

203 
»cDeçuÉ
 = "I'm Happy";

204 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

205 if(!
»cDeçuÉTextu»
.
	`lßdFromR’d”edText
(
»cDeçuÉ
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

207 
¡d
::
cout
<<"\n unableo„ender„ecDefault stringo„ecDefaultTexture!";

209 
	}
}

211 
	g¡©iÚ
::
	$lßdIÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
)

213 
¡d
::
cout
<<"\n„unning station::loadInteractBike(SDL_Renderer*„enderer, TTF_Font* font)";

215 
bikeDeçuÉ
 = "Stronk";

216 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

217 if(!
bikeDeçuÉTextu»
.
	`lßdFromR’d”edText
(
bikeDeçuÉ
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

219 
¡d
::
cout
<<"\n unableo„ender bikeDefault stringo bikeDefaultTexture!";

221 
	}
}

223 
	g¡©iÚ
::
	$lßdIÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

225 
¡d
::
cout
<<"\n„unning station::loadInteractInfirmary(SDL_Renderer*„enderer,TTF_Font* font)";

227 
šfœmDeçuÉ
 = "Healthy";

228 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

229 if(!
šfœmDeçuÉTextu»
.
	`lßdFromR’d”edText
(
šfœmDeçuÉ
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

231 
¡d
::
cout
<<"\n unableo„ender infirmDefault stringo infirmDefaultTexture!";

233 
	}
}

235 
	g¡©iÚ
::
	$lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

237 
¡d
::
cout
<<"\n„unning station::loadInteractKitchen(SDL_Renderer*„enderer,TTF_Font* font)";

239 
foodTime
 = "Not Hungry";

240 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

241 if(!
foodTimeTextu»
.
	`lßdFromR’d”edText
(
foodTime
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

243 
¡d
::
cout
<<"\n unableo„ender foodTime stringo foodTimeTexture!";

245 
	}
}

247 
	g¡©iÚ
::
	$lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

249 
¡d
::
cout
<<"\n„unning station::loadInteractPlanter(SDL_Renderer*„enderer,TTF_Font* font)";

251 
¶ªt
="Plant";

252 
w©”PÏÁs
 = "Water Plants";

253 
h¬ve¡
 = "Harvest";

255 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

256 
SDL_CŞÜ
 
uÇvaabË
 = {0,0,0};

258 if(
¶ªtOkay
)

260 if(!
¶ªtTextu»
.
	`lßdFromR’d”edText
(
¶ªt
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

262 
¡d
::
cout
<<"\n unableo„ender…lant stringo…lantTexture!";

267 if(!
¶ªtTextu»
.
	`lßdFromR’d”edText
(
¶ªt
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

269 
¡d
::
cout
<<"\n unableo„ender…lant stringo…lantTexture!";

272 if(
w©”PÏÁsOkay
)

274 if(!
w©”PÏÁsTextu»
.
	`lßdFromR’d”edText
(
w©”PÏÁs
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

276 
¡d
::
cout
<<"\n unableo„ender waterPlants stringo waterPlantsTexture!";

281 if(!
w©”PÏÁsTextu»
.
	`lßdFromR’d”edText
(
w©”PÏÁs
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

283 
¡d
::
cout
<<"\n unableo„ender waterPlants stringo waterPlantsTexture!";

286 if(
h¬ve¡Okay
)

288 if(!
h¬ve¡Textu»
.
	`lßdFromR’d”edText
(
h¬ve¡
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

290 
¡d
::
cout
<<"\n unableo„ender harvest stringo harvestTexture!";

295 if(!
h¬ve¡Textu»
.
	`lßdFromR’d”edText
(
h¬ve¡
.
	`c_¡r
(), 
uÇvaabË
,
fÚt
,
»nd””
))

297 
¡d
::
cout
<<"\n unableo„ender harvest stringo harvestTexture!";

300 
¶ª‹rO±iÚsLßded
 = 
Œue
;

301 
¶ª‹rO±iÚsF»ed
 = 
çl£
;

302 
	}
}

304 
	g¡©iÚ
::
	$ä“PÏÁ”O±iÚs
()

306 
¶ªtTextu»
.
	`ä“
();

307 
w©”PÏÁsTextu»
.
	`ä“
();

308 
h¬ve¡Textu»
.
	`ä“
();

309 
¶ª‹rO±iÚsF»ed
 = 
Œue
;

310 
¶ª‹rO±iÚsLßded
=
çl£
;

311 
	}
}

313 
	g¡©iÚ
::
	$lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
,
w©”Gauge
)

315 
¡d
::
cout
<<"\n„unning station::loadInteractWaterTank(SDL_Renderer*„enderer,TTF_Font* font)";

318 
w©”Lev–
 = 
¡d
::
	`to_¡ršg
(
w©”Gauge
);

319 
w©”Lev–
 = waterLevel + " Liters";

320 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

321 if(!
w©”Lev–Textu»
.
	`lßdFromR’d”edText
(
w©”Lev–
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

323 
¡d
::
cout
<<"\n unableo„ender†aterLevel stringo waterLevelTexture!";

325 
	}
}

327 
	g¡©iÚ
::
	$lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
)

329 
¡d
::
cout
<<"\n„unning station::loadInteractBed(SDL_Renderer*„enderer,TTF_Font* font)";

331 
¦“pyTime
 = "Not Tired";

332 
SDL_CŞÜ
 
‹xtCŞÜ
 = {255,255,255};

333 if(!
¦“pyTimeTextu»
.
	`lßdFromR’d”edText
(
¦“pyTime
.
	`c_¡r
(), 
‹xtCŞÜ
,
fÚt
,
»nd””
))

335 
¡d
::
cout
<<"\n unableo„ender sleepyTime stringo sleepyTimeTexture!";

337 
	}
}

339 
	g¡©iÚ
::
	$upd©eHabPos™iÚ
(
y
)

343 
bedY
 = 
y
+500;

344 
bedBÙ
 = 
bedY
 + 
bedH
;

345 
cŞlidabË
[0].
y
=
bedY
+(
bedH
/2);

346 
š‹¿ùabË
[0].
y
=
cŞlidabË
[0].y-4;

348 
w©”TªkY
 = 
y
+25;

349 
w©”TªkBÙ
 = 
w©”TªkY
+
w©”TªkH
;

350 
cŞlidabË
[1].
y
=
w©”TªkY
 + (
w©”TªkH
/2);

351 
š‹¿ùabË
[1].
y
=
cŞlidabË
[1].y-4;

353 
¶ª‹rY
 = 
y
+25;

354 
¶ª‹rBÙ
 = 
¶ª‹rY
 + 
¶ª‹rH
;

355 
cŞlidabË
[2].
y
=
¶ª‹rY
+(
¶ª‹rH
/2);

356 
š‹¿ùabË
[2].
y
=
cŞlidabË
[2].y-2;

358 
k™ch’Y
 = 
y
+250;

359 
k™ch’BÙ
 = 
k™ch’Y
+
k™ch’H
;

360 
cŞlidabË
[3].
y
=
k™ch’Y
+(
k™ch’H
/2);

361 
š‹¿ùabË
[3].
y
=
cŞlidabË
[3].y-2;

363 
šfœmY
 = 
y
+250;

364 
šfœmBÙ
 = 
šfœmY
 + 
šfœmH
;

365 
cŞlidabË
[4].
y
 = 
šfœmY
 + (
šfœmH
/2);

366 
š‹¿ùabË
[4].
y
 = 
cŞlidabË
[4].y-2;

368 
habEx™Y
 = 
y
+395;

369 
habEx™BÙ
 = 
habEx™Y
 + 
habEx™H
;

370 
cŞlidabË
[7].
y
 = 
habEx™Y
 +(
habEx™H
/2);

371 
š‹¿ùabË
[7].
y
 = 
cŞlidabË
[7].y-2;

376 
	}
}

378 
	g¡©iÚ
::
	$upd©eEngPos™iÚ
(
y
)

380 
’gEx™Y
 = 
y
+395;

381 
’gEx™BÙ
 = 
’gEx™Y
 + 
’gEx™H
;

382 
cŞlidabË
[8].
y
=
’gEx™Y
+(
’gEx™H
/2);

383 
š‹¿ùabË
[8].
y
=
cŞlidabË
[8].y-4;

384 
	}
}

386 
	g¡©iÚ
::
	$upd©eHabPos™iÚ2
(
y
)

390 
bikeY
 = 
y
+250;

391 
bikeBÙ
 = 
bikeY
+
bikeH
;

392 
cŞlidabË
[5].
y
 = 
bikeY
 + (
bikeH
/2);

393 
š‹¿ùabË
[5].
y
 = 
cŞlidabË
[5].y-2;

395 
»cY
 = 
y
 + 250;

396 
»cBÙ
 = 
»cY
 + 
»cH
;

397 
cŞlidabË
[6].
y
 = 
»cY
 + (
»cH
/2);

398 
š‹¿ùabË
[6].
y
 = 
cŞlidabË
[6].y-2;

399 
	}
}

401 
	g¡©iÚ
::
	$upd©eEngPos™iÚ2
(
y
)

407 
	}
}

409 
¡©iÚ
::
	$»nd”IÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

411 
y
-=20;

412 
’gEx™DeçuÉTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

413 
	}
}

415 
	g¡©iÚ
::
	$»nd”IÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

417 
y
-=20;

418 
x
-=60;

419 
habEx™DeçuÉTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

421 
	}
}

423 
	g¡©iÚ
::
	$»nd”IÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

425 
y
-=20;

426 
»cDeçuÉTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

427 
	}
}

429 
	g¡©iÚ
::
	$»nd”IÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

431 
y
-=20;

432 
bikeDeçuÉTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

433 
	}
}

435 
	g¡©iÚ
::
	$»nd”IÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
)

437 
y
-=20;

438 
šfœmDeçuÉTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

439 
	}
}

441 
	g¡©iÚ
::
	$»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

444 
y
-=20;

445 
foodTimeTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

446 
	}
}

448 
	g¡©iÚ
::
	$»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

451 
y
-=20;

452 
w©”Lev–Textu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

453 
	}
}

455 
	g¡©iÚ
::
	$»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

458 
y
-=20;

459 
¦“pyTimeTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

460 
	}
}

462 
	g¡©iÚ
::
	$»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
)

465 
x
+=50;

467 
y
-=20;

468 
¶ªtTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

470 
y
+=20;

471 
w©”PÏÁsTextu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

473 
y
+=20;

474 
h¬ve¡Textu»
.
	`»nd”
(
x
,
y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

475 
	}
}

477 
	g¡©iÚ
::
	$»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
)

480 if(
¶ay”BÙ
>
bedBÙ
)

482 
bedTextu»
.
	`»nd”
(
bedX
,
bedY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

484 if(
¶ay”BÙ
>
w©”TªkBÙ
)

486 
w©”TªkTextu»
.
	`»nd”
(
w©”TªkX
,
w©”TªkY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

488 if(
¶ay”BÙ
>
¶ª‹rBÙ
)

494 if(
¶ª‹rS‹
 =ğ0 && !
¶ªtOkay
)

497 if(
w©”PÏÁsOkay
)

499 
¶ª‹rSownTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

502 if(!
w©”PÏÁsOkay
)

504 
¶ª‹rSownW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

507 if(
¶ª‹rS‹
 == 1)

510 if(
w©”PÏÁsOkay
)

512 
¶ª‹rS“dlšgTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

515 if(!
w©”PÏÁsOkay
)

517 
¶ª‹rS“dlšgW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

520 if(
¶ª‹rS‹
 == 2)

523 if(
w©”PÏÁsOkay
)

525 
¶ª‹rVeg‘©iveTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

528 if(!
w©”PÏÁsOkay
)

530 
¶ª‹rVeg©©iveW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

533 if(
¶ª‹rS‹
 == 3)

536 if(
w©”PÏÁsOkay
)

538 
¶ª‹rFlow”šgTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

541 if(!
w©”PÏÁsOkay
)

543 
¶ª‹rFlow”šgW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

546 if(
¶ª‹rS‹
 == 4)

549 if(
w©”PÏÁsOkay
)

551 
¶ª‹rReTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

554 if(!
w©”PÏÁsOkay
)

556 
¶ª‹rReW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

561 if(
¶ªtOkay
 && !
w©”PÏÁsOkay
)

563 
¶ª‹rTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

566 if(
¶ay”BÙ
>
k™ch’BÙ
)

568 
k™ch’Textu»
.
	`»nd”
(
k™ch’X
,
k™ch’Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

570 if(
¶ay”BÙ
>
šfœmBÙ
)

572 
šfœm¬yTextu»
.
	`»nd”
(
šfœmX
,
šfœmY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

574 if(
¶ay”BÙ
>
bikeBÙ
)

577 
bikeTextu»
.
	`»nd”
(
bikeX
,
bikeY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

579 if(
¶ay”BÙ
>
»cBÙ
)

581 
»cTextu»
.
	`»nd”
(
»cX
,
»cY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

583 if(
¶ay”BÙ
>
habEx™BÙ
)

585 
habEx™Textu»
.
	`»nd”
(
habEx™X
,
habEx™Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

587 
	}
}

589 
	g¡©iÚ
::
	$»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
)

591 if(
¶ay”BÙ
>
’gEx™BÙ
)

593 
’gEx™Textu»
.
	`»nd”
(
’gEx™X
,
’gEx™Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

595 
	}
}

597 
	g¡©iÚ
::
	$»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
)

599 if(
¶ay”BÙ
<=
bedBÙ
)

601 
bedTextu»
.
	`»nd”
(
bedX
,
bedY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

603 if(
¶ay”BÙ
<=
w©”TªkBÙ
)

605 
w©”TªkTextu»
.
	`»nd”
(
w©”TªkX
,
w©”TªkY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

607 if(
¶ay”BÙ
<=
¶ª‹rBÙ
)

609 if(
¶ª‹rS‹
 =ğ0 && !
¶ªtOkay
)

612 if(
w©”PÏÁsOkay
)

614 
¶ª‹rSownTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

617 if(!
w©”PÏÁsOkay
)

619 
¶ª‹rSownW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

622 if(
¶ª‹rS‹
 == 1)

625 if(
w©”PÏÁsOkay
)

627 
¶ª‹rS“dlšgTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

630 if(!
w©”PÏÁsOkay
)

632 
¶ª‹rS“dlšgW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

635 if(
¶ª‹rS‹
 == 2)

638 if(
w©”PÏÁsOkay
)

640 
¶ª‹rVeg‘©iveTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

643 if(!
w©”PÏÁsOkay
)

645 
¶ª‹rVeg©©iveW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

648 if(
¶ª‹rS‹
 == 3)

651 if(
w©”PÏÁsOkay
)

653 
¶ª‹rFlow”šgTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

656 if(!
w©”PÏÁsOkay
)

658 
¶ª‹rFlow”šgW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

661 if(
¶ª‹rS‹
 == 4)

664 if(
w©”PÏÁsOkay
)

666 
¶ª‹rReTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

669 if(!
w©”PÏÁsOkay
)

671 
¶ª‹rReW©”edTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

676 if(
¶ªtOkay
 && !
w©”PÏÁsOkay
)

678 
¶ª‹rTextu»
.
	`»nd”
(
¶ª‹rX
,
¶ª‹rY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

681 if(
¶ay”BÙ
<=
k™ch’BÙ
)

683 
k™ch’Textu»
.
	`»nd”
(
k™ch’X
,
k™ch’Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

685 if(
¶ay”BÙ
<=
šfœmBÙ
)

687 
šfœm¬yTextu»
.
	`»nd”
(
šfœmX
,
šfœmY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

689 if(
¶ay”BÙ
<=
bikeBÙ
)

692 
bikeTextu»
.
	`»nd”
(
bikeX
,
bikeY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

694 if(
¶ay”BÙ
<=
»cBÙ
)

696 
»cTextu»
.
	`»nd”
(
»cX
,
»cY
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

698 if(
¶ay”BÙ
<=
habEx™BÙ
)

700 
habEx™Textu»
.
	`»nd”
(
habEx™X
,
habEx™Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

702 
	}
}

704 
	g¡©iÚ
::
	$»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
)

706 if(
¶ay”BÙ
<=
’gEx™BÙ
)

708 
’gEx™Textu»
.
	`»nd”
(
’gEx™X
,
’gEx™Y
,
NULL
,0.0,NULL,
SDL_FLIP_NONE
,
»nd””
);

710 
	}
}

711 
	g¡©iÚ
::
	$ä“
()

713 
¡d
::
cout
<<"\n„unning station::free()";

714 
habEx™DeçuÉTextu»
.
	`ä“
();

715 
habEx™Textu»
.
	`ä“
();

716 
’gEx™DeçuÉTextu»
.
	`ä“
();

717 
’gEx™Textu»
.
	`ä“
();

718 
bedTextu»
.
	`ä“
();

719 
w©”TªkTextu»
.
	`ä“
();

720 
w©”Lev–Textu»
.
	`ä“
();

721 
¦“pyTimeTextu»
.
	`ä“
();

722 
¶ª‹rTextu»
.
	`ä“
();

723 
k™ch’Textu»
.
	`ä“
();

724 
foodTimeTextu»
.
	`ä“
();

725 
¶ªtTextu»
.
	`ä“
();

726 
w©”PÏÁsTextu»
.
	`ä“
();

727 
h¬ve¡Textu»
.
	`ä“
();

728 
šfœm¬yTextu»
.
	`ä“
();

729 
šfœmDeçuÉTextu»
.
	`ä“
();

730 
bikeTextu»
.
	`ä“
();

731 
bikeDeçuÉTextu»
.
	`ä“
();

732 
»cTextu»
.
	`ä“
();

733 
»cDeçuÉTextu»
.
	`ä“
();

734 
	}
}

736 
	g¡©iÚ
::
	$upd©ePÏÁ
(
timeSurvived
)

738 
¡d
::
cout
<<"\n„unning station::updatePlant(intimeSurvived)";

739 if(
¶ª‹rS‹
<4)

741 if(
timeSurvived
-
¶ª‹rTimeW©”ed
 > 1440 && !
w©”PÏÁsOkay
 && !
h¬ve¡Okay
)

746 
w©”PÏÁsOkay
 = 
Œue
;

747 if(!
h¬ve¡Okay
)

750 
¶ª‹rDaysS‹
++;

752 if(
¶ª‹rDaysS‹
 >ğ5 && !
h¬ve¡Okay
)

756 
¶ª‹rS‹
++;

757 
¶ª‹rDaysS‹
 = 0;

758 if(
¶ª‹rS‹
 == 4)

760 
h¬ve¡Okay
 = 
Œue
;

761 
w©”PÏÁsOkay
 = 
çl£
;

767 
¡d
::
cout
<<"\Àw©”PÏÁsOkay: "<<
w©”PÏÁsOkay
;

768 
¡d
::
cout
<<"\À¶ª‹rDaysS‹: "<<
¶ª‹rDaysS‹
;

769 
¡d
::
cout
<<"\À¶ª‹rS‹: "<<
¶ª‹rS‹
;

770 
¡d
::
cout
<<"\Àh¬ve¡Okay: "<<
h¬ve¡Okay
;

771 
	}
}

	@C:\Sojourner\Sojourner\station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

7 şas 
	c¡©iÚ


9 
	mpublic
:

11 
¡©iÚ
();

13 ~
¡©iÚ
();

15 
	mbedX
, 
	mbedY
,
	mbedH
,
	mbedBÙ
;

17 
	mw©”TªkX
, 
	mw©”TªkY
,
	mw©”TªkH
,
	mw©”TªkBÙ
;

19 
	m¶ª‹rX
,
	m¶ª‹rY
,
	m¶ª‹rH
,
	m¶ª‹rBÙ
;

21 
	mk™ch’X
,
	mk™ch’Y
,
	mk™ch’H
,
	mk™ch’BÙ
;

23 
	mšfœmX
, 
	mšfœmY
,
	mšfœmH
,
	mšfœmBÙ
;

25 
	mbikeX
,
	mbikeY
,
	mbikeH
,
	mbikeBÙ
;

27 
	m»cX
,
	m»cY
,
	m»cH
,
	m»cBÙ
;

29 
	mhabEx™X
, 
	mhabEx™Y
,
	mhabEx™H
,
	mhabEx™BÙ
;

31 
	m’gEx™X
, 
	m’gEx™Y
,
	m’gEx™H
,
	m’gEx™BÙ
;

33 
	m¶ª‹rTimeW©”ed
, 
	m¶ª‹rDaysS‹
, 
	m¶ª‹rS‹
;

35 cÚ¡ 
	mSTATIONS
 = 9;

38 
	m¡d
::
¡ršg
 
’gEx™DeçuÉ
;

40 
	m¡d
::
¡ršg
 
habEx™DeçuÉ
;

42 
	m¡d
::
¡ršg
 
»cDeçuÉ
;

44 
	m¡d
::
¡ršg
 
bikeDeçuÉ
;

45 
	m¡d
::
¡ršg
 
šfœmDeçuÉ
;

47 
	m¡d
::
¡ršg
 
w©”Lev–
;

49 
	m¡d
::
¡ršg
 
¦“pyTime
;

51 
	m¡d
::
¡ršg
 
¶ªtStus
;

52 
	m¡d
::
¡ršg
 
foodTime
;

54 
	m¡d
::
¡ršg
 
¶ªt
;

55 
	m¡d
::
¡ršg
 
w©”PÏÁs
;

56 
	m¡d
::
¡ršg
 
h¬ve¡
;

59 
boŞ
 
	m¶ªtOkay
;

60 
boŞ
 
	mw©”PÏÁsOkay
;

61 
boŞ
 
	mh¬ve¡Okay
;

64 
boŞ
 
	m¶ª‹rO±iÚsLßded
;

65 
boŞ
 
	m¶ª‹rO±iÚsF»ed
;

72 
boŞ
 
	mš‹¿ùed
;

74 
Textu»
 
	m’gEx™DeçuÉTextu»
;

76 
Textu»
 
	mhabEx™DeçuÉTextu»
;

78 
Textu»
 
	m»cDeçuÉTextu»
;

80 
Textu»
 
	mbikeDeçuÉTextu»
;

81 
Textu»
 
	mšfœmDeçuÉTextu»
;

83 
Textu»
 
	mw©”Lev–Textu»
;

84 
Textu»
 
	m¦“pyTimeTextu»
;

86 
Textu»
 
	mfoodTimeTextu»
;

88 
Textu»
 
	m¶ªtTextu»
;

89 
Textu»
 
	mw©”PÏÁsTextu»
;

90 
Textu»
 
	mh¬ve¡Textu»
;

93 
Textu»
 
	mbedTextu»
;

96 
Textu»
 
	m»cTextu»
;

97 
Textu»
 
	mbikeTextu»
;

98 
Textu»
 
	mšfœm¬yTextu»
;

99 
Textu»
 
	mw©”TªkTextu»
;

100 
Textu»
 
	m¶ª‹rTextu»
;

101 
Textu»
 
	m¶ª‹rSownTextu»
;

102 
Textu»
 
	m¶ª‹rSownW©”edTextu»
;

103 
Textu»
 
	m¶ª‹rS“dlšgTextu»
;

104 
Textu»
 
	m¶ª‹rS“dlšgW©”edTextu»
;

105 
Textu»
 
	m¶ª‹rVeg‘©iveTextu»
;

106 
Textu»
 
	m¶ª‹rVeg©©iveW©”edTextu»
;

107 
Textu»
 
	m¶ª‹rFlow”šgTextu»
;

108 
Textu»
 
	m¶ª‹rFlow”šgW©”edTextu»
;

109 
Textu»
 
	m¶ª‹rReTextu»
;

110 
Textu»
 
	m¶ª‹rReW©”edTextu»
;

112 
Textu»
 
	mhabEx™Textu»
;

113 
Textu»
 
	m’gEx™Textu»
;

115 
Textu»
 
	mk™ch’Textu»
;

117 
SDL_Reù
 
	mcŞlidabË
[
STATIONS
];

119 
SDL_Reù
 
	mš‹¿ùabË
[
STATIONS
];

121 
lßdIÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

122 
»nd”IÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

124 
lßdIÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

125 
»nd”IÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

127 
lßdIÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

128 
»nd”IÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

130 
lßdIÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

131 
»nd”IÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

133 
lßdIÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

134 
»nd”IÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

137 
lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
w©”Gauge
);

139 
»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

141 
lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

143 
»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

145 
lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

147 
»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

149 
lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

151 
»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

153 
lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
shGaugeV®ues
[]);

155 
upd©eHabPos™iÚ
(
y
);

157 
upd©eHabPos™iÚ2
(
y
);

159 
upd©eEngPos™iÚ
(
y
);

161 
upd©eEngPos™iÚ2
(
y
);

163 
»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

165 
»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

167 
»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

169 
»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

171 
ä“PÏÁ”O±iÚs
();

173 
ä“
();

175 
upd©ePÏÁ
(
timeSurvived
);

177 
	m´iv©e
:

	@C:\Sojourner\Sojourner\text.cpp

1 
	~"‹xt.h
"

3 
	g‹xt
::
	$‹xt
()

8 
	}
}

10 
‹xt
::~
	$‹xt
()

13 
	}
}

15 
‹xt
::
	$lßdText
(
SDL_R’d””
* 
»nd””
)

17 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 16 );

18 
fÚt2
 = 
	`TTF_O³nFÚt
( "fonts/PublicPixel-z84yD.ttf", 12 );

23 
	`SDL_S¹TextIÅut
();

24 
	}
}

26 
	g‹xt
::
	$lßdNemoy
(
SDL_R’d””
* 
»nd””
)

28 
fÚt
 = 
	`TTF_O³nFÚt
( "fonts/", 12);

29 
	`SDL_S¹TextIÅut
();

30 
	}
}

32 
	g‹xt
::
	$ä“
()

34 
	`TTF_Clo£FÚt
Ğ
fÚt
 );

35 
fÚt
 = 
NULL
;

36 
	}
}

	@C:\Sojourner\Sojourner\text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

15 
TTF_FÚt
* 
	mfÚt
;

17 
TTF_FÚt
* 
	mfÚt2
;

19 
lßdText
(
SDL_R’d””
* 
»nd””
);

21 
lßdNemoy
(
SDL_R’d””
* 
»nd””
);

23 
ä“
();

26 
	m´iv©e
:

	@C:\Sojourner\Sojourner\texture.cpp

1 
	~"Textu».h
"

3 
	gTextu»
::
	$Textu»
()

6 
‹xtu»
 = 
NULL
;

7 
width
 = 0;

8 
height
 = 0;

9 
	}
}

11 
	gTextu»
::~
	$Textu»
()

15 
	`ä“
();

16 
	}
}

29 
boŞ
 
	gTextu»
::
	$lßdFromFe
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
)

32 
	`ä“
();

35 
SDL_Textu»
* 
ÃwTextu»
 = 
NULL
;

38 
SDL_Surçû
* 
lßdedSurçû
 = 
	`IMG_Lßd
Ğ
·th
.
	`c_¡r
() );

39 ifĞ
lßdedSurçû
 =ğ
NULL
 )

41 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

46 
	`SDL_S‘CŞÜKey
Ğ
lßdedSurçû
, 
SDL_TRUE
, 
	`SDL_M­RGB
ĞlßdedSurçû->
fÜm©
, 0, 0xFF, 0xFF ) );

49 
ÃwTextu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
lßdedSurçû
 );

50 ifĞ
ÃwTextu»
 =ğ
NULL
 )

52 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
·th
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

57 
width
 = 
lßdedSurçû
->
w
;

58 
height
 = 
lßdedSurçû
->
h
;

62 
	`SDL_F»eSurçû
Ğ
lßdedSurçû
 );

66 
‹xtu»
 = 
ÃwTextu»
;

67  
‹xtu»
 !ğ
NULL
;

68 
	}
}

70 #ià
defšed
(
SDL_TTF_MAJOR_VERSION
)

71 
boŞ
 
	gTextu»
::
	$lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
)

74 
	`ä“
();

77 
SDL_Surçû
* 
tSurçû
 = 
	`TTF_R’d”Text_SŞid
Ğ
fÚt
, 
‹xt
.
	`c_¡r
(), 
cŞÜ
 );

78 ifĞ
tSurçû
 !ğ
NULL
 )

81 
‹xtu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
tSurçû
 );

82 ifĞ
‹xtu»
 =ğ
NULL
 )

84 
	`´štf
Ğ"UÇbËØü—‹extu» from„’d”edext! SDL E¼Ü: %s\n", 
	`SDL_G‘E¼Ü
() );

89 
width
 = 
tSurçû
->
w
;

90 
height
 = 
tSurçû
->
h
;

94 
	`SDL_F»eSurçû
Ğ
tSurçû
 );

98 
	`´štf
Ğ"UÇbËØ»nd”exˆsurçû! SDL_‰àE¼Ü: %s\n", 
	`TTF_G‘E¼Ü
() );

103  
‹xtu»
 !ğ
NULL
;

104 
	}
}

107 
	gTextu»
::
	$ä“
()

110 ifĞ
‹xtu»
 !ğ
NULL
 )

112 
	`SDL_De¡royTextu»
Ğ
‹xtu»
 );

113 
‹xtu»
 = 
NULL
;

114 
width
 = 0;

115 
height
 = 0;

117 
	}
}

119 
	gTextu»
::
	$£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 )

122 
	`SDL_S‘Textu»CŞÜMod
Ğ
‹xtu»
, 
»d
, 
g»’
, 
blue
 );

123 
	}
}

125 
	gTextu»
::
	$£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 )

128 
	`SDL_S‘Textu»BËndMode
Ğ
‹xtu»
, 
bËndšg
 );

129 
	}
}

131 
	gTextu»
::
	$£tAÍha
Ğ
Ušt8
 
®pha
 )

134 
	`SDL_S‘Textu»AÍhaMod
Ğ
‹xtu»
, 
®pha
 );

135 
	}
}

137 
	gTextu»
::
	$»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
, 
ªgË
, 
SDL_Pošt
* 
ûÁ”
, 
SDL_R’d””Fl
 
æ
, 
SDL_R’d””
* 
»nd””
 )

140 
SDL_Reù
 
»nd”Quad
 = { 
x
, 
y
, 
width
, 
height
 };

143 ifĞ
ş
 !ğ
NULL
 )

145 
»nd”Quad
.
w
 = 
ş
->w;

146 
»nd”Quad
.
h
 = 
ş
->h;

150 
	`SDL_R’d”CİyEx
Ğ
»nd””
, 
‹xtu»
, 
ş
, &
»nd”Quad
, 
ªgË
, 
ûÁ”
, 
æ
 );

151 
	}
}

153 
	gTextu»
::
	$g‘Width
()

155  
width
;

156 
	}
}

158 
	gTextu»
::
	$g‘Height
()

160  
height
;

161 
	}
}

164 
SDL_Textu»
* 
	$lßdTextu»
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
,
SDL_R’d””
* 
»nd””
 )

166 
SDL_Textu»
* 
‹xtu»
 = 
NULL
;

169 
SDL_Surçû
* 
surçû
 = 
	`IMG_Lßd
Ğ
feLoÿtiÚ
.
	`c_¡r
() );

170 ifĞ
surçû
 =ğ
NULL
 )

172 
	`´štf
Ğ"UÇbËØlßd imag%s! SDL_imagE¼Ü: %s\n", 
feLoÿtiÚ
.
	`c_¡r
(), 
	`IMG_G‘E¼Ü
() );

177 
‹xtu»
 = 
	`SDL_C»©eTextu»FromSurçû
Ğ
»nd””
, 
surçû
 );

178 ifĞ
‹xtu»
 =ğ
NULL
 )

180 
	`´štf
Ğ"UÇbËØü—‹extu» from %s! SDL E¼Ü: %s\n", 
feLoÿtiÚ
.
	`c_¡r
(), 
	`SDL_G‘E¼Ü
() );

184 
	`SDL_F»eSurçû
Ğ
surçû
 );

187  
‹xtu»
;

188 
	}
}

	@C:\Sojourner\Sojourner\texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@C:\Sojourner\Sojourner\timer.cpp

1 
	~"tim”.h
"

3 
	gtim”
::
	$tim”
()

6 
¡¬tTicks
 = 0;

7 
·u£dTicks
 = 0;

9 
·u£d
 = 
çl£
;

10 
¡¬‹d
 = 
çl£
;

11 
	}
}

13 
	gtim”
::
	$¡¬t
()

17 
¡¬‹d
 = 
Œue
;

20 
·u£d
 = 
çl£
;

23 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

24 
·u£dTicks
 = 0;

25 
	}
}

27 
	gtim”
::
	$»¡¬t
()

31 
¡¬‹d
 = 
çl£
;

34 
·u£d
 = 
çl£
;

37 
¡¬tTicks
 = 0;

38 
·u£dTicks
 = 0;

40 
¡¬‹d
 = 
Œue
;

43 
·u£d
 = 
çl£
;

46 
¡¬tTicks
 = 
	`SDL_G‘Ticks
();

47 
·u£dTicks
 = 0;

48 
	}
}

50 
	gtim”
::
	$¡İ
()

52 
¡d
::
cout
<<"\n„unningimer::stop()";

54 
¡¬‹d
 = 
çl£
;

57 
·u£d
 = 
çl£
;

60 
¡¬tTicks
 = 0;

61 
·u£dTicks
 = 0;

62 
	}
}

64 
	gtim”
::
	$·u£
()

66 
¡d
::
cout
<<"\n„unningimer::pause()";

68 ifĞ
¡¬‹d
 && !
·u£d
 )

71 
·u£d
 = 
Œue
;

79 
·u£dTicks
 = 
¡¬tTicks
;

84 
¡¬tTicks
 = 0;

85 
¡¬‹d
 = 
çl£
;

88 
	}
}

90 
	gtim”
::
	$uÅau£
()

92 
¡d
::
cout
<<"\n„unningimer::unpause()";

94 ifĞ!
¡¬‹d
 && 
·u£d
 )

97 
·u£d
 = 
çl£
;

104 
¡¬tTicks
 = 
·u£dTicks
;

110 
·u£dTicks
 = 0;

112 
¡¬‹d
 = 
Œue
;

114 
	}
}

116 
Ušt32
 
	gtim”
::
	$g‘Ticks
()

119 
Ušt32
 
time
 = 0;

122 ifĞ
¡¬‹d
 )

125 ifĞ
·u£d
 )

128 
time
 = 
·u£dTicks
;

133 
time
 = 
	`SDL_G‘Ticks
(è- 
¡¬tTicks
;

137  
time
;

138 
	}
}

140 
	gtim”
::
	$£tTicks
(
Ušt32
 
x
)

142 
¡d
::
cout
<<"\n„unningimer::setTicks(Uint32 x)";

143 
¡d
::
cout
<<"\Àx: "<<
x
;

144 
¡d
::
cout
<<"\À·u£d: "<<
·u£d
<<" s¹ed: "<<
¡¬‹d
;

145 
¡d
::
cout
<<"\À¡¬tTicks: "<<
¡¬tTicks
<<"…au£dTicks: "<<
·u£dTicks
;

146 if(
¡¬‹d
)

148 
¡¬tTicks
 = 
x
;

151 if(
·u£d
)

153 
·u£dTicks
 = 
x
;

155 
¡d
::
cout
<<"\Àaá” s‘tšgicks: s¹Ticks: "<<
¡¬tTicks
<<"…au£dTicks: "<<
·u£dTicks
;

156 
	}
}

158 
boŞ
 
	gtim”
::
	$isS¹ed
()

161  
¡¬‹d
;

162 
	}
}

164 
boŞ
 
	gtim”
::
	$isPau£d
()

167  
·u£d
 && 
¡¬‹d
;

168 
	}
}

170 
	gtim”
::
	$£tPau£d
()

172 
¡d
::
cout
<<"\n„unningimer::setPaused()";

173 
·u£d
 = 
Œue
;

174 
¡¬‹d
 = 
çl£
;

175 
	}
}

177 
	gtim”
::
	$£tUÅau£d
()

179 
¡d
::
cout
<<"\n„unningimer::setUnpaused()";

180 
·u£d
 = 
çl£
;

181 
¡¬‹d
 = 
Œue
;

182 
	}
}

184 
	gtim”
::
	$upd©ePÏyedTime
()

188 
timePÏyed
 +ğ
	`g‘Ticks
()-
·u£dTicks
;

189 
	}
}

191 
	gtim”
::
	$»¡¬tPÏyedTime
()

193 
¡d
::
cout
<<"\n„unningimer::restartPlayedTime()";

194 
timePÏyed
=0;

195 
	`¡¬t
();

196 
	}
}

198 
	gtim”
::
	$lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
)

200 
¡d
::
cout
<<"\n„unningimer::loadSavedPlayedTimeData(Uint32 saved)";

201 
¡d
::
cout
<<"\ÀtimePÏyed befÜlßdšg: "<<
timePÏyed
;

202 
timePÏyed
=
§ved
;

203 
¡d
::
cout
<<"\ÀtimePÏyed‡á”†ßdšg: "<<
timePÏyed
;

204 
	`¡¬t
();

205 
	}
}

	@C:\Sojourner\Sojourner\timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

41 
£tUÅau£d
();

44 
	m´iv©e
:

46 
Ušt32
 
¡¬tTicks
;

49 
Ušt32
 
	m·u£dTicks
;

52 
boŞ
 
	m·u£d
;

53 
boŞ
 
	m¡¬‹d
;

	@Texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@animations.h

1 #iâdeà
ANIMATIONS_H


2 
	#ANIMATIONS_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

8 cÚ¡ 
	gTAO_ANIMATION_FRAMES
 = 8;

9 cÚ¡ 
	gTOASTER_ANIMATION_FRAMES
 = 8;

11 cÚ¡ 
	gTOASTER2_ANIMATION_FRAMES
 = 3;

13 cÚ¡ 
	gBLACKSTAR_ANIMATION_FRAMES
=9;

15 cÚ¡ 
	gPORTAL_ANIMATION_FRAMES
=20;

17 cÚ¡ 
	gRAT_ANIMATION_FRAMES
=11;

19 cÚ¡ 
	gTRAILER_ANIMATION_FRAMES
=16;

22 şas 
	cªim©iÚs


24 
	mpublic
:

26 
ªim©iÚs
();

28 ~
ªim©iÚs
();

31 
tim”
 
	mªim©iÚTim”
;

34 
tim”
 
	mªim©iÚTim”2
;

36 
tim”
 
	mªim©iÚTim”3
;

39 
tim”
 
	mªim©iÚTim”4
;

40 
tim”
 
	mªim©iÚTim”5
;

41 
tim”
 
	mªim©iÚTim”6
;

42 
tim”
 
	mªim©iÚTim”7
;

45 
tim”
 
	mªim©iÚTim”8
;

47 
tim”
 
	mªim©iÚTim”9
;

49 
tim”
 
	mªim©iÚTim”10
;

51 
boŞ
 
	mªiCouÁUp
;

54 
	mªiF¿me
,
	mªiF¿me2
,
	mªiF¿me3
;

57 
	mªiF¿me4
,
	mªiF¿me5
,
	mªiF¿me6
,
	mªiF¿me7
;

59 
	mªiF¿me8
;

61 
	mªiF¿me9
;

63 
	mªiF¿me10
;

65 
	mbsX1
,
	mbsX2
,
	mbsX3
,
	mbsX4
,
	mbsY1
,
	mbsY2
,
	mbsY3
,
	mbsY4
;

68 
	mpÜlY
;

69 
	mtß¡”2X
;

72 
Textu»
 
	mo
[
TAO_ANIMATION_FRAMES
];

73 
Textu»
 
	mtß¡”
[
TOASTER_ANIMATION_FRAMES
];

74 
Textu»
 
	mtß¡”2
[
TOASTER2_ANIMATION_FRAMES
];

75 
Textu»
 
	mbÏck¡¬
[
BLACKSTAR_ANIMATION_FRAMES
];

76 
Textu»
 
	mpÜl
[
PORTAL_ANIMATION_FRAMES
];

77 
Textu»
 
	m¿t
[
RAT_ANIMATION_FRAMES
];

78 
Textu»
 
	mŒa”
[
TRAILER_ANIMATION_FRAMES
];

81 
boŞ
 
lßdC»d™sAnim©iÚTextu»s
(
SDL_R’d””
* 
»nd””
);

83 
ä“C»d™sAnim©iÚTextu»s
();

88 
»nd”Tß¡”
(
SDL_R’d””
* 
»nd””
);

95 
cyşeAnim©iÚs
();

96 
oscÏ‹CouÁ
();

100 
tß¡”Anim©iÚProg»ss
();

108 
´og»ss
();

114 
	m´iv©e
:

	@audio.h

1 #iâdeà
AUDIO_H


2 
	#AUDIO_H


	)

4 
	~"‹xtu».h
"

5 
	~<SDL_mix”.h
>

7 cÚ¡ 
	gTOTAL_SOUNDS
 = 6;

9 şas 
	caudio


11 
	mpublic
:

13 
Mix_Music
 *
music
;

14 
Mix_Chunk
 *
	msound
;

15 
Mix_Chunk
 *
	mvoiû
;

16 
audio
();

17 ~
audio
();

21 
boŞ
 
	mvoiûToggË
;

22 
boŞ
 
	mmusicToggË
;

25 
lßdMusic
();

26 
lßdCh­‹r1Music
();

27 
lßdCh­‹r2Music
();

28 
lßdCh­‹r3Music
();

30 
lßdSound
(
soundNum
);

32 
lßdVoiû
(
ch­‹r
, 
·ge
,
lše
);

34 
¶ayMusic
();

35 
·u£Music
();

36 
»sumeMusic
();

37 
¡İMusic
();

38 
boŞ
 
isPÏyšg
();

39 
¶aySound
();

40 
¶ayVoiû
();

41 
¡İVoiû
();

42 
ä“Audio
();

44 
»£tMusic
();

50 
	m´iv©e
:

	@button.h

1 #iâdeà
BUTTON_H


2 
	#BUTTON_H


	)

4 
	~"Textu».h
"

9 cÚ¡ 
	gBUTTON_WIDTH
 = 103;

10 cÚ¡ 
	gBUTTON_HEIGHT
 = 57;

15 cÚ¡ 
	gTOTAL_PREGAME_BUTTONS
 = 9;

17 cÚ¡ 
	gTOTAL_MAIN_BUTTONS
 = 4;

18 cÚ¡ 
	gTOTAL_NEWGAME_BUTTONS
 = 9;

19 cÚ¡ 
	gTOTAL_LOADGAME_BUTTONS
 = 9;

20 cÚ¡ 
	gTOTAL_OPTIONS_BUTTONS
 = 4;

21 cÚ¡ 
	gTOTAL_CREDITS_BUTTONS
 = 1;

23 cÚ¡ 
	gTOTAL_STAGE_BUTTONS
 = 3;

25 şas 
	cbu‰Ú


27 
	mpublic
:

29 
bu‰Ú
();

30 ~
bu‰Ú
();

33 
£tPos™iÚ
Ğ
x
, 
y
 );

35 
g‘Pos™iÚX
();

36 
g‘Pos™iÚY
();

38 
boŞ
 
	mfuÎSü“nToggË
;

39 
boŞ
 
	mmusicToggË
;

40 
boŞ
 
	mvoiûToggË
;

42 
boŞ
 
	mmou£Ov”
;

44 
	mcho£nSave
;

47 
hªdËPGUIEv’t
(
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

51 
hªdËSgeEv’t
Ğ
boŞ
 
š‹º®V›w
, 
¡d
::
¡ršg
 
bu‰ÚName
, 
SDL_Ev’t
* 
e
 );

54 
Textu»
 
	mbu‰ÚTextu»
;

55 
Textu»
 
	mbu‰ÚMOTextu»
;

57 
£tFuÎSü“nOn
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

58 
£tFuÎSü“nOff
(
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
);

60 
£tMusicOn
(
SDL_R’d””
* 
»nd””
);

61 
£tMusicOff
(
SDL_R’d””
* 
»nd””
);

63 
£tVoiûOn
(
SDL_R’d””
* 
»nd””
);

64 
£tVoiûOff
(
SDL_R’d””
* 
»nd””
);

66 
	m¡d
::
¡ršg
 
bu‰ÚName
;

72 
	m¡d
::
¡ršg
 
¡ageBu‰ÚNames
[
TOTAL_STAGE_BUTTONS
];

78 
£tSgeBu‰ÚName
(
i
);

81 
fuÎSü“nBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

82 
musicBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

83 
voiûBu‰ÚTextu»ToggË
(
SDL_R’d””
* 
»nd””
);

85 
	m´iv©e
:

87 
SDL_Pošt
 
pos™iÚ
;

	@module.h

1 #iâdeà
MODULE_H


2 
	#MODULE_H


	)

4 
	~"¡©iÚ.h
"

6 şas 
	cmoduË


8 
	mpublic
:

9 
moduË
();

10 ~
moduË
();

12 
¡©iÚ
 
	m¡©iÚ
;

14 
lßdModuË
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
gauge
[]);

16 
ä“
();

18 
	m´iv©e
:

	@parallax.h

1 #iâdeà
PARALLAX_H


2 
	#PARALLAX_H


	)

4 
	~"Textu».h
"

21 cÚ¡ 
	gPARALLAX_WIDTH
 = 800;

22 cÚ¡ 
	gPARALLAX_HEIGHT
 = 600;

25 şas 
	c·¿Îax


27 
	mpublic
:

29 
·¿Îax
();

30 ~
·¿Îax
();

32 
Textu»
 
	m·¿ÎaxTextu»
;

34 
SDL_Reù
 
	m·¿ÎaxReù1
;

35 
SDL_Reù
 
	m·¿ÎaxReù2
;

37 
šüem’tBack
();

38 
šüem’tFÜe
();

39 
šüem’tMid
();

40 
šüem’tAÁ”iÜMid
();

42 
¥ecŸlInüem’tFÜe
();

45 
»£tP¬®Ïx
();

46 
upd©eReùs
();

48 
¥ecŸlRe£tP¬®Ïx
();

50 
·¿ÎaxR’d”
(
SDL_R’d””
* 
»nd””
);

52 
ä“P¬®ÏxTextu»
();

54 
	m´iv©e
:

56 
·¿X
,
	m·¿Y
;

57 
	m·¿X2
,
	m·¿Y2
;

58 
	m·¿V–X
;

	@particle.h

1 #iâdeà
PARTICLE_H


2 
	#PARTICLE_H


	)

4 
	~"Textu».h
"

5 
	~"tim”.h
"

7 cÚ¡ 
	gTOTAL_PARTICLES
 = 50;

9 cÚ¡ 
	gTOTAL_FRAMES
 = 5;

11 şas 
	cP¬tişe


13 
	mpublic
:

16 
tim”
 
·¹işeTim”
;

18 
ü—‹P¬tişe
(
SDL_R’d””
* 
»nd””
);

21 
Textu»
 
	m¡¬
[
TOTAL_FRAMES
];

23 
»nd”
(
SDL_R’d””
* 
»nd””
, 
»nd”CŞÜ
);

26 
boŞ
 
isD—d
();

28 
	m»nd”CŞÜ
;

30 
šüem’tF¿me
();

33 
	m´iv©e
:

35 
·¹X
, 
	m·¹Y
;

38 
	mäame
;

	@player.h

1 #iâdeà
PLAYER_H


2 
	#PLAYER_H


	)

4 
	~"‹xtu».h
"

8 cÚ¡ 
	gIDLE_TEXTURES
=1;

9 cÚ¡ 
	gLR_TEXTURES
=7;

10 cÚ¡ 
	gDLDR_TEXTURES
=7;

11 cÚ¡ 
	gULUR_TEXTURES
=7;

12 cÚ¡ 
	gD_TEXTURES
=7;

13 cÚ¡ 
	gU_TEXTURES
=7;

15 cÚ¡ 
	gSPACE_IDLE_TEXTURES
=1;

16 cÚ¡ 
	gSPACE_LR_TEXTURES
=7;

17 cÚ¡ 
	gSPACE_DLDR_TEXTURES
=7;

18 cÚ¡ 
	gSPACE_ULUR_TEXTURES
=7;

19 cÚ¡ 
	gSPACE_D_TEXTURES
=7;

20 cÚ¡ 
	gSPACE_U_TEXTURES
=7;

24 cÚ¡ 
	gMOVE_STATES
 = 6;

27 cÚ¡ 
	gIDLE
 = 0;

29 cÚ¡ 
	gWALK_LR
 = 1;

31 cÚ¡ 
	gWALK_DLDR
 = 2;

33 cÚ¡ 
	gWALK_ULUR
 = 3;

35 cÚ¡ 
	gWALK_D
 = 4;

37 cÚ¡ 
	gWALK_U
 = 5;

39 cÚ¡ 
	gTOTAL_PLAYER_NEEDS
 = 5;

41 şas 
	c¶ay”


43 
	mpublic
:

45 
¶ay”
();

46 ~
¶ay”
();

48 cÚ¡ 
	mPLAYER_WIDTH
 = 40;

49 cÚ¡ 
	mPLAYER_HEIGHT
 = 80;

50 cÚ¡ 
	mPLAYER_VEL
 = 5;

52 
	m¶ay”BÙ
;

54 
	mmoveS‹
;

56 
	mw®kF¿me
;

58 
	mÃed
[
TOTAL_PLAYER_NEEDS
];

60 
boŞ
 
	mæHÜizÚl
;

62 
boŞ
 
	mšS·û
;

64 
boŞ
 
	mš‹¿ù
;

66 
boŞ
 
	mšRªge
;

68 
boŞ
 
	mš‹¿ùW©”Tªk
;

70 
boŞ
 
	mš‹¿ùBed
;

72 
boŞ
 
	mš‹¿ùPÏÁ”
;

74 
boŞ
 
	mš‹¿ùK™ch’
;

76 
boŞ
 
	mš‹¿ùInfœm¬y
;

78 
boŞ
 
	mš‹¿ùBike
;

80 
boŞ
 
	mš‹¿ùRec
;

82 
boŞ
 
	mš‹¿ùHabEx™
;

84 
boŞ
 
	mš‹¿ùEngEx™
;

87 
Textu»
 
	mcu¼’tTextu»
;

89 
Textu»
 
	m¶ay”Textu»
[
MOVE_STATES
][
LR_TEXTURES
];

91 
	m¡d
::
¡ršg
 
¶ay”N“ds
[
TOTAL_PLAYER_NEEDS
];

93 
modifyN“ds
(
modN“dV®ues
[]);

95 
Textu»
 
	mÃedsTextu»
[
TOTAL_PLAYER_NEEDS
];

97 
lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

99 
»lßdN“dsTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

101 
»nd”N“dsTextu»s
(
SDL_R’d””
* 
»nd””
);

103 
ä“N“dsTextu»s
();

105 
lßdPÏy”
(
SDL_R’d””
* 
»nd””
);

107 
hªdËEv’t
(
SDL_Ev’t
& 
e
);

109 
move
(
tick
, 
SDL_Reù
 
cŞlidabË
[], SDL_Reù 
š‹¿ùabË
[],
STATIONS
, 
boŞ
 
šHab
,boŞ 
šEng
);

111 
»nd”
(
SDL_R’d””
* 
»nd””
);

113 
ä“PÏy”
();

115 
£tCam”a
(
SDL_Reù
& 
ÿm”a
);

117 
g‘X
();

118 
g‘Y
();

120 
g‘PV–X
();

121 
g‘PV–Y
();

123 
£tX
(
x
);

124 
£tY
(
y
);

126 
boŞ
 
cŞlisiÚD‘eùÜ
(
SDL_Reù
 
cŞlidabË
);

130 
lßdSavedPÏy”D©a
(
Ušt32
 
d©aV®ues
[]);

132 
	m´iv©e
:

134 
¶ay”X
,
	m¶ay”Y
;

136 
	mpV–X
,
	mpV–Y
;

138 
SDL_Reù
 
	m¶ay”CŞlisiÚBox
;

	@pregameui.h

1 #iâdeà
PREGAMEUI_H


2 
	#PREGAMEUI_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

6 
	~"·¹işe.h
"

8 cÚ¡ 
	gTOTAL_SAVES
 = 3;

10 şas 
	c´egameui


12 
	mpublic
:

14 
´egameui
();

16 ~
´egameui
();

18 
boŞ
 
	mexi¡šgSave
[
TOTAL_SAVES
];

19 
boŞ
 
	m´om±D–‘e
;

20 
	md–‘eCªdid©e
;

21 
boŞ
 
	mŒigg”D–‘e
;

24 
Textu»
 
	mt™Ë
;

25 
Textu»
 
	mt™ËTextu»
;

26 
Textu»
 
	müed™sTextu»
;

27 
Textu»
 
	mİtiÚsTextu»
;

28 
Textu»
 
	mlßdGameTextu»
;

29 
Textu»
 
	mch­‹rS–eùTextu»
;

30 
Textu»
 
	m´om±D–‘eBG
;

32 
Textu»
 
	mPGUIBÏckGround
;

38 
bu‰Ú
 
	mmašBu‰Ús
[
TOTAL_MAIN_BUTTONS
];

39 
bu‰Ú
 
	mÃwgameBu‰Ús
[
TOTAL_NEWGAME_BUTTONS
];

40 
bu‰Ú
 
	mlßdgameBu‰Ús
[
TOTAL_LOADGAME_BUTTONS
];

41 
bu‰Ú
 
	mİtiÚsBu‰Ús
[
TOTAL_OPTIONS_BUTTONS
];

42 
bu‰Ú
 
	müed™sBu‰Ús
[
TOTAL_CREDITS_BUTTONS
];

45 
	m¡d
::
¡ršg
 
mašBu‰ÚNames
[
TOTAL_MAIN_BUTTONS
];

46 
	m¡d
::
¡ršg
 
ÃwgameBu‰ÚNames
[
TOTAL_NEWGAME_BUTTONS
];

47 
	m¡d
::
¡ršg
 
lßdgameBu‰ÚNames
[
TOTAL_LOADGAME_BUTTONS
];

48 
	m¡d
::
¡ršg
 
İtiÚsBu‰ÚNames
[
TOTAL_OPTIONS_BUTTONS
];

49 
	m¡d
::
¡ršg
 
üed™sBu‰ÚNames
[
TOTAL_CREDITS_BUTTONS
];

52 
lßdMašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

53 
lßdNewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

54 
lßdLßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

55 
lßdO±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

56 
lßdC»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

59 
»nd”MašBu‰Ús
(
SDL_R’d””
* 
»nd””
);

60 
»nd”NewgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

61 
»nd”LßdgameBu‰Ús
(
SDL_R’d””
* 
»nd””
);

62 
»nd”O±iÚsBu‰Ús
(
SDL_R’d””
* 
»nd””
);

63 
»nd”C»d™sBu‰Ús
(
SDL_R’d””
* 
»nd””
);

66 
ä“MašBu‰Ús
();

67 
ä“NewgameBu‰Ús
();

68 
ä“LßdgameBu‰Ús
();

69 
ä“O±iÚsBu‰Ús
();

70 
ä“C»d™sBu‰Ús
();

72 
	mcho£nSave
;

74 
hªdËBu‰Ús
Ğ
gameS‹
, 
SDL_Ev’t
* 
e
, 
SDL_Wšdow
* 
wšdow
,
SDL_R’d””
* 
»nd””
 );

77 
lßdS‹
(
ŞdGameS‹
, 
ÃwGameS‹
, 
SDL_R’d””
* 
»nd””
);

82 
boŞ
 
lßdT™ËSü“nTextu»s
(
SDL_R’d””
* 
»nd””
);

83 
boŞ
 
lßdLßdGameTextu»s
(
SDL_R’d””
* 
»nd””
);

84 
boŞ
 
lßdNewGameTextu»s
(
SDL_R’d””
* 
»nd””
);

85 
boŞ
 
lßdO±iÚsTextu»s
(
SDL_R’d””
* 
»nd””
);

86 
boŞ
 
lßdC»d™sTextu»s
(
SDL_R’d””
* 
»nd””
);

90 
ä“T™ËSü“nTextu»s
();

91 
ä“NewGameTextu»s
();

92 
ä“LßdGameTextu»s
();

93 
ä“O±iÚsTextu»s
();

94 
ä“C»d™sTextu»s
();

97 
boŞ
 
£tP»GameBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

99 
£tBu‰ÚNames
();

101 
ä“Bu‰Ús
();

103 
hªdËO±iÚsSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

105 
hªdËC»d™sSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

107 
hªdËLßdGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

109 
hªdËNewGameSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

111 
hªdËT™ËSü“nR’d”šg
(
SDL_R’d””
* 
»nd””
);

114 
P¬tişe
 
	m·¹işes
[ 
TOTAL_PARTICLES
 ];

116 
»nd”P¬tişes
(
SDL_R’d””
* 
»nd””
);

118 
ü—‹P¬tişes
(
SDL_R’d””
* 
»nd””
);

120 
boŞ
 
lßdP»gameUI
(
SDL_R’d””
* 
»nd””
,boŞ 
sucûss
);

122 
ä“
();

124 
	m´iv©e
:

	@saveGame.h

1 #iâdeà
SAVEGAME_H


2 
	#SAVEGAME_H


	)

4 
	~"Textu».h
"

5 
	~"´egameui.h
"

6 
	~"¡age.h
"

7 
	~<ùime
>

11 cÚ¡ 
	gTOTAL_DATA
 = 26;

13 cÚ¡ 
	gTOTAL_PREFS_DATA
 = 3;

15 şas 
	c§veGame


17 
	mpublic
:

20 
Sšt32
 
d©a
[ 
TOTAL_DATA
 ];

21 
Sšt32
 
	m´efsD©a
[ 
TOTAL_PREFS_DATA
 ];

23 
	m¡d
::
¡ršg¡»am
 
§vedD©e
[
TOTAL_SAVES
];

24 
	m¡d
::
¡ršg¡»am
 
§vedPÏyTime
[
TOTAL_SAVES
];

25 
Textu»
 
	m§vedD©eTextu»
[
TOTAL_SAVES
];

26 
Textu»
 
	m§vedPÏyTimeTextu»
[
TOTAL_SAVES
];

28 
boŞ
 
	mexi¡s
[
TOTAL_SAVES
];

32 
	mfeNum
;

34 cÚ¡ *
	m§veLoÿtiÚ
[
TOTAL_SAVES
] = {"savegame/save1.ssf","savegame/save2.ssf","savegame/save3.ssf"};

36 
SDL_RWİs
* 
	g´efsFe
 = 
SDL_RWFromFe
( "savegame/prefs.ssf", "r+b" );

38 
SDL_RWİs
* 
	g§veFe
;

40 
»adP»fsFe
();

43 
»adSaveFe
(
feNum
);

45 
wr™eP»fsFe
(
´egameui
…regameui);

47 
wr™eSaveFe
(
feNum
,
¡age
 sge,
Ušt32
 
¶ayedTime
);

49 
upd©eSaveD©a
(
feNum
,
¡age
 sge, 
Ušt32
 
¶ayedTime
);

51 
upd©eSavedM‘aD©a
(
feNum
,
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

53 
hªdËSavedM‘aD©aR’d”šg
(
SDL_R’d””
* 
»nd””
);

55 
lßdSaveTextTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

57 
ä“TextTextu»s
();

59 
d–‘eSave
(
feNum
);

64 
Ušt32
 
	gd©aV®ues1
[6];

66 
Ušt32
 
	gd©aV®ues2
[5];

68 
Ušt32
 
	gd©aV®ues3
[6];

70 
£tD©aV®ues
();

73 
	g´iv©e
:

	@ship.h

1 #iâdeà
SHIP_H


2 
	#SHIP_H


	)

4 
	~"moduË.h
"

6 cÚ¡ 
	gTOTAL_SHIP_GAUGES
 = 6;

8 şas 
	csh


10 
	mpublic
:

12 
sh
();

13 ~
sh
();

15 
moduË
 
	mhab™©iÚ
;

16 
moduË
 
	m’gš“ršg
;

19 
	mgauge
[
TOTAL_SHIP_GAUGES
];

21 
	m¡d
::
¡ršg
 
shGauges
[
TOTAL_SHIP_GAUGES
];

23 
modifyGauges
(
modGaugeV®ues
[]);

25 
Textu»
 
	mgaugesTextu»
[
TOTAL_SHIP_GAUGES
];

27 
lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

29 
»lßdGaugesTextu»s
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

31 
»nd”GaugesTextu»s
(
SDL_R’d””
* 
»nd””
);

33 
ä“GaugesTextu»s
();

35 
ä“
();

37 
lßdSavedShD©a
(
Ušt32
 
d©aV®ues
[]);

39 
lßdSh
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

41 
	m´iv©e
:

	@stage.h

1 #iâdeà
STAGE_H


2 
	#STAGE_H


	)

7 
	~"¶ay”.h
"

8 
	~"·¿Îax.h
"

11 
	~"sh.h
"

14 cÚ¡ 
	gTOTAL_STAGE_BACKGROUNDS
 = 6;

16 cÚ¡ 
	gTOTAL_STAGE_UI
 = 1;

18 şas 
	c¡age


20 
	mpublic
:

22 
¡age
();

24 ~
¡age
();

26 
boŞ
 
	mex‹º®V›w
;

28 
boŞ
 
	mš‹º®V›w
;

30 
boŞ
 
	mshowPÏy”
;

32 
boŞ
 
	mšHab
, 
	mšEng
;

35 
	mhabIÁ”ÇlY1
;

36 
	mhabIÁ”ÇlY2
;

38 
	m’gIÁ”ÇlY1
;

39 
	m’gIÁ”ÇlY2
;

41 
	mtimeSurvived
;

43 
Textu»
 
	mdaysSurvived
;

44 
Textu»
 
	mhoursSurvived
;

45 
Textu»
 
	mmšu‹sSurvived
;

50 
TTF_FÚt
 *
	mfÚt
;

52 
Textu»
 
	mthªksTextu»
;

54 
·¿Îax
 
	m¡¬sFÜe
;

55 
·¿Îax
 
	m¡¬sMid
;

56 
·¿Îax
 
	m¡¬sBack
;

58 
	m¡d
::
¡ršg
 
cou¿ge
;

60 
Textu»
 
	mcou¿geTextu»
;

62 
bu‰Ú
 
	mbu‰Ús
[
TOTAL_STAGE_BUTTONS
];

64 
	m¡d
::
¡ršg
 
bgFeName
[
TOTAL_STAGE_BACKGROUNDS
];

66 
Textu»
 
	m¡age1BG
[
TOTAL_STAGE_BACKGROUNDS
];

68 
	m¡d
::
¡ršg
 
uiFeName
[
TOTAL_STAGE_UI
];

70 
Textu»
 
	mUI
[
TOTAL_STAGE_UI
];

72 
ä“Bu‰Ús
();

73 
ä“BGTextu»s
();

74 
ä“UITextu»s
();

76 
¡¬sHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

78 
boŞ
 
£tSgeBu‰ÚTextu»s
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

80 
boŞ
 
£tSgeTextu»s
(
SDL_R’d””
* 
»nd””
);

82 
£tFeNames
();

84 
£tBu‰ÚNames
();

86 
hªdËSgeBu‰ÚP»s£s
(
SDL_R’d””
* 
»nd””
, 
gameS‹
);

88 
hªdËBu‰Ús
(
SDL_R’d””
* 
»nd””
, 
SDL_Ev’t
* 
e
 );

91 
¶ay”
 
	m¶ay”1
;

93 
¡©iÚ
 
	m¡©iÚ
;

95 
sh
 
	msh
;

97 
boŞ
 
lßdSge
(
SDL_R’d””
* 
»nd””
, boŞ 
sucûss
);

99 
ä“
();

101 
»nd”Sge1
(
SDL_R’d””
* 
»nd””
);

103 
lßdFÚt
();

105 
habIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

107 
’gIÁ”ÇlHªdËP¬®Ïx
(
SDL_R’d””
* 
»nd””
);

109 
move
(
couÁedF¿mes
);

111 
£tNewgameV¬s
();

113 
lßdSavedGameD©a
(
Ušt32
 
d©aV®ues
[]);

115 
hªdËPÏÁ”
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

117 
lßdTimeSurvivedTextu»s
(
SDL_R’d””
* 
»nd””
);

119 
»nd”TimeSurvivedTextTextu»s
(
SDL_R’d””
* 
»nd””
);

121 
ä“TimeSurvivedTextu»s
();

123 
»äeshTS
(
SDL_R’d””
* 
»nd””
);

125 
	m´iv©e
:

	@station.h

1 #iâdeà
STATION_H


2 
	#STATION_H


	)

4 
	~"‹xtu».h
"

5 
	~"bu‰Ú.h
"

7 şas 
	c¡©iÚ


9 
	mpublic
:

11 
¡©iÚ
();

13 ~
¡©iÚ
();

15 
	mbedX
, 
	mbedY
,
	mbedH
,
	mbedBÙ
;

17 
	mw©”TªkX
, 
	mw©”TªkY
,
	mw©”TªkH
,
	mw©”TªkBÙ
;

19 
	m¶ª‹rX
,
	m¶ª‹rY
,
	m¶ª‹rH
,
	m¶ª‹rBÙ
;

21 
	mk™ch’X
,
	mk™ch’Y
,
	mk™ch’H
,
	mk™ch’BÙ
;

23 
	mšfœmX
, 
	mšfœmY
,
	mšfœmH
,
	mšfœmBÙ
;

25 
	mbikeX
,
	mbikeY
,
	mbikeH
,
	mbikeBÙ
;

27 
	m»cX
,
	m»cY
,
	m»cH
,
	m»cBÙ
;

29 
	mhabEx™X
, 
	mhabEx™Y
,
	mhabEx™H
,
	mhabEx™BÙ
;

31 
	m’gEx™X
, 
	m’gEx™Y
,
	m’gEx™H
,
	m’gEx™BÙ
;

33 
	m¶ª‹rTimeW©”ed
, 
	m¶ª‹rDaysS‹
, 
	m¶ª‹rS‹
;

35 cÚ¡ 
	mSTATIONS
 = 9;

38 
	m¡d
::
¡ršg
 
’gEx™DeçuÉ
;

40 
	m¡d
::
¡ršg
 
habEx™DeçuÉ
;

42 
	m¡d
::
¡ršg
 
»cDeçuÉ
;

44 
	m¡d
::
¡ršg
 
bikeDeçuÉ
;

45 
	m¡d
::
¡ršg
 
šfœmDeçuÉ
;

47 
	m¡d
::
¡ršg
 
w©”Lev–
;

49 
	m¡d
::
¡ršg
 
¦“pyTime
;

51 
	m¡d
::
¡ršg
 
¶ªtStus
;

52 
	m¡d
::
¡ršg
 
foodTime
;

54 
	m¡d
::
¡ršg
 
¶ªt
;

55 
	m¡d
::
¡ršg
 
w©”PÏÁs
;

56 
	m¡d
::
¡ršg
 
h¬ve¡
;

59 
boŞ
 
	m¶ªtOkay
;

60 
boŞ
 
	mw©”PÏÁsOkay
;

61 
boŞ
 
	mh¬ve¡Okay
;

64 
boŞ
 
	m¶ª‹rO±iÚsLßded
;

65 
boŞ
 
	m¶ª‹rO±iÚsF»ed
;

72 
boŞ
 
	mš‹¿ùed
;

74 
Textu»
 
	m’gEx™DeçuÉTextu»
;

76 
Textu»
 
	mhabEx™DeçuÉTextu»
;

78 
Textu»
 
	m»cDeçuÉTextu»
;

80 
Textu»
 
	mbikeDeçuÉTextu»
;

81 
Textu»
 
	mšfœmDeçuÉTextu»
;

83 
Textu»
 
	mw©”Lev–Textu»
;

84 
Textu»
 
	m¦“pyTimeTextu»
;

86 
Textu»
 
	mfoodTimeTextu»
;

88 
Textu»
 
	m¶ªtTextu»
;

89 
Textu»
 
	mw©”PÏÁsTextu»
;

90 
Textu»
 
	mh¬ve¡Textu»
;

93 
Textu»
 
	mbedTextu»
;

96 
Textu»
 
	m»cTextu»
;

97 
Textu»
 
	mbikeTextu»
;

98 
Textu»
 
	mšfœm¬yTextu»
;

99 
Textu»
 
	mw©”TªkTextu»
;

100 
Textu»
 
	m¶ª‹rTextu»
;

101 
Textu»
 
	m¶ª‹rSownTextu»
;

102 
Textu»
 
	m¶ª‹rSownW©”edTextu»
;

103 
Textu»
 
	m¶ª‹rS“dlšgTextu»
;

104 
Textu»
 
	m¶ª‹rS“dlšgW©”edTextu»
;

105 
Textu»
 
	m¶ª‹rVeg‘©iveTextu»
;

106 
Textu»
 
	m¶ª‹rVeg©©iveW©”edTextu»
;

107 
Textu»
 
	m¶ª‹rFlow”šgTextu»
;

108 
Textu»
 
	m¶ª‹rFlow”šgW©”edTextu»
;

109 
Textu»
 
	m¶ª‹rReTextu»
;

110 
Textu»
 
	m¶ª‹rReW©”edTextu»
;

112 
Textu»
 
	mhabEx™Textu»
;

113 
Textu»
 
	m’gEx™Textu»
;

115 
Textu»
 
	mk™ch’Textu»
;

117 
SDL_Reù
 
	mcŞlidabË
[
STATIONS
];

119 
SDL_Reù
 
	mš‹¿ùabË
[
STATIONS
];

121 
lßdIÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

122 
»nd”IÁ”aùEngEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

124 
lßdIÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

125 
»nd”IÁ”aùHabEx™
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

127 
lßdIÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

128 
»nd”IÁ”aùRec
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

130 
lßdIÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

131 
»nd”IÁ”aùBike
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

133 
lßdIÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

134 
»nd”IÁ”aùInfœm¬y
(
SDL_R’d””
* 
»nd””
, 
x
, 
y
);

137 
lßdIÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
w©”Gauge
);

139 
»nd”IÁ”aùW©”Tªk
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

141 
lßdIÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

143 
»nd”IÁ”aùBed
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

145 
lßdIÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
);

147 
»nd”IÁ”aùPÏÁ”
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

149 
lßdIÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
, 
TTF_FÚt
* 
fÚt
);

151 
»nd”IÁ”aùK™ch’
(
SDL_R’d””
* 
»nd””
,
x
, 
y
);

153 
lßdStiÚ
(
SDL_R’d””
* 
»nd””
,
TTF_FÚt
* 
fÚt
, 
shGaugeV®ues
[]);

155 
upd©eHabPos™iÚ
(
y
);

157 
upd©eHabPos™iÚ2
(
y
);

159 
upd©eEngPos™iÚ
(
y
);

161 
upd©eEngPos™iÚ2
(
y
);

163 
»nd”HabStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
,
¶ay”BÙ
);

165 
»nd”HabStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

167 
»nd”EngStiÚBehšdPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

169 
»nd”EngStiÚFrÚtPÏy”
(
SDL_R’d””
* 
»nd””
, 
¶ay”BÙ
);

171 
ä“PÏÁ”O±iÚs
();

173 
ä“
();

175 
upd©ePÏÁ
(
timeSurvived
);

177 
	m´iv©e
:

	@text.h

1 #iâdeà
TEXT_H


2 
	#TEXT_H


	)

4 
	~"‹xtu».h
"

6 şas 
	c‹xt


8 
	mpublic
:

10 
‹xt
();

12 ~
‹xt
();

15 
TTF_FÚt
* 
	mfÚt
;

17 
TTF_FÚt
* 
	mfÚt2
;

19 
lßdText
(
SDL_R’d””
* 
»nd””
);

21 
lßdNemoy
(
SDL_R’d””
* 
»nd””
);

23 
ä“
();

26 
	m´iv©e
:

	@texture.h

1 #iâdeà
TEXTURE_H


2 
	#TEXTURE_H


	)

4 
	~"SDL.h
"

5 
	~<SDL_‰f.h
>

6 
	~"¡ršg
"

8 
	~"¡dio.h
"

9 
	~"s¡»am
"

10 
	~"SDL_image.h
"

11 
	~<cm©h
>

12 
	~<¡ddef.h
>

13 
	~<io¡»am
>

16 
	~<as£¹.h
>

17 
	~<veùÜ
>

18 
	~"c¡dlib
"

20 cÚ¡ 
	gSCREEN_WIDTH
 = 800;

21 cÚ¡ 
	gSCREEN_HEIGHT
 = 600;

24 şas 
	cTextu»


26 
	mpublic
:

28 
Textu»
();

31 ~
Textu»
();

34 
SDL_Textu»
* 
lßdTextu»
Ğ
¡d
::
¡ršg
 
·th
,
SDL_R’d””
* 
»nd””
);

39 
boŞ
 
lßdFromFe
Ğ
¡d
::
¡ršg
 
feLoÿtiÚ
, 
SDL_R’d””
* 
»nd””
);

41 #ià
	$defšed
(
SDL_TTF_MAJOR_VERSION
)

43 
boŞ
 
	`lßdFromR’d”edText
Ğ
¡d
::
¡ršg
 
‹xt
, 
SDL_CŞÜ
 
cŞÜ
,
TTF_FÚt
* 
fÚt
,
SDL_R’d””
* 
»nd””
 );

47 
	`ä“
();

50 
	`£tCŞÜ
Ğ
Ušt8
 
»d
, Ušt8 
g»’
, Ušt8 
blue
 );

53 
	`£tBËndMode
Ğ
SDL_BËndMode
 
bËndšg
 );

56 
	`£tAÍha
Ğ
Ušt8
 
®pha
 );

59 
	`»nd”
Ğ
x
, 
y
, 
SDL_Reù
* 
ş
 = 
NULL
, 
ªgË
 = 0.0, 
SDL_Pošt
* 
ûÁ”
 = NULL, 
SDL_R’d””Fl
 
æ
 = 
SDL_FLIP_NONE
,
SDL_R’d””
* 
»nd””
=NULL );

62 
	`g‘Width
();

63 
	`g‘Height
();

67 
´iv©e
:

69 
SDL_Textu»
* 
‹xtu»
;

72 
width
;

73 
height
;

	@timer.h

1 #iâdeà
TIMER_H


2 
	#TIMER_H


	)

4 
	~"Textu».h
"

6 cÚ¡ 
	gSCREEN_FPS
=60;

7 cÚ¡ 
	gSCREEN_TICK_PER_FRAME
 = 1000 / 
SCREEN_FPS
;

10 şas 
	ctim”


12 
	mpublic
:

14 
tim”
();

17 
¡¬t
();

18 
¡İ
();

19 
»¡¬t
();

20 
·u£
();

21 
uÅau£
();

24 
Ušt32
 
g‘Ticks
();

27 
£tTicks
(
Ušt32
 
x
);

30 
boŞ
 
isS¹ed
();

31 
boŞ
 
isPau£d
();

33 
Ušt32
 
	mtimePÏyed
;

35 
upd©ePÏyedTime
();

36 
»¡¬tPÏyedTime
();

38 
lßdSavedPÏyedTimeD©a
(
Ušt32
 
§ved
);

40 
£tPau£d
();

41 
£tUÅau£d
();

44 
	m´iv©e
:

46 
Ušt32
 
¡¬tTicks
;

49 
Ušt32
 
	m·u£dTicks
;

52 
boŞ
 
	m·u£d
;

53 
boŞ
 
	m¡¬‹d
;

	@
1
.
1
/usr/include
50
1292
C:\Sojourner\Sojourner\Main.cpp
C:\Sojourner\Sojourner\animations.cpp
C:\Sojourner\Sojourner\animations.h
C:\Sojourner\Sojourner\audio.cpp
C:\Sojourner\Sojourner\audio.h
C:\Sojourner\Sojourner\button.cpp
C:\Sojourner\Sojourner\button.h
C:\Sojourner\Sojourner\chapter.cpp
C:\Sojourner\Sojourner\chapter.h
C:\Sojourner\Sojourner\module.cpp
C:\Sojourner\Sojourner\module.h
C:\Sojourner\Sojourner\myicon.rc
C:\Sojourner\Sojourner\parallax.cpp
C:\Sojourner\Sojourner\parallax.h
C:\Sojourner\Sojourner\particle.cpp
C:\Sojourner\Sojourner\particle.h
C:\Sojourner\Sojourner\player.cpp
C:\Sojourner\Sojourner\player.h
C:\Sojourner\Sojourner\pregameui.cpp
C:\Sojourner\Sojourner\pregameui.h
C:\Sojourner\Sojourner\saveGame.cpp
C:\Sojourner\Sojourner\saveGame.h
C:\Sojourner\Sojourner\ship.cpp
C:\Sojourner\Sojourner\ship.h
C:\Sojourner\Sojourner\stage.cpp
C:\Sojourner\Sojourner\stage.h
C:\Sojourner\Sojourner\station.cpp
C:\Sojourner\Sojourner\station.h
C:\Sojourner\Sojourner\text.cpp
C:\Sojourner\Sojourner\text.h
C:\Sojourner\Sojourner\texture.cpp
C:\Sojourner\Sojourner\texture.h
C:\Sojourner\Sojourner\timer.cpp
C:\Sojourner\Sojourner\timer.h
Texture.h
animations.h
audio.h
button.h
module.h
parallax.h
particle.h
player.h
pregameui.h
saveGame.h
ship.h
stage.h
station.h
text.h
texture.h
timer.h
